[
    {
        "subreddit": "GoogleTagManager",
        "created": 1756273514.0,
        "title": "Extract response headers from an HTTP response",
        "author": "Ramiittaa",
        "id": "1n18w68",
        "selftext": ">Hi guys, I'm trying to extract data from the headers of an API HTTP response, but I can't figure out how. Any advice on how to do this?",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1n18w68/extract_response_headers_from_an_http_response/",
        "num_comments": 4,
        "comments": [
            {
                "body": "We are talking server side gtm, right?\nIn that case, check out the documentation here:\nhttps://developers.google.com/tag-platform/tag-manager/server-side/api#sendHttpRequest\n\nThe example code shows how to access response headers.",
                "author": "boyster_",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Or even easier, just use the Request Header varaible type",
                "author": "Taca-F",
                "score": 1
            },
            {
                "body": "That's for the request not for the response, isn't it?",
                "author": "Ramiittaa",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1751911365.0,
        "title": "Data Client Tags Issue – 200 Response, No Output. No Data Event",
        "author": "Acrobatic_Poetry6070",
        "id": "1lu19h0",
        "selftext": "Hey, could you take a look and see if the Data Client tags are set up properly? Really appreciate any pointers!  \nCheck if the Data Client tags are configured correctly.Things are happening just like in the screenshots. Why do I see a 200 response, but there’s no event data, and two messages appear in the console?\n\n  \nHere’s the HTTP request link [HTTP request](https://docs.google.com/document/d/1zAKuf7u2eTS_2vJTtMsloah9dtW8CpCQCg2SqeyxOZ4/edit?tab=t.0)\n\nI’m sending the GTM and SGTM containers, maybe someone can find the error faster this way. [Unique ](https://we.tl/t-RPt1lxaHKl)[SGTM & GTM containers](https://wetransfer.com/downloads/1b6b10a04bd4136118043feec1f7f95720250707175058/ebf345?t_exp=1752169858&t_lsid=18e30a37-414e-49cd-b5e6-01411943402a&t_network=link&t_rid=ZW1haWx8YWRyb2l0fDVlYTAyYjllLTY4MzAtNDhmOS1iMjI5LWIyMDRkYjUyYzhiYw==&t_s=download_link&t_ts=1751910658)\n\nThank you for your help!",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1lu19h0/data_client_tags_issue_200_response_no_output_no/",
        "num_comments": 2,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "did you got the solution?",
                "author": "az_basit",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1719437869.0,
        "title": "HTTP Request Response Body and Variables",
        "author": "Ch1ck3nfl0w",
        "id": "1dpabsd",
        "selftext": "I am using the HTTP JSON Request tag at the server side to send informations to N8N, reading data from my database and sending this data back to GTM as a response in the body.\n\nI want to know how turn the response body information into variables so I can send this data foward to Facebook API",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1dpabsd/http_request_response_body_and_variables/",
        "num_comments": 6,
        "comments": [
            {
                "body": "I think you need to use a HTTP request variable. There is a custom template from Stape, if I recall correctly.\n\nLE: It's called HTTP Lookup",
                "author": "MariusGMG",
                "score": 3
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Use the Facebook Conversion API Tag instead it works best.",
                "author": "MarketerErfan_",
                "score": 1
            },
            {
                "body": "I am using it, what I'm doing is receiving a purchase webhook with some data from a third party sales platform, then I'm checking my database to enrich that data with more information and only then I'll send all the info to the Facebook API Tag",
                "author": "Ch1ck3nfl0w",
                "score": 1
            },
            {
                "body": "Thanks, I solved the problem that way, it was easier than trying to fetch the response data",
                "author": "Ch1ck3nfl0w",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1668441257.0,
        "title": "What can cause the high 'initial server response time'?",
        "author": "se0beas8",
        "id": "yv3gns",
        "selftext": " \n\nI'm working on page speed optimization of a wordpress blog and I'm using pagespeed insights tool for it.  \nIt's showing high 'initial server response time' of 600 ms to 900 ms.\n\nMy GTM had 4 to 5 tags running. For the experiement, I paused all of them and kept only empty gtm running. It was showing initial server time of 600 ms. Then I enabled UA script only which trigges on 'dom-ready'. My GTM itself is delayed by 1700ms. Now, it shows initial server time of 900ms.\n\nThe other factors are as below:\n\n1. I'm using vultr's high frequency cloud compute shared plan of $6.\n2. My server is located in US\n3. The daily traffic is hardly 20 users/day\n4. I'm using opnelitespeed server and litespeed cache plugin for optimization and caching purpose\n5. I'm using cloudflare as CDN\n6. Base theme is astra\n7. Most of the custom theme is hard coded and optimized for speed.\n8. GTM has UA tag, GA4 tag, MS clarity, pinterest tag and GA4-test tag\n9. For css, one css file of main theme, then 1 or 2 page specific css files for child theme. They are not showing any delay.\n10. There is only one js file for my site. It is minimal and coded in vanilla js. I'm not using any library like jquery.\n11. There are average 4 to 6 max images on each page but none of them is above the fold and they're lazy loaded. The average size of each image is around 80kb **but wordpress seems to be scaling them up to 120 kb. I don't know why.**\n12. The number of requests range from 27 to 31 max.\n13. The high sized files are third party scripts like UA which average around 120 kb.\n14. HTML page size is below 1 mb.\n\nIf scripts or images were the cause, they would have contributed to high Total blocking time, or time to interactive.\n\nTLDR; I'm not able to understand what's causing initial server response time as my html is not heavy, base theme is astra, scripts are delayed, images are optimized and lazily loaded, server isn't very basic, caching and cdn are implemented.\n\nWhat can be the reason?",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/yv3gns/what_can_cause_the_high_initial_server_response/",
        "num_comments": 3,
        "comments": [
            {
                "body": "Initial server response time isn't related to your scripts or anything like that.\n\nIt's that your server is taking too long to respond to each request. The time it's referring to is between your browser sending the request and the browser recording the first byte of the response from your server.\n\nThis sounds like more of a network configuration issue, not a GTM issue, and suspect it might be a common symptom of using shared server resources.\n\nAs a side note, you can track this response time using the JS Performance API. I do this on every pageview to get a real-world understanding of how my users are *actually* experiencing the site.",
                "author": "spiteful-vengeance",
                "score": 1
            },
            {
                "body": "Try setting up a reverse proxy to cache requests to your site.",
                "author": "tresslessone",
                "score": 1
            },
            {
                "body": "Look into afterLoad event, might help with load speed. Good resource for this is Analytics mania",
                "author": "Zanenda",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1644862109.0,
        "title": "\"No HTTP response detected\"",
        "author": "jackylegz42",
        "id": "ssh3tj",
        "selftext": "My Floodlights are showing when I click on various buttons, but I am receiving an error message of \"No HTTP response detected\" in the Google Tag Assistant extension. Any ideas on what could be going wrong here?",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/ssh3tj/no_http_response_detected/",
        "num_comments": 2,
        "comments": [
            {
                "body": "Do you use AdBlock or similar tools? Sometimes they cause that error.",
                "author": "Gizmotion92",
                "score": 1
            },
            {
                "body": "it turns out the client just doesn't have their site setup to utilize Campaign Manager 360 and thus the floodlights we setup in GTM weren't able to communicate data back lol.",
                "author": "jackylegz42",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1755703062.0,
        "title": "GA4 not receiving events even though GTM shows them firing",
        "author": "Plastic-Schedule-629",
        "id": "1mvhoen",
        "selftext": "Hi all,\n\nHas anyone run into a case where GA4 events set up in GTM fire correctly in GTM’s debug mode, but the event data doesn’t make it into GA4—neither in the platform nor in GA4’s debug view? If so, how did you go about fixing for it.\n\nAny advice would be greatly appreciated!\n\nFor further reference, \n\n\\- It's a wordpress site and GTM's base code has been placed on the HEADER & FOOTER section.  \n\\- Measurement ID on the event tags are correct  \n",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1mvhoen/ga4_not_receiving_events_even_though_gtm_shows/",
        "num_comments": 38,
        "comments": [
            {
                "body": "are GTM changes published ?",
                "author": "MustacheManiaDotCom",
                "score": 2
            },
            {
                "body": "+1 for the earlier mention of checking if GTM container is published, also if you made changes to it after publishing and you have open changes also make sure to publish.\n\nDo you have consent mode, do you use a CMP default consent set to denied and is a cookie consent update datalayer event available?\n\nIn the debug mode, if looking at debug screen. Somewhere top middle (on top of where dataLayers etc are shown), you’ll see your GTM id, if your GA4 property loaded in as well it should be right next to it. You could click it to basically debug  GA4 and see if the event was actually sent to your GA4 property.\n\nDownloading the Google analytics debugger plugin and turning it on often fixes my GA4 debugger issues.\n\nPm me your url if you want to and I can check in a second if anything’s happening",
                "author": "Pretty-Appearance226",
                "score": 2
            },
            {
                "body": "What does the realtime report tell you? \n\nI know the debugger exists for this reason, but I find it easy to check the realtime report just in case.",
                "author": "GetTerms-Alistair",
                "score": 2
            },
            {
                "body": "What was the issue?",
                "author": "Plastic-Schedule-629",
                "score": 2
            },
            {
                "body": "Hmm, maybe you have some left over consent mode code left on your site. Would you be open to sending me a URL privately? Maybe I can help. \n\nCheck your tags to see there is no consent related tags running on consent initialization. \n\nThe fact that the consent default event is sending is odd. But if it is granted, events should still work. Consent overview won't do anything but allow you to see and manage which tags have consent mode enabled. It won't send events.",
                "author": "GetTerms-Alistair",
                "score": 2
            },
            {
                "body": "Could you elaborate? What does variables have anything to do with events firing on ga4? —especially if the event and trigger is correct?",
                "author": "Plastic-Schedule-629",
                "score": 2
            },
            {
                "body": "Nice, just saw this. Ill take a look in the morning for you:) hopefully I can help!",
                "author": "GetTerms-Alistair",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "1. Check your data stream, Ensure that your current website is connected.\n2. Check the google tag properly configured \n3. Check the measurement ID \n\nEnsure these three things, I guess the problem is here.",
                "author": "motiur_ak07",
                "score": 1
            },
            {
                "body": "In debug,  check the device. You may have two and your checking the wrong one. It's the little circle just above and to the left of the event flow. Not that I've ever done this.",
                "author": "NoAge358",
                "score": 1
            },
            {
                "body": "If the consent is set to rejected the tags still fire in preview mode, but the data never reaches GA, as it should. Go in the preview mode, you can easily check this, you need consent granted, the event fired and you can confirm the events being received in the GA4 debug view.",
                "author": "Neinhalt_Sieger",
                "score": 1
            },
            {
                "body": "Yup, changes are published!",
                "author": "Plastic-Schedule-629",
                "score": 1
            },
            {
                "body": "Thank you! Just pm’d! Lmk what you can fjnd",
                "author": "Plastic-Schedule-629",
                "score": 1
            },
            {
                "body": "But yes no events on ga4’s debug nor on gtm’s ga4 debug tab (at the top). Everything checks out, but events aren’t passing on ga4",
                "author": "Plastic-Schedule-629",
                "score": 1
            },
            {
                "body": "I’m having a similar issue. The event fires correctly for the conversion count but not the conversion value. Do you have any ideas on what could be the issue? I’ve been working on fixing it by myself and with Google tag team with no success.",
                "author": "anon2635",
                "score": 1
            },
            {
                "body": "Nothing hits of those new events on real time. The issue is that they don’t even have a consent banner on site. But consent overview was turned on. On debug i do see consent default granted hits being sent",
                "author": "Plastic-Schedule-629",
                "score": 1
            },
            {
                "body": "all 3 are correct. GA4 Base tag is set to fire on all pages-- my first guess was either consent related and/or base tag wasn't firing before event tags",
                "author": "Plastic-Schedule-629",
                "score": 1
            },
            {
                "body": "I’m having a similar issue. The event fires correctly for the conversion count but not the conversion value. Do you have any ideas on what could be the issue? I’ve been working on fixing it by myself and with Google tag team with no success.",
                "author": "anon2635",
                "score": 1
            },
            {
                "body": "No checking the correct one. Nothing happens. The events on ga4 for the new ones are extremely deflated.",
                "author": "Plastic-Schedule-629",
                "score": 1
            },
            {
                "body": "Yes but you can check on debug if the consent was granted/not-granted via the G111 consent row. The issue is that i am seeing G111 (which is consent granted) across all the events but doesn’t reach ga4 for some reason. Or if it even does it’s VERY deflated.",
                "author": "Plastic-Schedule-629",
                "score": 1
            },
            {
                "body": "I’m having a similar issue. The event fires correctly for the conversion count but not the conversion value. Do you have any ideas on what could be the issue? I’ve been working on fixing it by myself and with Google tag team with no success.",
                "author": "anon2635",
                "score": 1
            },
            {
                "body": "What kind of conversion are you talking about and is it sent to the datalayer? Is the value sent as an int value and not as a string? If a string is used it wouldn’t work since it’s expecting an int value",
                "author": "Pretty-Appearance226",
                "score": 1
            },
            {
                "body": "This is not a consent issue, GA4 setup issue",
                "author": "motiur_ak07",
                "score": 1
            },
            {
                "body": "Need to see your datalayer structure, variable list, variable pulling method, variable naming order (Value or value) and variable structure also (number/string).\nBetter you share the screenshot or you can schedule a call",
                "author": "motiur_ak07",
                "score": 1
            },
            {
                "body": "This is actually good news, if you can confirm the event fires but some data is not sent, check the trigger for the conversion value. You need to be sure it exists in the data layer, and if it does exist if you are triggering it by it's corect identifier.",
                "author": "Neinhalt_Sieger",
                "score": 1
            },
            {
                "body": "He said it was a variables issue.",
                "author": "WebsiteCatalyst",
                "score": 1
            },
            {
                "body": "Hi, i just sent you a pm!",
                "author": "Plastic-Schedule-629",
                "score": 1
            },
            {
                "body": "Re-consent thats what i don’t understand as well. The site doesn’t have any consent banner so idk why client had consent overview turned on. \n\nSome events do fire normally with g111 status but the net new events what we had set up doesn’t fire on ga4 despite seeing them fire on gtm debug.",
                "author": "Plastic-Schedule-629",
                "score": 1
            },
            {
                "body": "How can I schedule a call? I’m not sure I know where to get all the requested information",
                "author": "anon2635",
                "score": 1
            },
            {
                "body": "Thanks! I’ll do that and will report back. I appreciate your help.",
                "author": "anon2635",
                "score": 1
            },
            {
                "body": "Sent you a response :)",
                "author": "GetTerms-Alistair",
                "score": 1
            },
            {
                "body": "Zoom call",
                "author": "motiur_ak07",
                "score": 1
            },
            {
                "body": "Would Google Meets work?",
                "author": "anon2635",
                "score": 1
            },
            {
                "body": "No problem",
                "author": "motiur_ak07",
                "score": 1
            },
            {
                "body": "Let me know your availability",
                "author": "motiur_ak07",
                "score": 1
            },
            {
                "body": "I’m available now if you are or whenever works for you. I’m current traveling so I have quite a bit of availability. I’ll send you a DM with the Google Meets link.",
                "author": "anon2635",
                "score": 1
            },
            {
                "body": "I had my tracker fix that for me today.\n\nHe was busy an hour to troubleshoot.",
                "author": "WebsiteCatalyst",
                "score": 0
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1759925234.0,
        "title": "How the hell do you assign event to correct source/medium with Measurement API?",
        "author": "Ill_Dare8819",
        "id": "1o18m3x",
        "selftext": "# My current case\n\nI need to track purchase events using Server-Side GTM and the Measurement Protocol.\n\n# What I’ve done so far\n\n1. Set up a web GTM container.\n2. Set up a server-side GTM container and configured routing to a custom subdomain, so my sGTM container runs on a subdomain like **subdomain example com**\n3. In the web GTM container, created a Google Tag and added the server\\_container\\_url parameter with a link to the server-side GTM.\n4. In the web container, added all e-commerce events except the purchase event.\n5. In the server-side GTM, added a GA4 client and a Measurement Protocol client with the /mp/collect/ path.\n6. Tested the setup — everything works fine.\n\n# The purchase event\n\nHere’s the code I used for testing.  \n(I’ve replaced the client\\_id and session\\_id parameters with placeholders.)\n\n# Test steps:\n\n1. Opened the browser in incognito mode.\n2. Went to my website from Google Search (.\n3. In the developer console, ran the following code:\n   1. `gtag(\"get\", \"G-XXXXXXX\", \"client_id\", id => console.log(id));` \n   2. `gtag(\"get\", \"G-XXXXXXX\", \"session_id\", id => console.log(id));` \n4. Copied the returned values and pasted them into the Python code below.\n\n# Python test code:\n\n    import requests\n    \n    headers = {\n        \"X-Gtm-Server-Preview\": \"X-Gtm-Server-Preview-Header-Value\"  # to check if sGTM receives the request\n    }\n    \n    payload = {\n        \"client_id\": \"1111111111.1111111111\",\n        \"non_personalized_ads\": False,\n        \"events\": [{\n            \"name\": \"organic_event_test\",\n            \"params\": {\n                \"debug_mode\": 1,\n                \"ga_session_id\": 1111111111\n            }\n        }]\n    }\n    \n    response = requests.post(\n        url=\"https://subdomain.example.com/mp/collect?measurement_id=G-XXXXXX&api_secret=my_api_secret\",\n        json=payload,\n        headers=headers\n    )\n    \n    print(response)\n    print(response.headers)\n    \n\n# Results\n\n1. Despite having the \"debug\\_mode\": 1 parameter in the request, I didn’t see the event in GA4 DebugView, but it appeared in the Realtime Report.\n2. Even though both session\\_id and client\\_id were present, the test event’s source/medium is shown as (not set).\n\n# Google, what the hell? Please, could you care a bit more about your own products and solutions and provide clear documentation on how to setup things to work and not searching through 10000000 articles?",
        "score": 6,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1o18m3x/how_the_hell_do_you_assign_event_to_correct/",
        "num_comments": 18,
        "comments": [
            {
                "body": "And still no dice? Are you using the GA4 server tag to send the event, or is the server making a custom HTTP POST request?\n\nThe standard GA4 tag that comes with the server container may not work properly for measurement protocol requests, since it won't send to the measurement protocol endpoint.\n\nIf it's just sending to the usual GA4 endpoint, then it likely wouldn't know that it needs to go look up the session information based on the session ID.\n\nIt ultimately needs to hit that /mp/collect endpoint on GA4 servers, like you can see in the example here: https://developers.google.com/analytics/devguides/collection/protocol/ga4/sending-events?client_type=gtag#try_it",
                "author": "winless",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Hmmm, but wait a minute. Could you share the source of the information? I can't find anything about that in the official documentation and overall on the internet",
                "author": "Ill_Dare8819",
                "score": 1
            },
            {
                "body": "yeah GA4’s docs leave you piecing it together from scraps. what’s happening: Measurement Protocol hits don’t inherit attribution automatically unless you pass the traffic parameters explicitly or tie them to an active web session through the GA cookie logic\n\nto fix the (not set) issue:\n\n   1. include `source`, `medium`, and `campaign` in your payload under `params`. GA4 doesn’t backfill them from the session unless the MP event lands while the same user still has an active web stream hit\n   1. make sure your `client_id` and `session_id` exactly match a live session within 30 minutes of the last event. otherwise GA treats it as a fresh session and labels source/medium as unknown\n   1. if you’re testing via Python, add `engagement_time_msec: 1` and `page_location` to the event params. those fields help GA link it to web data\n   1. in production, capture the `gclid`, `utm_source`, and `utm_medium` from the client and forward them with your server hit\n\nafter that, the attribution will align. sGTM MP events are powerful, but GA4 attribution logic still lives in the web container.\n\n[The NoFluffWisdom Newsletter](https://NoFluffWisdom.com/Subscribe) has some clean takes on execution under noise and decision rules that vibe with this - worth a peek!",
                "author": "Thin_Rip8995",
                "score": 1
            },
            {
                "body": "Thanks, ChatGPT",
                "author": "Ill_Dare8819",
                "score": 1
            },
            {
                "body": "God bless you dude. I'll definitely try this one out. I can easily get the traffic source/medium using visitdata js which is very accurate in detecting source/medium and other stuff from utms",
                "author": "Ill_Dare8819",
                "score": 1
            },
            {
                "body": "Has anyone implemented this? Any positives beside the not set being fixed?",
                "author": "atanasyanev",
                "score": 1
            },
            {
                "body": "Just jumping here to clarify some things - the above answer is a bit misleading. Or very misleading to be honest. Measurement Protocol events should be connected to your web tags automatically (that’s why you need to provide client_id and, optionally for session attribution, session_id) \n\nIn your case \n- debug view does t work, because having only debug_mode isn’t enough. You also need to add “engagement_time_msec” param with any numeric value.\n- event level attribution is happening only for conversion events (key events). If you want to see it for your event, make sure to go into the settings and mark it as a conversion.\n- for session attribution, try using just “session_id” instead of “ga_session_id”",
                "author": "YouReadItWhatNow",
                "score": 1
            },
            {
                "body": "Hey. Yup, I also got suspicious about it for some reasons. Well, I've tried using \"session_id\" instead of \"ga_session_id\". Nope, still not set",
                "author": "Ill_Dare8819",
                "score": 1
            },
            {
                "body": "Which dimensions are you checking? Session source/medium or just source/medium?",
                "author": "YouReadItWhatNow",
                "score": 1
            },
            {
                "body": "It should just be session_id and you shouldn't have to explicitly declare the attribution. It's quickly mentioned here: https://developers.google.com/analytics/devguides/collection/protocol/ga4/use-cases#session_attribution\n\nIf you're just looking in the real time report, it could make sense for it to read as (not set) since technically, at the moment of receiving the event, the attribution isn't set. GA4 would need to look up the session ID to get the missing info. \n\nI would recommend checking back on the test event after 24 hours (or whenever it shows up in standard reports) and seeing if its session source and session medium get updated.",
                "author": "winless",
                "score": 1
            },
            {
                "body": "session source/medium",
                "author": "Ill_Dare8819",
                "score": 1
            },
            {
                "body": "That's exactly what I'm doing after sending an event. I wait 24 hours than view the results in custom report",
                "author": "Ill_Dare8819",
                "score": 1
            },
            {
                "body": "In my sGTM I have both standard GA4 client + GA4 Measurement Protocol client with \"/mp/collect\" activation path. Plus in preview mode everything seems to be fine.\n\nHere’s what I see when I send a test request to my server-side GTM container with the code I shared in the post (except this time I've changed \"ga\\_session\\_id\" param to \"session\\_id\" again):\n\n* The incoming HTTP request is received at /mp/collect?measurement\\_id=G-XXXXXXX&api\\_secret=... with status POST – 200\n* The client that handled the request inside the container is GA4 MP (Measurement Protocol)\n* The outgoing HTTP request from the server container goes to [https://www.google-analytics.com/g/collect](https://www.google-analytics.com/g/collect) with status POST – 204",
                "author": "Ill_Dare8819",
                "score": 1
            },
            {
                "body": "That could be the problem. If you check the session id in the POST request (the `sid` parameter) does it match the session ID that you told it to send? It could be ignoring that since it's a reserved parameter for standard GA4 requests.\n\nEither way, you probably need to be sending it to the /mp/ endpoint. \n\nYou may already know this, but in sGTM Clients handle how data is *received* by the server, while Tags handle how data is *sent* by the server. So even if you're using the MP client, if you're using the base GA4 tag, I don't think you can expect to rely on MP-specific functions. The [\"server-side tagging events missing\" section in Troubleshooting ](https://developers.google.com/analytics/devguides/collection/protocol/ga4/troubleshooting)seems to indicate that as well.\n\nOne very quick test you can do is to try sending the event directly to your GA4 property via MP instead of to your server container. If it works the way that you want it to in GA4, then it's almost certainly an issue with how the event gets sent via your sGTM server.\n\nTo handle it via your server and send it to the /mp/ endpoint, I believe you would need to create a custom HTTP tag in sGTM and write the POST request yourself (you can change the method from GET to POST), using variables from the event data that the server container receives. Then you would need to create a trigger for that tag to make sure it handles the purchase events, and make sure that no other tags are trying to handle it via modifying their triggers or adding exceptions.",
                "author": "winless",
                "score": 1
            },
            {
                "body": "I think you're right here. Well, I'll try to do it this way",
                "author": "Ill_Dare8819",
                "score": 1
            },
            {
                "body": "ga4’s measurement protocol doesn’t automatically link the event to a source or medium unless you explicitly pass the campaign parameters *and* associate it with an active session in the same stream.\n\nhere’s the core issue. when you fire a server-side event manually (through the measurement api or a python post), ga4 doesn’t have browser context, meaning no document referrer, no utm parameters, and no session linkage. even if you send the correct client\\_id and session\\_id, it doesn’t know what campaign that user originally came from unless that data is also included in the event payload.\n\nso when you see “(not set)” under source/medium, it’s because ga4 has no campaign attribution data for that standalone event.\n\nthe workaround is to pass the traffic source data manually with your event. here’s what you need to include under `event.params`:\n\n    traffic_source: {\n      \"source\": \"google\",\n      \"medium\": \"organic\",\n      \"campaign\": \"(not set)\"\n    }\n    \n\nor for a real purchase triggered from paid traffic, inject the actual utm parameters from the user’s session when you make the server call:\n\n    \"params\": {\n        \"transaction_id\": \"12345\",\n        \"value\": 99.99,\n        \"currency\": \"USD\",\n        \"traffic_source.source\": \"google\",\n        \"traffic_source.medium\": \"cpc\",\n        \"traffic_source.campaign\": \"brand_search\"\n    }\n    \n\nthe tricky part is keeping that mapping alive between the client and the server. most teams store utm data or the `_ga` cookie value in a hidden field at checkout, then send it along with the purchase payload so the server-side event can inherit those parameters.\n\nalso note: debug\\_mode=1 doesn’t show up in debugview when using measurement protocol directly, only browser hits with the ga4 debug cookie are shown there. realtime is the correct place to verify measurement protocol events.\n\nin short:\n\n* ga4 doesn’t link server-side events to campaign data automatically\n* include traffic\\_source.\\* params manually in the mp payload\n* persist utm or referrer data from web to server at purchase time\n* ignore debugview for mp calls, use realtime instead\n\nthat’s just how ga4 handles attribution now. once you start sending those traffic\\_source fields, your source/medium will stop showing as (not set).",
                "author": "DigMundane5870",
                "score": 0
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1742635285.0,
        "title": "Beginner here:- Have you implemented server-side tracking?",
        "author": "Striking_Barracuda51",
        "id": "1jh4lcc",
        "selftext": "Is it true that server-side tracking can help with accurate data collection, increasing ROAS (Return on Ad Spend), and improving page speed?\n\nIs that all true?\n\nWhat extra costs would be there if we implement those? \n\n",
        "score": 10,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1jh4lcc/beginner_here_have_you_implemented_serverside/",
        "num_comments": 37,
        "comments": [
            {
                "body": "“It depends” is the honest answer.\n\nIt is not a magic pill for data collection and the best thing you can do for your data right now is to fix all the little things you’ve been meaning to get around to, get someone to do a pro audit and probably find a few more things to fix that you weren’t aware of and then, when your data collection is in really good shape… that’s when you should implement server-side.\n\nAlso, the more traffic your site gets, the more it’s worth the effort to implement server-side.",
                "author": "DigitalStefan",
                "score": 5
            },
            {
                "body": "It won't increase roas rather provide you better data which will help you get a more accurate measure of your roas",
                "author": "ds_frm_timbuktu",
                "score": 4
            },
            {
                "body": "And also Tracklution (https://www.tracklution.com/) 👋 It's a care-free, plug & play solution where servers, Conversion APIs etc. are maintained by our team, so you don't have to.",
                "author": "anni-tracklution",
                "score": 3
            },
            {
                "body": "TAGGRS – all the way!",
                "author": "OnlineMarketeerNL",
                "score": 3
            },
            {
                "body": "It actually does help you to increase ROAS. When you get better & more data to send to ad platforms, over time the algorithms get more efficient as well = better ROAS. We've seen this happen with many clients that switch from client-side to server-side tracking.",
                "author": "anni-tracklution",
                "score": 2
            },
            {
                "body": "Not server-side, but the APIs associated with serverside. Like each ad platforms has a Conversions API that allows you to attribute conversions past the original event. I.e. a user visited on day 1, but didn't convert till day 30. Without conversions API you would lose that conversion metric, but with it, you can go back and attribute it to the event that happened on day 1",
                "author": "thr0waway377",
                "score": 2
            },
            {
                "body": "How is the hybrid tracking different from normal tracking?",
                "author": "Striking_Barracuda51",
                "score": 2
            },
            {
                "body": "Meta's default attribution is 7-day click, 1-day view. That means conversions after 7 days normally aren't attributed via the pixel. But if you're using Conversions API (via server-side GTM), you can capture and store identifiers like fbc (Facebook Click ID) or fbp (browser ID) at the time of the ad click. Then, even if a user converts 30 days later, you send those identifiers with the server-side conversion event. Meta can match it to the original ad click and still attribute the conversion — even beyond 7 days.",
                "author": "thr0waway377",
                "score": 2
            },
            {
                "body": "Addignwell, Taggrs, Jentis...",
                "author": "mar1_jj",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Exploring this right now as well at our enterprise, it seems like we're likely not going to do it anytime soon due to difficulties on quanitifying the benefits. Also there is so much red tape at a large organization, so many people have to be onboard and set up governance maintainance.",
                "author": "virtuaxe",
                "score": 1
            },
            {
                "body": "we are implementing Stape.io for server side and using gtm for server side for our facebook advertising to improve our EMQ score \n\nserver side will allow us to send user data to help the facebook algo target users better by sending more user details such as postal code, click id, postal code, etc\n\nusing client side previously resulted in poor EMQ scores averaging around 3\n\nand \"hopefully\" this will lower cost per lead if the algo can target sooner \n\nI'd assume this also applies to google's algo and it's only beneficial to send enough user data for running google campaigns",
                "author": "worldgobble",
                "score": 1
            },
            {
                "body": "I read tons of content but I still don't get how server side should give more conversion data. Consent still apply, so I don't really get it. Honestly asking.",
                "author": "Kokubo-ubo",
                "score": 1
            },
            {
                "body": "It's better to have more accurate data to have more informed decisions if you can afford it",
                "author": "MishaManko",
                "score": 1
            },
            {
                "body": "It will help you with getting more data due to not relying on browser to send it, but if you will increase ROAS or anything else, doesn't just depend on the data but also on the quality, marketing strategy etc.",
                "author": "mar1_jj",
                "score": 1
            },
            {
                "body": "**Ate here from TAGGRS (server side tracking software).**\n\nYes, server side tracking can definitely help with accurate data collection. Whether it’s worth setting up right now really depends on how much you rely on data to optimise your campaigns. Are you spending a lot on ads?\n\nTo get started, you typically need:\n\n• A server environment (you can start for free)\n\n• Some (dev) time to set up a Google Tag Manager server container\n\nIf you want more info, feel free to DM me — or book a free demo via our website:\n\n👉 [https://taggrs.io/en/demo](https://taggrs.io/en/demo)",
                "author": "Ate-Keurentjes",
                "score": 1
            },
            {
                "body": "Yes that is true. Reason being without server side tagging your conversion data might not be reported if a person has say Ad Blocker, which many people do. It essentially minimizes the data loss",
                "author": "New_Highway_2898",
                "score": 1
            },
            {
                "body": "Aimerce does Server-side tracking with one click on Google if you are on Shopify. The simplest integration ever.",
                "author": "Green_Database9919",
                "score": 1
            },
            {
                "body": "I could help you set up everything in adpage.io . It includes monitoring so you can see the differences with client side. Main advantage of server side tracking is cookie duration for ad platforms .",
                "author": "Necessary_Fondant390",
                "score": 1
            },
            {
                "body": "Ohkey!",
                "author": "Striking_Barracuda51",
                "score": 1
            },
            {
                "body": "Makes sense.\n\nCan you define “more traffic “?\n\n100K/ month? Or even lower??",
                "author": "Striking_Barracuda51",
                "score": 1
            },
            {
                "body": "Basically, you are not relying on browser to process data... You use GA4 to send everything to your Server and from there you are distributing conversions. \n\nIn a browser there are ad blockers, java script snippet might not load, page speed, setup tag might not load etc... There can be a lot of things. \n\nDid I notice any difference on a small volume websites? A tiny bit.\n\nDid I notice any difference on a high volume websites? A lot. More volume = more chance to capture what would be lost.\n\nYou can also do hybrid where you send events both from client and server, and use deduplication... Vendors like Meta and TikTok recommend that. Personally, I'm not using it, I want to have complete control of data, but you can always do that as well.",
                "author": "mar1_jj",
                "score": 1
            },
            {
                "body": "It's not always about finding the cheapest solution, and even though I agree that Stape has really good intro product, there are other tools on the market as well",
                "author": "mar1_jj",
                "score": 1
            },
            {
                "body": "Also Tracklution (https://www.tracklution.com/) has GA4 SST, plug and play.",
                "author": "anni-tracklution",
                "score": 1
            },
            {
                "body": "Actually, it probably depends on how many people are involved in managing the site, GTM and marketing platforms.\n\nI've worked with a fair few clients with revenue in the billions, so I tend to think about how projects are managed with that type of client (i.e., carefully!).\n\nIf you're solely responsible for tracking and marketing data, you can probably get server-side up and running within a day and then add / tweak over time.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "Could you elaborate a little bit more? E.g. if Meta has 7 day click, 1 day view setup, how would 30 days conversion window work for attribution?",
                "author": "mar1_jj",
                "score": 1
            },
            {
                "body": "What do you have in mind?",
                "author": "amlozek",
                "score": 1
            },
            {
                "body": "Hybrid= a mix of client-side & server side tracking. Some tools still rely on 3rd party cookies[Jentis ](https://www.jentis.com/en/article/remarketing-with-server-side-tracking/#:~:text=Remarketing%20with%20third%2Dparty%2Dcookies,party%20cookies%20are%20still%20available.).",
                "author": "TedTheTopCat",
                "score": 1
            },
            {
                "body": "Why would you need to run 'hybrid' tracking with GA4?",
                "author": "mar1_jj",
                "score": 1
            },
            {
                "body": "Okay, that makes sense.",
                "author": "mar1_jj",
                "score": 1
            },
            {
                "body": "https://www.rudderstack.com/blog/how-to-overcome-ga4-server-side-tracking-challenges/",
                "author": "TedTheTopCat",
                "score": 1
            },
            {
                "body": "will check, thanks",
                "author": "mar1_jj",
                "score": 1
            },
            {
                "body": "Nothing new. I expected something more interesting or better",
                "author": "mar1_jj",
                "score": 1
            },
            {
                "body": "Pricewise your best bet would be to start with Stape.io. Their cheapest package is 20 EUR a month with a 500k event limit.",
                "author": "amlozek",
                "score": 0
            },
            {
                "body": "I'm not responsible for managing your expectations.",
                "author": "TedTheTopCat",
                "score": 0
            },
            {
                "body": "SST can do all these things but the reality is you'll probably need to run hybrid tracking (GA4). Only JENTIS.com offers GA4 SST at the moment (I could be wrong here).",
                "author": "TedTheTopCat",
                "score": -2
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1757919741.0,
        "title": "Here's what we are doing following Safari GCLID - Google was ahead the whole time",
        "author": "History86",
        "id": "1nheyxz",
        "selftext": "Over the last two weeks my feed on both Linkedin and Reddit has been full of discussions ([example](https://www.reddit.com/r/ServerSideTagging/comments/1n84wab/safari_is_removing_click_tracking_parameters/)) about Safari's privacy updates breaking GCLID. What I haven't seen many people talk about is Google's response. They tried to fix it, broke it further, and are now quietly fixing it again.\n\n**Background:**\n\n1. Safari privacy changes killed GCLID reliability. Panic followed.\n2. Google introduced GBRAID/WBRAID as the \"privacy-safe\" alternative.\n3. Their own API didn't support what we needed:\n   * Enhanced Conversions for Leads couldn't work with GBRAID\n   * One-per-click counting couldn't be used with braid parameters\n   * Custom variables got blocked if braid was present\n\nResult: Our engineering teams built workarounds with dual upload systems and split pipelines while attribution gaps emerged.\n\nFor the sake of clarity, these are all the API conflicts we encountered and that now live in our documentation for future reference:\n\n|**Conflict Type**|**Conflicting Fields/Values**|**Error Message**|**Resolution**|\n|:-|:-|:-|:-|\n|**Click ID Conflicts**|`gclidgbraid` \\+|`VALUE_MUST_BE_UNSET`|Use only one click ID per conversion|\n||`gclidwbraid` \\+|`VALUE_MUST_BE_UNSET`|Use only one click ID per conversion|\n||`gbraidwbraid` \\+|`GBRAID_WBRAID_BOTH_SET`|Use only one click ID per conversion|\n|**Enhanced Conversions for Leads**|`gbraidwbraiduser_identifiers`/  +|`The field cannot be set., at conversions[0].user_identifiers`|`user_identifiers`Remove   field when using gbraid/wbraid|\n||`gbraidwbraid`/  + Enhanced Conversions for Leads|`VALUE_MUST_BE_UNSET`|Enhanced Conversions for Leads cannot use gbraid/wbraid|\n|**Conversion Action Type**|`gbraidwbraid`/  + One-per-click counting|`Conversion actions that use one-per-click counting can't be used with gbraid or wbraid parameters`|`MANY_PER_CLICK`Change to   counting|\n||Wrong conversion action type for Enhanced Conversions|`INVALID_CONVERSION_ACTION_TYPE`|`UPLOAD_CLICKS`Ensure conversion action type is|\n|**Custom Variables**|`gbraidwbraidcustom_variables`/  +|`VALUE_MUST_BE_UNSET`|`custom_variables`Remove   when using gbraid/wbraid|\n|**Enhanced Conversions for Web**|`gbraidwbraid`/  + Enhanced Conversions for Web|`CONVERSION_NOT_FOUND`|Enhanced Conversions for Web not supported with gbraid/wbraid|\n|**Temporal Conflicts**|`conversion_date_time` before click time|`CONVERSION_PRECEDES_EVENT`|Set conversion time after click time|\n||Click older than lookback window|`EXPIRED_EVENT`|Use conversion action with longer lookback window|\n|**Duplicate Conflicts**|`order_id`Same   for multiple conversions|`DUPLICATE_ORDER_ID`|Use unique order IDs|\n||Same click ID + conversion time + action|`CLICK_CONVERSION_ALREADY_EXISTS`|Adjust conversion\\_date\\_time or verify if retry|\n||Multiple conversions in same request|`DUPLICATE_CLICK_CONVERSION_IN_REQUEST`|Remove duplicates from request|\n|**Account/Access Conflicts**|Wrong customer ID for click|`INVALID_CUSTOMER_FOR_CLICK`|Use correct customer ID that owns the click|\n||Conversion action not found/enabled|`NO_CONVERSION_ACTION_FOUND`|Enable conversion action in correct account|\n||Customer data terms not accepted|`CUSTOMER_NOT_ACCEPTED_CUSTOMER_DATA_TERMS`|Accept customer data terms|\n|**Consent Conflicts**|`UNKNOWN`Setting consent to|`RequestError.INVALID_ENUM_VALUE`|`DENIED`Set to   if consent status unknown|\n|**Call Conversion Conflicts**|`always_use_default_value` = false for call conversions|`INVALID_VALUE`|Set to true for WEBSITE\\_CALL/AD\\_CALL types|\n|**Attribution Model Conflicts**|Invalid attribution model|`CANNOT_SET_RULE_BASED_ATTRIBUTION_MODELS`|`GOOGLE_ADS_LAST_CLICKGOOGLE_SEARCH_ATTRIBUTION_DATA_DRIVEN`Use only   or|\n\nKey Takeaways:\n\n* **gbraid/wbraid** cannot be used with Enhanced Conversions for Leads, Enhanced Conversions for Web, custom variables, or one-per-click counting\n* Only one click identifier can be used per conversion (gclid OR gbraid OR wbraid)\n* Enhanced Conversions for Leads requires `user_identifiers` field, which conflicts with gbraid/wbraid usage\n* Each conversion must have unique identifiers (order\\_id, click\\_id + time + action combinations)\n\nInterestingly enough, some of these error returns weren't intentional as outlined in Google developer documentation.\n\n**Now what's next?**\n\nGoogle recently [announced ](https://developers.google.com/google-ads/api/docs/conversions/upload-clicks)that GCLID + GBRAID can now be used together effective October 3rd.  This isn't just a Safari fix, it allows us to send much more contextual data than previously, giving us the infrastructure to rebuild conversion completeness instead of patching leaks.\n\nThen we found another new attribute, [session\\_attributes](https://developers.google.com/google-ads/api/docs/conversions/enhanced-conversions/leads#session_attributes) ([more documentation](https://support.google.com/google-ads/answer/16194756?sjid=7593866035188306243-EU)) - a privacy-safe way to give more context about each visit:\n\n* Campaign source (gad\\_source, gad\\_campaignid)\n* Landing page URL & referrer\n* Session start timestamp\n* User agent\n\nThese signals don't rely on cookies and can be captured via JavaScript helper or passed as key/value pairs into Offline Conversion Import.\n\nWhen click IDs are missing, Google's AI still has rich context to model from. More attributed conversions, better bid optimization, more durable setup for future privacy changes.\n\nThis was never just \"Safari broke GCLID.\" It's about how fragile most conversion architectures were. I believe Google is helping us out here, big time.\n\nBelow you can find a breakdown of the 7 code snippets that can guide you to capture these, either directly in your app or through google tag manager.\n\n    // 1. Capture Click Identifiers from URL\n    function captureClickIdentifiers() {\n      const urlParams = new URLSearchParams(window.location.search);\n      \n      return {\n        gclid: urlParams.get('gclid'),\n        gbraid: urlParams.get('gbraid'), \n        wbraid: urlParams.get('wbraid'),\n        gad_source: urlParams.get('gad_source'),\n        gad_campaignid: urlParams.get('gad_campaignid')\n      };\n    }\n    \n    // 2. Generate Session Attributes (Privacy-Safe Context)\n    function generateSessionAttributes() {\n      const clickIds = captureClickIdentifiers();\n      \n      return {\n        session_start_timestamp: Date.now(),\n        landing_page_url: window.location.href,\n        referrer: document.referrer,\n        user_agent: navigator.userAgent,\n        gad_source: clickIds.gad_source,\n        gad_campaignid: clickIds.gad_campaignid,\n        viewport_size: `${window.innerWidth}x${window.innerHeight}`,\n        timestamp: new Date().toISOString()\n      };\n    }\n    \n    // 3. Enhanced Conversion Data Collection\n    function collectEnhancedConversionData() {\n      // Get user data from form or checkout\n      const email = document.querySelector('[name=\"email\"]')?.value;\n      const phone = document.querySelector('[name=\"phone\"]')?.value;\n      const firstName = document.querySelector('[name=\"first_name\"]')?.value;\n      const lastName = document.querySelector('[name=\"last_name\"]')?.value;\n      const postalCode = document.querySelector('[name=\"postal_code\"]')?.value;\n      const country = document.querySelector('[name=\"country\"]')?.value;\n      \n      return {\n        email: email ? hashUserData(email.toLowerCase().trim()) : null,\n        phone_number: phone ? hashUserData(phone.replace(/\\D/g, '')) : null,\n        first_name: firstName ? hashUserData(firstName.toLowerCase().trim()) : null,\n        last_name: lastName ? hashUserData(lastName.toLowerCase().trim()) : null,\n        postal_code: postalCode,\n        country_code: country\n      };\n    }\n    \n    // 4. SHA-256 Hashing for User Data (PII)\n    async function hashUserData(data) {\n      if (!data) return null;\n      \n      const encoder = new TextEncoder();\n      const dataBuffer = encoder.encode(data);\n      const hashBuffer = await crypto.subtle.digest('SHA-256', dataBuffer);\n      const hashArray = Array.from(new Uint8Array(hashBuffer));\n      \n      return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\n    }\n    \n    // 5. Store Conversion Data for Later Upload\n    function storeConversionData(conversionData) {\n      const clickIds = captureClickIdentifiers();\n      const sessionAttrs = generateSessionAttributes();\n      \n      const conversionPayload = {\n        // Click identifiers (can now use multiple together)\n        gclid: clickIds.gclid,\n        gbraid: clickIds.gbraid,\n        wbraid: clickIds.wbraid,\n        \n        // Conversion details\n        conversion_action: conversionData.conversion_action,\n        conversion_date_time: new Date().toISOString(),\n        conversion_value: conversionData.value,\n        currency_code: conversionData.currency || 'USD',\n        order_id: conversionData.order_id,\n        \n        // Enhanced conversion data\n        user_identifiers: conversionData.user_identifiers,\n        \n        // Session attributes for better AI modeling\n        session_attributes_key_value_pairs: sessionAttrs,\n        \n        // Conversion environment\n        conversion_environment: 'WEB',\n        \n        // Consent (required)\n        consent: {\n          ad_user_data: conversionData.consent?.ad_user_data || 'GRANTED',\n          ad_personalization: conversionData.consent?.ad_personalization || 'GRANTED'\n        }\n      };\n      \n      // Store in localStorage for server-side pickup\n      localStorage.setItem('pending_conversion', JSON.stringify(conversionPayload));\n      \n      // Or send directly to your conversion endpoint\n      sendConversionToServer(conversionPayload);\n    }\n    \n    // 6. Lead Form Conversion Tracking\n    function trackLeadConversion(formData) {\n      const userIdentifiers = collectEnhancedConversionData();\n      \n      const conversionData = {\n        conversion_action: 'customers/YOUR_CUSTOMER_ID/conversionActions/YOUR_LEAD_ACTION_ID',\n        value: formData.lead_value || 0,\n        currency: 'USD',\n        order_id: generateUniqueOrderId(),\n        user_identifiers: [userIdentifiers].filter(id => Object.values(id).some(v => v)),\n        consent: {\n          ad_user_data: getConsentStatus('ad_user_data'),\n          ad_personalization: getConsentStatus('ad_personalization')\n        }\n      };\n      \n      storeConversionData(conversionData);\n    }\n    \n    // 7. E-commerce Conversion Tracking\n    function trackPurchaseConversion(orderData) {\n      const userIdentifiers = collectEnhancedConversionData();\n      \n      const conversionData = {\n        conversion_action: 'customers/YOUR_CUSTOMER_ID/conversionActions/YOUR_PURCHASE_ACTION_ID',\n        value: orderData.total,\n        currency: orderData.currency || 'USD',\n        order_id: orderData.order_id,\n        user_identifiers: [userIdentifiers].filter(id => Object.values(id).some(v => v)),\n        consent: {\n          ad_user_data: getConsentStatus('ad_user_data'),\n          ad_personalization: getConsentStatus('ad_personalization')\n        }\n      };\n      \n      storeConversionData(conversionData);\n    }\n    \n    // 8. Utility Functions\n    function generateUniqueOrderId() {\n      return `order_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n    }\n    \n    function getConsentStatus(consentType) {\n      // Check your consent management platform\n      // Return 'GRANTED' or 'DENIED'\n      return window.gtag && window.gtag.get ? \n        window.gtag.get(consentType) : 'GRANTED';\n    }\n    \n    function sendConversionToServer(conversionPayload) {\n      fetch('/api/google-ads/conversions', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(conversionPayload)\n      }).catch(error => {\n        console.error('Conversion tracking error:', error);\n        // Retry logic or fallback storage\n      });\n    }\n    \n    // 9. Initialize on Page Load\n    document.addEventListener('DOMContentLoaded', function() {\n      // Capture and store click identifiers immediately\n      const clickIds = captureClickIdentifiers();\n      \n      if (clickIds.gclid || clickIds.gbraid || clickIds.wbraid) {\n        sessionStorage.setItem('google_click_ids', JSON.stringify(clickIds));\n        console.log('Google click identifiers captured:', clickIds);\n      }\n      \n      // Set up form submission tracking\n      const forms = document.querySelectorAll('form[data-track-conversion]');\n      forms.forEach(form => {\n        form.addEventListener('submit', function(e) {\n          const formData = new FormData(form);\n          const leadValue = form.dataset.leadValue || 0;\n          \n          trackLeadConversion({\n            lead_value: parseFloat(leadValue),\n            form_data: Object.fromEntries(formData)\n          });\n        });\n      });\n    });\n    \n    // 10. Example Usage\n    /*\n    // For lead forms:\n    <form data-track-conversion data-lead-value=\"50\">\n      <input name=\"email\" type=\"email\" required>\n      <input name=\"phone\" type=\"tel\">\n      <button type=\"submit\">Submit Lead</button>\n    </form>\n    \n    // For e-commerce:\n    // Call after successful checkout\n    trackPurchaseConversion({\n      order_id: 'ORDER_12345',\n      total: 299.99,\n      currency: 'USD'\n    });\n    */",
        "score": 15,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1nheyxz/heres_what_we_are_doing_following_safari_gclid/",
        "num_comments": 9,
        "comments": [
            {
                "body": "We also tried patching it with GBRAID/WBRAID, but ran straight into the exact same conflicts you listed Enhanced Conversions not firing, custom variables breaking, and “VALUE\\_MUST\\_BE\\_UNSET” errors clogging logs. We had to spin up parallel pipelines just to keep uploads flowing, which was a maintenance nightmare.\n\nOnce Google started allowing GCLID + GBRAID together, it was like someone finally pulled the plug out of the drain. The gaps started shrinking, and adding session-level context was honestly the first time I felt like we weren’t just patching leaks but actually building something more durable.\n\nFor us, the biggest win so far has been ecommerce revenue data actually matching across GA4, Ads, and our backend without daily reconciliation. It’s not 100% perfect yet, but it’s night-and-day better than six months ago.",
                "author": "DigMundane5870",
                "score": 3
            },
            {
                "body": "Very interesting, thank you. I couldn’t find any official confirmation that the new Safari setting stripping gclids from URLs is enabled by default (it wasn’t on my iPhone running iOS 26), but I reckon setting up tracking to be “future-proof” is never a bad idea.\n\nI'll keep your snippets, they will come in handy at some point.",
                "author": "cavaillon_666",
                "score": 2
            },
            {
                "body": "I should have named this post “steal my snippets”!",
                "author": "History86",
                "score": 2
            },
            {
                "body": "To be honest, this is all browser side, we capture some events and store them as cookies locally.",
                "author": "History86",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "If you manage to fix this for ecommerce I salute you sir, what a nightmare it has been!",
                "author": "History86",
                "score": 1
            },
            {
                "body": "half the time it still feels like i’m babysitting a very drunk gclid who keeps wandering off and forgetting where the checkout is.",
                "author": "DigMundane5870",
                "score": 1
            },
            {
                "body": "Do you use ga4 or custom tracking?",
                "author": "History86",
                "score": 1
            },
            {
                "body": "Meanwhile, My client still believes browser side tracking should be sufficient",
                "author": "Due_Singer1570",
                "score": 0
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1757538925.0,
        "title": "Purchase not showing in data layer",
        "author": "SquareLengthiness435",
        "id": "1ndqiye",
        "selftext": "Why don’t I see purchase event in data layer when I make Purchase in the website? There is an issue in my website where purchases are not being properly tracked and when. I check I see that purchase event is t shown in data layer when I purchase. ",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1ndqiye/purchase_not_showing_in_data_layer/",
        "num_comments": 11,
        "comments": [
            {
                "body": "I use a 4-layer diagnostic system for tracking issues, and yours falls squarely in Layer 2: Implementation.\n\n**Layer 2 issues** are when GTM loads correctly but the configuration within GTM or the data being sent to it is broken. This includes missing dataLayer pushes, incorrect trigger timing, or platform integrations not sending data.\n\nFor your purchase tracking, here's the diagnostic:\n\n## Step 1: Check what events exist in dataLayer\n\nRun this on your order confirmation page:\n\n```javascript\n// See ALL events in your dataLayer\ndataLayer.filter(d => d.event).map(d => d.event)\n```\n\n## Step 2: Check if purchase data exists but uses different format\n\n```javascript\n// Check for common e-commerce patterns\n(() => {\n  const patterns = ['purchase', 'transaction', 'order_complete', 'checkout_complete'];\n  const found = dataLayer.filter(item => {\n    return patterns.some(p => \n      item.event?.includes(p) || \n      item.ecommerce?.purchase ||\n      item.transactionId\n    );\n  });\n  console.log('E-commerce events found:', found.length > 0 ? found : 'None');\n  console.log('All dataLayer:', dataLayer);\n})();\n```\n\n## Step 3: Verify your platform's integration\n\nMost e-commerce platforms need explicit GTM integration enabled:\n- **WooCommerce**: Needs GTM4WP plugin or similar\n- **Shopify**: Needs Google & YouTube app with dataLayer enabled\n- **Custom builds**: Need manual dataLayer.push() on purchase completion\n\nThe fact you see nothing in dataLayer means your platform isn't pushing purchase data at all. This isn't a GTM configuration issue - it's that the data never arrives.\n\nWhich e-commerce platform are you using? That determines the exact fix needed.",
                "author": "vscodr",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "If I am not wrong, you are using a WordPress website. One of my clients had a very similar issue before.. Let me know if it is WordPress website",
                "author": "motiur_ak07",
                "score": 1
            },
            {
                "body": "Sounds like your site just isn’t pushing the `purchase` event into the dataLayer at checkout. A few common reasons this happens:\n\n* Checkout confirmation page doesn’t have the GTM snippet + dataLayer push. Super common if you’re using something like Shopify/Stripe/PayPal.\n* Event is firing *before* GTM loads, so it never gets picked up.\n* If it’s a single-page app (React/Next/Vue), there’s no page reload. You need a manual dataLayer push when the order completes.\n* GA4 is picky. It needs the event name `purchase` with params like `transaction_id`, `value`, `currency`, `items`. Even small typos break tracking.\n\nBest way to troubleshoot is run GTM preview mode, place a test order, and see if a `purchase` event shows. If it doesn’t, then your devs need to add something like:\n\n    dataLayer.push({\n      event: \"purchase\",\n      ecommerce: {\n        transaction_id: \"12345\",\n        value: 99.99,\n        currency: \"USD\",\n        items: [...]\n      }\n    });\n    \n\nBasically, GA4 isn’t the issue the site just isn’t pushing the purchase event into the dataLayer properly.",
                "author": "AdhesivenessLow7173",
                "score": 1
            },
            {
                "body": "If ur site is wordPress then you should deactivate the CartFlow plugin..But i don't know what is your CMS\n\nAnyway, if you are not using this then i think it's your dataLayer setup issue. How did you enable dataLayer?",
                "author": "Living-Big-1567",
                "score": 1
            },
            {
                "body": "Instead of everyone guessing, can you provide a breakdown of your website technologies which will allow the community to provide a more accurate likely culprit or direction for debugging.",
                "author": "Tagnetica",
                "score": 1
            },
            {
                "body": "Without knowing the specifics, and see how your website behaves, it would be guesswork to diagnose the problem. I'm more than happy to have a call, drop my a DM.",
                "author": "Taca-F",
                "score": 1
            },
            {
                "body": "Sorry for the late response. The builder we are using is Wordpress.",
                "author": "SquareLengthiness435",
                "score": 1
            },
            {
                "body": "Yes it is a Wordpress website.",
                "author": "SquareLengthiness435",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1759855455.0,
        "title": "Wordpress - GTM Kit - Ecommerce data layer events are not sended",
        "author": "Nice_Pen_8054",
        "id": "1o0k0j9",
        "selftext": "Hello,\n\nDoes anyone has an idea why GTM Kit or GTM4WP don't send the ecommerce events in data layer?\n\nThe settings for consent mode V2 and GTM are fine.\n\nThanks.",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1o0k0j9/wordpress_gtm_kit_ecommerce_data_layer_events_are/",
        "num_comments": 5,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "I generally enable datalayer and track everything with these two plugins mainly. What is the Problem, nothing can be solved without seeing",
                "author": "ShakeComfortable1975",
                "score": 1
            },
            {
                "body": "You haven’t shared nearly enough info to get helpful responses…",
                "author": "HawkeyMan",
                "score": 1
            },
            {
                "body": "Have you enabled the \"datalayer\" option?",
                "author": "wardogfufu",
                "score": 1
            },
            {
                "body": "Check your GTM debug console first. If your ecommerce events aren’t firing, it’s usually one of three things:\n\n* Consent mode blocking `dataLayer.push` before tags load (run test with consent defaulted to granted)\n* GTM4WP not in “enhanced ecommerce” mode for your plugin type\n* Events sent before GTM script loads - use a 300ms delay or push after DOM ready\n\nIf you see events in the data layer but not in preview, your trigger conditions mismatch (e.g. `event` name typo). Recheck that the event key exactly matches what your tag listens for.\n\nNo need to rebuild the site - fix your order of operations first.",
                "author": "Thin_Rip8995",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1754217689.0,
        "title": "Built my own privacy first GTM Web container analysis tool, would love feedback from the community",
        "author": "Tagnetica",
        "id": "1mgg5f3",
        "selftext": "Hey folks,\n\nI've been working in analytics for several years now, and recently built a tool to help with my own GTM container analysis. After using it myself for a few months, I thought others might find it useful too. It's still a work in progress but I'd love to get some feedback from the community.\n\nWhat it is: GTM Super Hero (Ha ha I know a bit exaggerated probably),  a privacy-focused web app for analysing and auditing GTM containers. You can import JSON exports or connect directly via the GTM API.\n\nWhy I built it: I was tired of manually reviewing containers or sifting through GTM exports and wanted something more visual, responsive and interactive. The existing tools I knew about didn't *exactly* fit my needs.\n\n\n\nWhat makes it different:\n\n* 100% client-side analysis - Your GTM data never leaves your browser\n* Interactive network visualization - See tag-trigger-variable relationships visually\n* Advanced unused entity detection - Accounts for tag sequencing (setup/cleanup tags)\n* AI-powered regex generator - Describe patterns in plain English, get GTM-ready regex\n* Container cleanup feature - Remove unused entities directly via API\n* Feature-based pricing - Simple free vs pro feature access\n\n\n\nFree tier:\n\n* Full container analysis and visualization\n* Unused entity detection with sequencing logic\n* Global search across all entities\n* Consent audit features\n* JSON export/import\n* Interactive network graphs\n\n\n\nPro tier ($9.99/month):\n\n* All Free tier features\n* Container cleanup (remove unused entities)\n* Export to Excel\n* Bulk editing and name changes\n* Priority support\n\n\n\n**Privacy first**: Everything runs in your browser. No GTM data is ever uploaded to external servers.\n\n\n\nI've followed the likes of Julius and Simo for years and I was inspired by GTM Tools, but I deliberately didn't look at the current implementation (post Stape adoption) while building this to avoid just creating a clone. I'm happy with how it turned out - it's my own thing in it's way.\n\nThis started as a personal tool but I'm hoping it might become a small side income and at least be useful to some even if they just use the free bits. I'd really appreciate any feedback, especially on:\n\n* What current features would be most valuable to you?\n* Is the pricing reasonable?\n* What's missing that you'd want to see?\n* Other than here on reddit, whats best to get feedback & requests from users at the point of usage (eg Hotjars feedback tools)?\n\n\n\nYou can check it out at [https://gtmsuperhero.tagnetica.co.uk/](https://gtmsuperhero.tagnetica.co.uk/)\n\n\n\nThanks for reading, and I'm open to any questions or suggestions!",
        "score": 4,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1mgg5f3/built_my_own_privacy_first_gtm_web_container/",
        "num_comments": 8,
        "comments": [
            {
                "body": "Whilst I don’t agree with a lot of what Gary Vaynerchuk says, “jab, jab, jab, right hook” has a basis in reality.\n\nStart contributing. Don’t just put out content with the intent that you are doing it purely to be seen. Put out genuinely useful content. Make sure you’re right. Be prepared to do more research and admit you got it wrong when you get it wrong. \n\nAnswer questions. Be helpful. *Do experiments and post about the results, whether negative or positive*.\n\nAbove all, be curious. \n\nYou’re not chasing engagement. You’re building your own knowledge. If someone asks about something they are struggling with, go and research the hell out of it and figure out how you can help.\n\nYou aren’t giving your time away for free, you’re learning and sharing. You’ll become expert in the things people actually care about.\n\nOne rule though…\n\nDon’t solve problems privately in DMs for free. If someone wants private help, it’s valuable to them.\n\nI have had people DM me for help and I invite them to post their problem in an appropriate subreddit so that others can benefit or I can help them privately for a cost.  That is fundamentally how consulting and freelancing exists.",
                "author": "DigitalStefan",
                "score": 3
            },
            {
                "body": "If the tool runs fully offline in the browser, then login shouldn’t be required for the free features. Just saying…",
                "author": "Kutsan",
                "score": 2
            },
            {
                "body": "Not a chance can I authorise access to the containers attached to my account without knowing more about what and who I'm giving access to.\n\nI have client confidentiality to consider.\n\nA 1-karma Reddit account asking for implicit trust is a stretch!",
                "author": "DigitalStefan",
                "score": 2
            },
            {
                "body": "Appreciate the input. Cheers",
                "author": "Tagnetica",
                "score": 2
            },
            {
                "body": "Good luck with it!",
                "author": "DigitalStefan",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "This is huge, u/Tagnetica.\nBuilding a GTM analysis tool is smart.\nThe real win is automating the actions that come from those insights.\nThink about scaling GTM efforts. https://myli.in/JC2ZUMT0",
                "author": "Lakshmifn7",
                "score": 1
            },
            {
                "body": "Thanks for the feedback, how would you suggest I build trust given my Karma immaturity? \n\nMy personal Reddit account wouldn't be much use either as although it's like 10+years old I've only ever been an observer, not much contributed / posted (Lurker I know).",
                "author": "Tagnetica",
                "score": 0
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1751503220.0,
        "title": "Send Hubspot data to sGTM ?",
        "author": "xMagox",
        "id": "1lqc5b0",
        "selftext": "Hello.   \n  \ntldr: When lead status change on Hubspot I want to send data to GTM and then Google Ads/GA4.  \n  \nI'm trying to setup tags to optimize ads and better track our data    \nMost, if not all, of our leads interaction happens through phone and hubspot.   \n  \nMy idea is that when the lead status on hubspot changes, this sends information to sGTM and then this is sent to Google Ads and GA4.\n\nFor the sGTM, I'm using Stape \n\nData Client template from Stape, web container and server container where also created on Google tag manager. \n\nAs far as I understand, on Hubspot I have to create a workflow, triggered by the lead status change, that sends a POST request to the sGTM. \n\nAfter this, I'm somewhat lost on how to set up everything else.   \nFor the webhook endpoint, I'm not sure if I only have to add /data to the end of my sGTM container URL but it's what worked to get a 200 response and see the Requests on the preview window of Google Tag Manager, but only if I have the \"sGTM Preview header config\" power up turned on Stape, if turned off I get the 200 response but can't see the requests. \n\nThen for setting up tags, triggers and variables\n\nLet's say payload from Hubspot is:   \n(code symbols might be wrong because my keyboard)   \n  \n\"event\\_type\": \"lifecycle\\_change\",  (Let say the status is MQL) \n\nI'm guessing I have to set up a Google Ads conversion tag, with a custom event trigger that is triggered when my variable named X is equal to MQL, but how do I set up the variable correctly, as in how do I let it know the value is lifecycle\\_change?  \n\nAnd since I want this for enhanced conversions and personal data might be sent, do I need to hash this information? Or how do I avoid privacy problems? On my website there is a cookie banner letting them know where are collecting data to show personalized ads and another privacy policy, but again mostly is done through phone and hubspot. \n\n  \nI'm aware there is a integration between Hubspot and Stape, but seems more focused to send data to Facebook rather than Google \n\nAppreciate any help or pointing me in the right direction \n\nThanks! \n\n\n\n",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1lqc5b0/send_hubspot_data_to_sgtm/",
        "num_comments": 10,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Hubspot has a native integration with Gads to do this? Why didnt it work for you?",
                "author": "History86",
                "score": 1
            },
            {
                "body": "The HubSpot popup form is embedded using an iFrame, which makes it difficult to track using standard form submit triggers in Google Tag Manager. This setup often limits access to submission events and user input data. However, in many situations, capturing both the form submission and the user's input is essential for accurate tracking and lead analysis.",
                "author": "AhmedNayem01",
                "score": 1
            },
            {
                "body": "Check latest analytics ninja blog post, might give you some ideas.",
                "author": "mar1_jj",
                "score": 1
            },
            {
                "body": "Founder of [PixelFlow](https://www.pixelflow.so/?utm_source=reddit&utm_medium=comment&utm_campaign=weekly) here. Here's how we've done it previously from what I can remember:\n\n* create hubspot workflow → trigger on stage change → webhook (POST) to your sGTM endpoint\n* you *can* include whatever payload you want (“event\\_type”, “lead\\_status”, email, whatever)\n* in sGTM: set up a data client to receive the POST, then trigger the tags based on event payload (use custom event triggers, like `event_type = 'lifecycle_change' && lead_status = 'MQL'`)\n* if you need enhanced conversions, YES you may want to hash emails before sending (for privacy compliance), tho we have prebuilt hashing in our server endpoint so you don’t have to code it in hubspot",
                "author": "jeffdonuts",
                "score": 1
            },
            {
                "body": "Tags were set up on the website since before I joined the company, they were a mess and I decided to clean up \n\nThen that hubspot integration doesn't seem to be sending the conversions correctly neither seem to be enhanced (according to Google Ads) plus is not only Google ads that we are running \n\nSo when doing the cleaning I thought that it would be a better option than just relying on that integration and would allow to do more things",
                "author": "xMagox",
                "score": 1
            },
            {
                "body": "It does allow you to do more things, but it’s almost dev work vs a friendly(ish) UI.\n\nI’m not a voice for HS, but this is kind of what they are trying to make easy.\n\nEnhanced conversions is a relatively easy setup. You could just store the form submission data in a datalayer.\nHash that datalayer through a JS script.\nSend a enhanced conversion event with the hashed data\n\nMake sure that your form has a checkbox for privacy policy that tells that you do this.\n\n\nI’m not too familiar with Stape, but they seem to have a premium feature that deals with webhooks https://stape.io/blog/webhook-server#fa-qs-nbsp",
                "author": "History86",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1750236499.0,
        "title": "Google Ads & Shopify + plugin TagFly",
        "author": "Purple_Address5636",
        "id": "1lec4sq",
        "selftext": "Has anyone managed to get the google ads conversion goal status to show in green and \"active\" whilst using TagFly?  I am getting a status of \"needs attention\".  Diagnostics page is then showing:\n\n* Events are importing, but you can fix errors to improve data quality: 59% (60 of 101) of events successfully imported on 17 Jun 2025\n* Check permissions 41% of events \n   * The click ID or call is associated with an Ads account that you don't have access to. Make sure you import conversions for accounts managed by your manager account.\n\nI have contacted TagFly directly and am waiting on a response from them, so hopefully they can sort. But for something that I thought would be \"plug and play\" this is proving to be a pain!!",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1lec4sq/google_ads_shopify_plugin_tagfly/",
        "num_comments": 9,
        "comments": [
            {
                "body": "[removed]",
                "author": null,
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Am I over-thinking this or can i simply just ignore these \"errors\"? I mean after all the sales are getting tracked....\n\n  \nIf not, and this is an inherent issue with TagFly, is there another app which can *properly* install Server-Side Google Ads tracking (via GTM or otherwise?) without any issue?",
                "author": "Purple_Address5636",
                "score": 1
            },
            {
                "body": "really but TagFly has a lot of problems, do not works with new extensibility and dataLayer structure is worst :( it could have been GTM4WP's brother, but instead...",
                "author": "buothz",
                "score": 1
            },
            {
                "body": "please explain!",
                "author": "Purple_Address5636",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1746291497.0,
        "title": "analytics_storage stays denied with new cookie banner?",
        "author": "LightTheFerkUp",
        "id": "1kdxl7q",
        "selftext": "Hi all, not quite sure where to look for this solution.\n\n\n\nI was using a cookiebot banner from Usercentrics for a year with no issue, but switched it for the same, but on another account with Usercentrics. Since then, no more traffic is being sent to Google Analytics, and analytics\\_storage stays denied after consenting on the banner.\n\n\n\nAll other aspects, Google ads etc, are fine, but for some reason something is blocking the analytics\\_storage cookie?\n\n\n\nAnyone experienced something similar?",
        "score": 4,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1kdxl7q/analytics_storage_stays_denied_with_new_cookie/",
        "num_comments": 14,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "This was my annoyance with that CMP. If it has scanned the site and not found any analytics cookies, it provides no way to consent to analytics_storage.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "Try rescan. If that doesn't work, create a new dummy marketing cookie in your Cookie it account.",
                "author": "Taca-F",
                "score": 1
            },
            {
                "body": "Could you share a container preview link? It’s easier to see what’s going on.",
                "author": "zombiekop",
                "score": 1
            },
            {
                "body": "Feel free to give Consent Studio a go. Might as well save you from the pricing drama…",
                "author": "Yallone",
                "score": 1
            },
            {
                "body": "I think your new cookie banner is blocking the data being sent to GA4. Go through the consent settings inside the cookie bot once again. Turn on the necessary cookies (analytics cookies) this could solve ur issue ig",
                "author": "Main-ITops77",
                "score": 1
            },
            {
                "body": "u/LightTheFerkUp you're definitely not alone - I ran into the same issue with a client recently... we ended up switching to [Cooki.fi](https://www.cooki.fi/), which is much simpler and more affordable... and I haven't experienced any issues whatsoever with things like Consent Mode v2 or data layer pushes",
                "author": "puk789",
                "score": 1
            },
            {
                "body": "I am experiencing the exact same issue with a new CMP on Usercentrics. analytics_storage remains denied despite granting consent on the banner. I have reached out to support and am now awaiting their reply.",
                "author": "Greedy-Towel152",
                "score": 1
            },
            {
                "body": "Do you have a link to your website? Also, sometimes it wouldn't hurt to give another CMP a go too, like Axeptio, OneTrust, Consent Studio or others.",
                "author": "Yallone",
                "score": 1
            },
            {
                "body": "I fixed this by ticking \"Category Consent\" under \"Configuration > Legal Specifications\"  This takes away ability for users to disable individual services but was the only way I could fix it... Users can still control cookie categories.",
                "author": "Karlos_shift",
                "score": 1
            },
            {
                "body": "It's weird because I installed it on two other clients websites the exact same way and it does find it...",
                "author": "LightTheFerkUp",
                "score": 1
            },
            {
                "body": "I fixed this by moving all _ga cookies to the 'Google Analytics 4' DPS from their database. This DPS seems to fire the correct signals for analytics_storage consent.",
                "author": "Greedy-Towel152",
                "score": 1
            },
            {
                "body": "Perhaps engage with Usercentrics support. I'd be interested to find out how responsive and good their support is.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "Can you help me set it up please ? It sounds correct but I don't know the steps you take to fix the issue",
                "author": "Escrobaria1997",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1750213083.0,
        "title": "Should I track an event using both gtag and GA4?",
        "author": "Kind_Ebb7211",
        "id": "1le5oug",
        "selftext": "Hello everyone,\n\nI'm curious about something regarding tracking and would like some advice to ensure I am understanding it correctly.\n\nUsually, I create events and conversions in GTM using the Gtag. However, for reporting and tracking purposes, I also need the event results to be counted and shown in GA4. To achieve this, I also create the same event using the GA4 Event tag.\n\nSo in the end, for each event, I have both a Google Tag and a GA4 Event tag. I am confused if this is the correct way to do it.\n\nCorrect me if I'm wrong, but I remember that if you only use the Gtag for an event, it will not be tracked in GA4. This is why I have been doing it this way, but please let me know the correct method. Thank you",
        "score": 5,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1le5oug/should_i_track_an_event_using_both_gtag_and_ga4/",
        "num_comments": 8,
        "comments": [
            {
                "body": "Currently, you need a Google Tag that triggers on initialization - all pages. This tag is just your standard GA4 configuration tag. It also sends page_view events, unless you manually disable that through a parameter.\n\nThe GA4 event tags should then be setup for the events you require. So you don't need to set another google tag specifically for that event.",
                "author": "Tenshichi",
                "score": 3
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Thank you for your response. In my case, I want to track an event in Google Ads while also having it counted in GA4. If this is the situation, would using two tags (a GA4 event tag and a Google tag) be the preferred method?",
                "author": "Kind_Ebb7211",
                "score": 1
            },
            {
                "body": "In that case, create another google tag that fires on initialization - all pages for Google Ads with the AW-(insert conversion ID) as tag ID. Add a parameter that disables it to send another page view event. Parameter is called send_page_view with value false. I always do this to be certain that I don't send page view events twice, if I use one of the tags for that.\n\nAlso create a separate conversion in Google Ads, that you want to manually setup in GTM. Save the conversion ID and conversion label and add a Google Ads conversion tag to your container that triggers on the same thing as your GA4 tag. (For testing purposes, set it as a secondary conversion instead of primary in Ads).\n\nDon't forget to add a conversion linker tag in GTM just for Google Ads.\n\nUse tag assistant to test them and see if any errors come up or not.",
                "author": "Tenshichi",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1748501067.0,
        "title": "Re-evaluated Ketch after 2 years... oh boy",
        "author": "DigitalStefan",
        "id": "1ky40mi",
        "selftext": "I was recently invited to evaluate Ketch, which positions itself as a competitor to OneTrust as a CMP.\n\nThe tl;dr is it is still not in a state where I would recommend it to a client. It's not that it doesn't work or it doesn't have some good features, it is because it still has a poor GTM integration.\n\nThe premise is actually good. You have the option (and it seems like a default \"do it this way\") to directly link a GTM container to the Ketch service and it will automatically manage your tags for consent.\n\nWhere it falls down is when you want to do the \"advanced\" GTM implementation, because the guidance for dealing with 3rd-party tags (Facebook etc) is to use a trigger group based on page view and a specific data layer event emitted by Ketch.\n\nWhy a trigger group? That's because Ketch haven't solved the problem that practically every other CMP has solved, which is to provide a data layer event that can be used as a direct replacement for an All Pages trigger, but it fires after consent is established and also after Google Consent Mode has updated its state. Effectively, Ketch is advising to use a non-optimal and fairly old fashioned method to control consent for 3rd-party tags.\n\nIf you've used GTM for any length of time, you have probably used a trigger group. If you've tried to use a trigger group for anything interesting, you'll have discovered that it has a major limitation of a trigger group never being re-evaluated, meaning if any part of the group fails to fire you have zero opportunity for the group to fire until the next page load, no matter what events occur. Trigger groups are not an \"and\" condiion for triggers!\n\nThe other major failing is there is no native tag template for the main Ketch script. There's a required tag template to manage Google Consent Mode integration... there's a version in the community gallery, but it's not the same version as the one they want you to download and then import.\n\nYou can do a Custom HTML tag with the Ketch script, but this is not great in terms of timing.\n\nSo... sadly, the recommendations are still CookieBot, CookieYes, Enzuzo, UserCentrics and OneTrust, depending on features and budget.",
        "score": 4,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1ky40mi/reevaluated_ketch_after_2_years_oh_boy/",
        "num_comments": 9,
        "comments": [
            {
                "body": "That’s an interesting idea. \n\nI know a GTM template can use `addConsentListener` but I didn’t think there was a way to do that from outside the ecosystem.\n\nI’m struggling to find anything bout it. Do you have any links please?\n\nEdit: or maybe you meant as a callback from the OneTrust consent update? I believe they do have event listeners you can bind.",
                "author": "iamfuzzydunlop",
                "score": 2
            },
            {
                "body": "Yes. I have full access to change the site push code. That’s no problem. I’m end to end here, so can make any changes necessary to try to get this stuff easier to maintain and understand.",
                "author": "iamfuzzydunlop",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "What approach are you using for OneTrust? My experience is that their events tend to be late enough that I still need to use a trigger group for something like a purchase to ensure that the consent update has arrived.",
                "author": "iamfuzzydunlop",
                "score": 1
            },
            {
                "body": "It depends on how you are recording a purchase event. If you’re doing it based on a page view, the easy answer is to use the OneTrustGroupsUodated event, which is guaranteed to be immediately after consent is updated (including Google Consent Mode).\n\nIf you have a plugin or a hand coded “purchase” event, the plugin providing that event should be smart enough to understand consent or if you have your own purchase event from your dev resource, they should make sure the event fires at the right time so you don’t have to worry about it.\n\nBut… if you really have no control over the timing, your example is actually one that fits the use case of a trigger group so long as one of the triggers in the group is guaranteed to fire late enough that consent is established, but early enough that you’re not losing the data due to user quickly navigating away from the page.\n\nA trigger group can work in that instance because you don’t want to measure more than one event on that page.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "I have e-commerce events that are pushed into the datalayer in the source of the page. \n\nWhile it’s possible to delay them, you can’t reliably be sure they are going to come after OneTrustGroupsUpdated because the OneTrust loading is asynchronous. \n\nI’ve always felt that the real solution is for Google consent mode to be cleverer. If it held back the tags that don’t meet consent until a consent update call, everything would be trivial.\n\nI’d really love to lose the trigger groups as they cause so much pain when trying to get event deduplication working for server side.",
                "author": "iamfuzzydunlop",
                "score": 1
            },
            {
                "body": "If you need to have a data layer event fire after a consent update, you can run the code for the DL push as a callback from the update.\n\nThis is actually the one thing I haven’t done myself, so I’m going to have a crack it it over the next week and write up a how to.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "This would be an actual amend to the on-site code responsible for the DL event push.\n\nThis is where that kind of thing *should* be.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "I had to poke around in the OneTrust API today and rediscovered the facility to put code inside an OptanonWrapper() function on site.\n\nI need to test it (which may take a while... I have a busy few days ahead), but in theory placing code to generate your purchase event data layer push inside OptanonWrapper() should mean that code runs after consent is established.\n\nI'm sure there are other ways to achieve it, but that seems the more straightforward.",
                "author": "DigitalStefan",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1747173010.0,
        "title": "2 wordpress sites, exact same install, tags, & triggers; only works on 1 site - help please",
        "author": "Idontlikethenamegame",
        "id": "1klyimo",
        "selftext": "UPDATED BELOW\n\nHello- as the title suggests. \n\nDetails below, but I am trying to track just simple things: clicking on tel: and clicking on an outbound link. Healthcare field. I set it up the same way on both sites on the same date, but it's only working on one. GTM preview mode shows success on both sites. Details:\n\n- Wordpress sites\n- GTM is installed via the WP plugin called \"Site Kit\"\n- tag is GA4 Event\n- trigger is clicks - just links \"click URL starts with tel:\"\n- For both sites, it appears GA4 is installed within the Site Kit GA4 option AS WELL AS a container inside of GTM. It's the same on both. \n\nThe ONLY difference I can see is that in Site Kit inside WP, in the module where GTM gets installed, on the site where it's not working, at the bottom there is a message that says \"Placing two tags at the same time is not recommended.\" and I'm not sure what that means. Does that mean GTM is stalled twice? Is GA4 installed twice?\n\nI installed both of these on Friday, May 9. Again, verified that both were firing properly via tag manager preview. Didn't look all weekend. On Monday I verified the event was populating in GA4 on one site but not the other.  \n\nI'm stumped. Please help?\n\nUPDATE: So it's looking like the consent issues here are restricted on GA4 and it's not necessarily an issue with Site Kit. I had hoped to keep the tag as a GA4 event so I could track on all channels, but ultimately decided to create the tag as a Ads conversion and it's now recording just fine. Not ideal but better than nothing. Now that I'm at least getting that data to come in, I'll be more comfortable working with their team to find other solutions to track across all channels over time. \n\nMeanwhile, if I could just figure out why my Google Hosted 'All Conversions' aren't populating..... (see the [SECOND issue](https://www.reddit.com/r/PPC/comments/1kcg4s3/google_ads_location_extension_question_x2/) I lay out here). Thanks for all the assistance on this, y'all.",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1klyimo/2_wordpress_sites_exact_same_install_tags/",
        "num_comments": 10,
        "comments": [
            {
                "body": "1. Site Kit is crap, you have to get rid of it and install a plugin like “WPcode snippet” I am often annoyed with SiteKit. (Possibly with GTM4WP)\n2. Consent signals can also largely block the reporting of tags. Checks if the consent mode signals are OK ✅",
                "author": "Chemouel_Dgx",
                "score": 2
            },
            {
                "body": "I second.  \nInstall GTM using the GTM4WP plugin—it's the smarter way.",
                "author": "wardogfufu",
                "score": 2
            },
            {
                "body": "thank you so much for taking the time to provide the insight. I'll take some action and report back. Thanks!",
                "author": "Idontlikethenamegame",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Agree with Chemouel, get rid of SiteKit. As for the duplicate tag warning that you are getting, SiteKit probably installed GA4 tracking code as well as the GTM container (which probably contains GA4 tracking already).",
                "author": "blaff3687",
                "score": 1
            },
            {
                "body": "If you're using GTM, remove GA4 from other places and keep all GA4 tags within GTM. This way it's easier to prevent duplication.",
                "author": "Etianen7",
                "score": 1
            },
            {
                "body": "So I've not made any changes as of yet - I wanted to explore the consent signals you've mentioned as that's outside my wheel house. I'm an contractor ads manager who has been granted access to the site with permission to set up Site Kit. I'll need to talk to them before I install any further plugins. \n\n\nMeanwhile, I see they are using PixelYourSite for consent settings and where I see there are some sections on GTM and there is a some development stuff for firing sequence and other various things that are also outside my pay grade. I don't know this plugin at all?\n\nAny insight as to how I might be able to find a solution here? I'd love to get this figured out without needing to ask them for help. Thanks.",
                "author": "Idontlikethenamegame",
                "score": 1
            },
            {
                "body": "In my opinion, you shouldn't fiddle too much with WordPress if you don't know what you're doing. \nPixelYourSite + SiteKit + code snippets is already a lot. And I've seen WordPress crash for less than that. However, you can ask them to list the code plugins they are currently using and why. If everything is not centralized in GTM it quickly becomes a mess. \nManaging consent with PixelYourSite must also be the problem and I didn't even know this plugin did that! Not very academic. It is better to have a CMP (CookieBot, Axeptio, Didomi, etc.) which manages all of this from GTM. \nSo unfortunately I can't help you much more. In general it takes a little audit to go further and really know what to do. \nWordPress can quickly get out of hand! Too many plugins, no data layer, snippets, hard code…etc. \nRemove SiteKit and install GTM4WP instead already.  You will definitely see a difference. In a case like that, we have to move forward one step at a time, I want to say!",
                "author": "Chemouel_Dgx",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1749810836.0,
        "title": "Wix Studio - Problem with implements GTM codes",
        "author": "GeNeSiS998",
        "id": "1lackvi",
        "selftext": "Hello,\n\nI have an issue with installing Google Tag Manager codes through the Wix platform. After installing the codes, GTM only reads the codes on the homepage, even though during installation, I selected to apply the codes across all pages of the site. Has anyone else experienced this issue? Thanks in advance for any response.",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1lackvi/wix_studio_problem_with_implements_gtm_codes/",
        "num_comments": 6,
        "comments": [
            {
                "body": "If you are on a different page, and you refresh the page, do the tags trigger?",
                "author": "Etianen7",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "1. How did you install GTM in Wix? Through the native integration in the Marketing Integrations page or by adding the JS scripts in the head and body of the page?\n\n2. Are you using any cookie consent plugin that might be blocking GTM from loading?",
                "author": "whitepanda07",
                "score": 1
            },
            {
                "body": "Do you have problems with page view tags specifically? WIX is a single page application and page views can be tracked with a history change trigger.\nThis does not affect the tracking of user initiated actions such as link clicks.\nEven if this is not the issue, I wanted to add this to the thread, it is a common problem with WIX sites.",
                "author": "dengjika",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1746274265.0,
        "title": "Send GA4 Event directly from sGTM",
        "author": "Responsible_Routine6",
        "id": "1kdri78",
        "selftext": "Hi everyone,  \nI've set up a server container in Tag Manager. I’m not using any clients, and my backend communicates directly with the GTM server container.\n\nI'm receiving the requests correctly and forwarding them to GA4. I get a 204 response, but nothing shows up in GA4—not even a single event.  \nI’m wondering: could it be because I haven’t included the Measurement Protocol API Secret? I’ve generated one, but I honestly have no idea where to put it in the tag.\n\nThanks in advance to anyone who can help!",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1kdri78/send_ga4_event_directly_from_sgtm/",
        "num_comments": 7,
        "comments": [
            {
                "body": "Your configuration sounds contrary to how the sGTM product was engineered.\n\n\nhttps://drewspen.weebly.com/blog/overview-of-google-server-side-tag-management-sgtm",
                "author": "Humble_Elderberry_25",
                "score": 3
            },
            {
                "body": "You need client side gtm and from there you send requests to your server gtag via server_container_url",
                "author": "priortouniverse",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "You need the GA4 client in sGTM to claim your incoming requests. They need to be in a specific format, starting with /collect?.",
                "author": "amlozek",
                "score": 1
            },
            {
                "body": "I understand your concern but, how are you communicating from backend? Can we see the structure?",
                "author": "analyst_bappy",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1744887700.0,
        "title": "Confused - best setup for GTM/G-Ads/GA4 ?",
        "author": "Puzzleheaded-Tree752",
        "id": "1k19zp3",
        "selftext": "Can someone guide me how you would setup tracking based on the following  \nI have a B2B SaaS website with 2 key events i'd like to track  \n \\- free-trial form: \"trial-activate\" page  \n \\- becomes a paying customer: \"on-boarding\" page  \n\n\nWe run google ads so I need to know ad specifc goals,  \nSome find us organically, so wanted to use GA4 for these key events\n\n  \nwe may want to branch into linkedin,meta etc later  \n  \nShould I have specific tracking on the 2 pages for GA4 and google ads  \nor run everything through GTM, or through GA4 ?  \n\n\nGiven the above how would you set this up?  \n\n\n",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1k19zp3/confused_best_setup_for_gtmgadsga4/",
        "num_comments": 8,
        "comments": [
            {
                "body": "If you're going to be using other scripts later, it's best to start with GTM and add scripts in there as you go. For a pageview key event, don't create any additional tags or triggers in GTM. GA4 supports the function to create a key event based on the page\\_view event where you specify the desired URL. Here is more info how to do it [https://support.google.com/analytics/answer/12844695?hl=en](https://support.google.com/analytics/answer/12844695?hl=en) (choose Create event, not Modify event). Meta and LinkedIn have a built in options to add conversions based on page views from their pixels as well.",
                "author": "Etianen7",
                "score": 3
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "You can set it up on GTM to go to GA4 as a pageview fire triggerred event for a specific URL, and mark that as a key event on GA4\n\nYou can then use this trigger for multiple platforms events such as meta, linkedin",
                "author": "lbd_",
                "score": 1
            },
            {
                "body": "Thanks both, how about G-Ads, should I wire that upwith GA4 or directly to GTM?",
                "author": "Puzzleheaded-Tree752",
                "score": 1
            },
            {
                "body": "Great response sir",
                "author": "adreportcard",
                "score": 1
            },
            {
                "body": "You can install Google Ads both ways at the same time. As for the Google Ads conversion, it can be imported via GA4 or created within Google Ads based on the specific url.",
                "author": "Etianen7",
                "score": 1
            },
            {
                "body": "This guy has it right, set up the conversion in GA4 (admin \\[bottom left\\] -> Key Events\n\nThen sync your GA4 with your marketing platforms and import the conversions from GA4.",
                "author": "Mysterious_Swan_9941",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1739486078.0,
        "title": "unable to find and delete tag I have created in GTM. Help needed.",
        "author": "Ahtishami",
        "id": "1iovllm",
        "selftext": "hello everyone.   \nI recently switched from Universal Analytics (UA) to GA4 for Google Ads but ran into issues with tags. (I am new to all this tagging thing)\n\n**What I Did:** 1️⃣ Removed UA codes and installed the GTM container. 2️⃣ Deleted auto-generated GTM tags from past years. 3️⃣ Removed Google Ads goals, thinking I could track them via GTM. 4️⃣ Purchase tracking hasn’t worked properly for a month.\n\nLast week, I set it up, but every event was recorded as a conversion, causing a mess. I removed all goals again.\n\n**Current Issue:** A Google Tag exists outside GTM and has merged with my GA4 & Google Ads tags.\n\nTag Assistant shows duplicate event triggers (Google Tag + GTM Tag). I can’t find this tag in GTM (published versions, tags, or triggers). Removing this external tag revoked my Google Ads access to Google Tag (Error: 🚫 \"You do not have access to modify or view the Google Tag.\").\n\n **What I Need Help With:** ✅ Completely remove this external Google Tag called all together. if i try to remove destination screenshot 3 it say combine with another to remove destination. ✅ Start fresh with a clean setup. ✅ Find the source of this tag, since I don’t see any gtag.js or tag IDs in my website's source code.\n\nNOW this tag shows in my google ads account as well in data manager as google tag with name altogether. I have deleted almost all version of gtm but it still trigger and duplicate alot of events. \n\n📌 Attaching screenshots. Any guidance is appreciated cause i am badly stuck! Thanks in advance!\n\nhttps://preview.redd.it/ukgdjh10gzie1.png?width=1046&format=png&auto=webp&s=16c338036801ae68a90348478333e95346077409\n\nhttps://preview.redd.it/eaztci10gzie1.png?width=1284&format=png&auto=webp&s=1c6956074fb39b27f848ee6f112ed823819d73f3\n\nhttps://preview.redd.it/dsc3jk10gzie1.png?width=1322&format=png&auto=webp&s=7b4a8951dcf4cd7b2882ade194c66dcfa9f9a5a3\n\n",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1iovllm/unable_to_find_and_delete_tag_i_have_created_in/",
        "num_comments": 10,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "I highly recommend that you use the Google Tag Manager preview mode. This will allow you to see where all your tags are firing from (or not), \n\nAlso some feedback, your description is very chaotic. Next time try to simplify by - here is whats happening, here is what i need to happen and here is how I have set it up.",
                "author": "Mysterious_Swan_9941",
                "score": 1
            },
            {
                "body": "For the GA4 google tag firing outside of GTM: Is it possible your CMS has a plugin where the measurement ID was put in, thus loading the google tag? This is a common functionality on Wordpress, though I’ve also seen it done via other CMSes like Drupal.",
                "author": "Spleenbeansalad",
                "score": 1
            },
            {
                "body": "you have a hardcoded Google Tag (gtag.js) running alongside GTM, causing duplicate tracking. Check your website’s source code for any gtag.js scripts and remove them. Also, review Google Ads Data Manager to see if a Google Tag was set up there. If you can’t remove the destination, try linking it to another property first. Since GTM doesn’t show this tag, it’s likely managed outside GTM. If tracking is still messy, Qwestify can help with a clean, cookie-less setup that avoids these conflicts and ensures accurate data without the hassle.",
                "author": "the-fire-in-me",
                "score": 1
            },
            {
                "body": "Sorry for confusion. Well thanks for reply. In gtm preview it say tag is firing from same container where I cannot find it. Like current container. ",
                "author": "Ahtishami",
                "score": 1
            },
            {
                "body": "Agree. You seem all over the place in the description. I don't think anybody could troubleshoot for you based on words alone. You'll probably have to hire out for someone to review it",
                "author": "gnaiz",
                "score": 1
            },
            {
                "body": "backend is shopify and I can only find gtm installed on web no single other code.",
                "author": "Ahtishami",
                "score": 1
            },
            {
                "body": "Thanks for response but no hardcoded gtag.js was found on page. only gtm. GTM preview shows the that it is triggering from gtm container.",
                "author": "Ahtishami",
                "score": 1
            },
            {
                "body": "If you can see the tag you don't want firing in preview mode, you should be able to see what is triggering it to fire. Use the name of the trigger mechanism to find it.",
                "author": "Mysterious_Swan_9941",
                "score": 1
            },
            {
                "body": "Not an ideal solution but you could just remove the Google tag from GTM and keep the hardcoded one live until you find wherever it’s firing from — that way you’re not double tracking in the interim.",
                "author": "Spleenbeansalad",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1740031902.0,
        "title": "Google Tag Manager Won’t Fire GA4 – “No Google Tag Found” in Container. Need Help!",
        "author": "Torholic",
        "id": "1itrt5l",
        "selftext": "I got a new client who runs a WordPress site focusing **Apparel, Gadgets, and Cosmetics**. They wanted me to track **category-wise engagement** to understand which section gets the most views.\n\nI set up **Google Tag Manager (GTM)** to send **category data** to **Google Analytics 4 (GA4)** as an event, but I’ve hit two major roadblocks:\n\n1️⃣ **\"No Google Tag found in this container\" in GTM Preview Mode** – GA4 isn't receiving data.  \n2️⃣ **Multiple tracking tags (UA, GA, AW, GTM) are firing, but I can’t locate the source.**\n\n# What I’ve Done So Far:\n\n✅ **Checked GTM Installation**\n\n* Ran `window.google_tag_manager` in the console → GTM is **loading fine**.\n* Checked **Network > gtm.js** → **Script is loading**, so GTM **is installed correctly**.\n\n✅ **Created a Custom JavaScript Variable to Capture Category**\n\n* Extracts category from `<body class=\"category-apparel\">`, replacing dashes with spaces.\n* Works fine in **console testing**.\n\n✅ **Created a GA4 Event in GTM to Track Category Views**\n\n* Set up **GA4 Event (category\\_page\\_view)** with `page_category` parameter.\n* Trigger: **All Pages**.\n* Linked it to the **GA4 Configuration Tag** using the **GA4 Measurement ID** from Data Streams.\n\n✅ **Disabled All WordPress Plugins** to Rule Out Conflicts\n\n* Still, GA4 isn’t getting any data.\n* GTM Debug Mode shows **“No Google Tag found in this container.”**\n\n# Now my questions are:  HOW TO IDENTIFY AND REMOVE ALL THOSE PREVIOUS TAG IDs and Analytics IDs, secondly, how to fix this 'No Tag found\" issue",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1itrt5l/google_tag_manager_wont_fire_ga4_no_google_tag/",
        "num_comments": 6,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "May be you are working in the wrong container and there is another container which is loading all those tags. check with your client if they remember the other container? see if the website has the code for the other GTM container thats showing up.\n\nThe only way to remove those, is to remove it from the website.",
                "author": "ds_frm_timbuktu",
                "score": 1
            },
            {
                "body": "1. Right click on the website and click view page source.\n\n2. This usually happens when tags have been hard coded into the template. Use \"control + f\" to look for the tags that you don't want. If you find them they are either hard coded or being pushed by a plugin. Since you said you checked the plugins they must be the other.\n\n3. Next I would check what GTM containers are firing on the page, sounds like you might have a second container that is firing things. To do this download 'tag explorer chrome extention' then when the GTM cookies fire off, open them up and see what the GTM-xxxxxx number is and verify only the container you want is firing.",
                "author": "Mysterious_Swan_9941",
                "score": 1
            },
            {
                "body": "GTM is installed but isn’t firing GA4 properly. First, check if the GA4 Configuration Tag is set to fire on all pages. Also, confirm that the correct GA4 Measurement ID is used. Since Debug Mode shows \"No Google Tag found,\" try adding a test GA4 event with a button click trigger to see if any data gets through.  \n  \nFor the old tracking tags, search the site’s code and GTM container for hardcoded gtag.js or old UA/GA tags. If multiple analytics scripts are firing, a plugin or theme setting might be injecting them.  \n  \nTo simplify troubleshooting, try Qwestify, it's free and works like ChatGPT for GA4, making it easier to debug tracking issues.",
                "author": "the-fire-in-me",
                "score": 1
            },
            {
                "body": "Thank you for the response. I found only one container; the client is clueless and the previous digital marketer is out of their reach now :( I check the website  php but couldn't find any other than the code I added",
                "author": "Torholic",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1741799767.0,
        "title": "How to exclude tags to fire on specific IP address?",
        "author": "dare-to-live",
        "id": "1j9p9fj",
        "selftext": "Hey, I have multiple integrations on my website, I want to exclude that specific tag for specific integration to fire on a particular IP address. There is no help from YouTube, there is a blog, but it is not working. Can anyone help me with this?\n\nEdit:\n\nI followed this COA:\n\n# Step 1: Create Custom HTML IP Addresses tag\n\n* Visit [tagmanager.google.com](https://tagmanager.google.com/) and log in with your account.\n* Choose the appropriate account and container you want to configure.\n* Click \"Tags\" on the left menu and select \"New Tag.\n* For example, name the tag as \"IP Exclusion.\"\n* Choose \"Tag Configuration\" and select \"Custom HTML.\n* Paste the following JavaScript code that retrieves the IP addresses and forwards them to the dataLayer:htmlCopy code\n* Select \"all pages\" as the trigger.\n\n\n\n    <script>\n    (function getIpAddress() {\n      fetch('https://api.ipify.org')\n        .then(function(response) {\n          return response.text();\n        })\n        .then(function(ip) {\n          window.dataLayer = window.dataLayer || [];\n          window.dataLayer.push({\n            event: 'IPAddressEvent',\n            IPAddress: ip\n          });\n        });\n    })();\n    </script>\n\n# Step 2: Creating a Custom Variable\n\nWith the tag and trigger ready, the next step is to create a custom variable that captures the IP address from the data layer.\n\n* In Google Tag Manager, go to \"Variables\" via the left sidebar.\n* Scroll to 'User-defined Variables' and click 'New'.\n* Give the variable the name \"IPAddress.\"\n* Choose \"Variable Configuration.\n* Select \"Data Layer Variable\" as the type.\n* Under \"Data Layer Variable Name,\" enter \"IPAddress\" as used in the tag.\n* Click 'Save' to save the variable.\n\nNow that we have the custom variable \"IPAddress\" set up, here are the steps to use this variable in a new trigger that activates only under certain conditions, and how to then add this trigger as an exception to the Google Tag to exclude specific IP addresses.\n\n# Step 3: Set up Trigger for Specific IP Lockout\n\n* Go to \"Triggers\" in the Google Tag Manager dashboard and select \"New Trigger.\n* Choose the \"Initialization\" type.\n* Name the trigger, for example, \"Exclude Specific IP.\"\n* Set the condition so that this trigger activates only if the \"IPAddress\" variable equals a specific IP address you want to exclude. Replace \"\\[Fill in IP Address\\]\" with the actual IP address you want to exclude.\n\n# Step 4: Add the Trigger as an Exception to the Google Tag\n\n* Go to 'Tags' and select the Google Tag\n* In the 'Triggering' section of the tag configuration, add the newly created 'Exclude Specific IP' trigger as an exception.\n* This ensures that the tag is not triggered when the site visitor has the specified IP address.\n\nYou have now ensured that certain ip addresses are not sent to the server container. Save all changes and use Preview mode to ensure that the tag is not firing for the specified IP address. Publish the changes after you have verified that everything is working correctly.\n\nSource: [https://taggrs.io/en/anonymize-ip-addresses-google-tag-manager/](https://taggrs.io/en/anonymize-ip-addresses-google-tag-manager/)",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1j9p9fj/how_to_exclude_tags_to_fire_on_specific_ip_address/",
        "num_comments": 4,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "IP Geolocation API tag template. Free account and api key from ipgeolocation.io.\n\nPull IP from datalayer and create an exclusion trigger.",
                "author": "TheHobbyist_",
                "score": 1
            },
            {
                "body": "You could write a custom tag to fire essentially after your GA config tag. Give it a priority of 1000. Write a custom JavaScript tag that finds the ip address and pushes it to the dataLayer. Set up a variable that fetches that value from the data layer. Then set up a trigger that attaches to your tag you don’t want to fire if {variable_ip} == 0.0.0.0 ip address. If it doesn’t match it will still fire based on your other conditionals. Hope this sparks some ideas!",
                "author": "ineanderthals",
                "score": 1
            },
            {
                "body": "I have done the same, but nothing happened\n\nPlease see the edit",
                "author": "dare-to-live",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1741013170.0,
        "title": "What kind of access is needed?",
        "author": "Boring-Attention-711",
        "id": "1j2k8ll",
        "selftext": "I’m working for a marketing agency in asia with HQ in the US. The Asia branch decided to use HQ Meta business manager to run campaigns for the Asia client. The HQ already given the ads account access. But when I asked on GTM activation, here’s what they responded with \n\n“You are a new customer, so we have not done anything related to GTM. Being a new customer, we do not know: URL, GTM, etc.\nFor that reason, we are not responsible for GTM and could not give you access, as it is something we do not have.”\n\nFor context, here’s what the client email says:\n\nTo submit GTM requests via the Welcome platform, could you share one centralized email ID for access?\nTo create the required tags/triggers, please share the user email ID for GTM access.",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1j2k8ll/what_kind_of_access_is_needed/",
        "num_comments": 3,
        "comments": [
            {
                "body": "GTM access can be granted at the account level or the container level. \nUsers can be given different permissions, such as read, edit, approve, or publish.",
                "author": "wardogfufu",
                "score": 3
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1739574815.0,
        "title": "When a tag has both a trigger and tag sequencing trigger, what happens?",
        "author": "GooeyDuck1",
        "id": "1ipntcy",
        "selftext": "I have a tag that I want to run that is dependent on another, so I've set it up as a sequenced firing after the dependency tag. But, I also don't want to fire my tag until DOM Ready triggers. However, the dependency tag it is sequenced after, fires earlier than DOM Ready.\n\nCould I have the tag both sequenced and give it its own DOM Ready trigger, and will it fire once both are true? Or what happens when both types of triggering exist?\n\nSummary:\n\n* **Tag A** \\- Fires at *Page View*\n   * **Tag B** \\- Dependent on Tag A and should not fire until after Tag A, also needs to wait for *DOM Ready*, which is later than the Page View event.\n\nWhen I Google this, the AI response suggests that yes it will fire once both are true, but then the first result suggests the opposite, that tags that are sequenced ignore any of their own triggers (post from 2014).\n\nFurthermore, the heading right above the sequenced tag in the Triggers window says \"Your tag will also fire right after these tags\", which implies to me an \"Or\" condition, not \"And\" condition, and also does not imply that existing triggers will be ignored.\n\nTrying to do some GTM Preview testing and it seems like it fires twice, which would be an \"Or\" condition.",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1ipntcy/when_a_tag_has_both_a_trigger_and_tag_sequencing/",
        "num_comments": 4,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Tag  B will for after tag A irrespective of any triggers.\n\nYou can create a dummy tag that fires after dom ready and then fire Tag B after the new tag.",
                "author": "ds_frm_timbuktu",
                "score": 1
            },
            {
                "body": "Why not fire tag B on Dom Ready, then sequence Tag A to fire before tag B (setup tag)",
                "author": "datamelon",
                "score": 1
            },
            {
                "body": "> You can create a dummy tag that fires after dom ready and then fire Tag B after the new tag.\n\n\nThis just seems redundant. If Tag A always fires on PageView and Tag B always fires on DOMReady they are effectively already sequenced.",
                "author": "brannefterlasning",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1721930407.0,
        "title": "GTM - Trouble tracking a form",
        "author": "Padawan_Marketer",
        "id": "1ec1fur",
        "selftext": "Hello,\n\nHere is the story: a few months ago I had to track a form inside an embedded iframe. I finally did it.\n\nThis week, the developers decided to take the form out of the iframe, and \"install\" it as an script.\n\nIt is done and works well. However, once the user submits the form, it redirects the user to the iframe's original domain. And the page path is a horrible blank page with a text that says \"thanks for subscribing\".\n\nThe client already knows that they need to do a thank you page, in order to keep the user inside their domain.\n\nIn all the tests I have done with GTM, there are some times where the tag triggers correctly, and others where it doesn't. I don't understand why.\n\nThe thing is that GA4, GAds and Meta may not track the conversions correctly until the thank you page is implemented. I'd like to try to fix it.\n\nThe html <form> tag looks like this:\n\n[https://ibb.co/SnMf8NJ](https://ibb.co/SnMf8NJ)\n\nThe current trigger is a form submit with the form id equals \"clickdimensionsForm\".\n\nSo... Can anyone help me with this?",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1ec1fur/gtm_trouble_tracking_a_form/",
        "num_comments": 17,
        "comments": [
            {
                "body": "Sounds like the redirect occurs before the request is sent out. \nDid you try the 'wait for tags' checkmark on the form submit trigger?",
                "author": "thesickdoctor",
                "score": 2
            },
            {
                "body": "Just to get clear on this: Your form is written out by some (presumably} third party script. It isn't hard coded in your site. \n\n\nWhen submitted, it goes to a thank you page on another domain (presumably that of the script). \n\n\nYour tracking is not installed in this 3rd party domain. \n\n\nIs that correct?\n\n\nYou should still be able use the form submit event as a trigger, assuming that the form has been written out by the 3rd party script before your GTM rules apply. \n\n\nThe thank you page itself doesn't need to be your conversion point (and nor should it be).",
                "author": "spiteful-vengeance",
                "score": 2
            },
            {
                "body": "Yes, it is. It is one of the worse situations possible: the client hired us to manage the campaigns, analytics and GTM; and hired another agency for development issues. Even though there is communication, every time the other agency has to do something, it becomes a huge issue.",
                "author": "Padawan_Marketer",
                "score": 2
            },
            {
                "body": "Because we can't have our GTM installed in the current thank you page.",
                "author": "Padawan_Marketer",
                "score": 2
            },
            {
                "body": "My wording was a bit too absolute, but I don't do it because you will sometimes want to include information from the form as a custom dimension/metric with your form submission event.\n\nFor example: if the form asks \"what is our favourite colour?\" and you want to capture that, you can simply read their response form the relevant form input and include it as a parameter on your \"form\\_submit\" event.\n\nIf you fire it on the thank you page, that form input is no longer available - unless you carry the value over using server-side programming and put it in a dataLayer.\n\nAnother reason would the case presented here - OP literally can't apply their tracking code on the thank you page (and doesn't technically need to).\n\nAdditionally, you'll notice that GA4's built-in Enhanced Measurement tracks thing like the form action as part of its standard tracking syntax. This can only work if the event is submitted while the form exists.",
                "author": "spiteful-vengeance",
                "score": 2
            },
            {
                "body": "Thank you for the detailed response!",
                "author": "Direct-Foundation909",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "It sounds like you need better developers. Seriously. What a crappy user experience. ",
                "author": "Humble_Elderberry_25",
                "score": 1
            },
            {
                "body": "How about adding an Element Visibility trigger to that Thank you for subscribing text?",
                "author": "Direct-Foundation909",
                "score": 1
            },
            {
                "body": "It seems linked to the redirect indeed.\n\nIf I am not mistaken, GA4 uses the beacon transport by default meaning hits will get sent by the browser in the background, despite the redirect. \n\nFor other martech, this may indeed be an issue. Have you tried to use the Wait For Tags option? If you can, try to scope it to that particular form because this option can degrade UX (as it tries to wait for all tags to be sent before redirecting) \n\nLast, but not least, have you tried to get in touch with the support / your account executive at the company editing the forms to ask them to embed your GTM container on the ty page?",
                "author": "RCoffee_mug",
                "score": 1
            },
            {
                "body": "I have tried up until 5 milliseconds.\n\nAnd yes, it does sound like the redirect occurs before the request is sent out.\n\nThe campaigns attributed some conversions yesterday. Less than it should have, but enough to see that it sometimes work, and in other times it doesn't.",
                "author": "Padawan_Marketer",
                "score": 1
            },
            {
                "body": "Can you shed some light on why a TY page shouldn't be used for form submission tracking?",
                "author": "Direct-Foundation909",
                "score": 1
            },
            {
                "body": "No. Initially, the form was in an embedded iframe. Now, it is hard coded in our site.\n\nYes, when the form is submitted, it goes to a thank you page on another domain, where we just can't have the GTM installed.\n\nThe thing is, sometimes the trigger works, some other times it doesn't. Why? This is something I don't know, right now. And it is reflected in the campaigns.\n\nWhy shouldn't we be using a thank you page?",
                "author": "Padawan_Marketer",
                "score": 1
            },
            {
                "body": "I would have to see the form itself to be sure, but this sounds like one of those situations where developers hijack the standard form behaviour to do some weird thing for reasons they only fathom, and this break the standard DOM events that usually get emitted by the form element.\n\nWhen you preview the site using GTM, does the form submission actually emit a form\\_submit event to the dataLayer? If not, then it's not a standard form and this tends to confuse GTM.\n\nYour devs can fire a synthetic dataLayer event in that case.\n\nI'm a bit thrown by the fact that it sometimes works and sometimes doesn't, but there;s all kinds of reasons why that might be the case, especially if it's a not standard form,",
                "author": "spiteful-vengeance",
                "score": 1
            },
            {
                "body": "I wonder if on click of the submit you could add an element to the page and track that with element visibility. Maybe add a “redirecting” element. Not sure if GTM would pick that up in time before redirect.",
                "author": "Hsabes01",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1716297176.0,
        "title": "Meta integration vs. Gtm -Shopify ",
        "author": "Flaky_Can_866",
        "id": "1cx7l37",
        "selftext": "I set up Google Tag Manager with all the events in the last few weeks to feed this data into the Meta Pixel.\n\nHowever, in the last few days, I wanted to test the normal Meta Pixel integration with Shopify again.\n\nI've had the integration through the app in place for a few days now, and performance has dropped by about 50%. Hardly any carts are being recorded. With the Google Tag, I generated more than three times as many carts.\n\nWhat are your experiences? Is the Meta Pixel reliable, or did I do something wrong in the Google Tag setup causing the tag to fire multiple times for an event?\n\nI tested both variants with the Meta Pixel Helper to see if everything was firing correctly.\n\nAs mentioned, this is for a Shopify store. Has anyone had experience with this topic? I'm just not sure if the Meta Pixel integration with the \"Facebook & Instagram\" app is reliable. I use CookieBot with both setups.",
        "score": 4,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1cx7l37/meta_integration_vs_gtm_shopify/",
        "num_comments": 16,
        "comments": [
            {
                "body": "I haven’t tested both but I’d think the app would be more reliable since they use the API. \n\nYou can test extensively and find out. Also obviously possible your tag setup was firing multiple times you can check that too.",
                "author": "KalaBaZey",
                "score": 3
            },
            {
                "body": "this sounds like an AI generated response",
                "author": "rlewis2019",
                "score": 3
            },
            {
                "body": "[removed]",
                "author": null,
                "score": 2
            },
            {
                "body": "Yeah I have, before, installed Pixel through theme.liquid and then setup a click tracking through the helper. It wasn’t as reliable as GTM.\n\nBut I thought ecommerce auto events should be better tracked through integration.",
                "author": "KalaBaZey",
                "score": 2
            },
            {
                "body": "[removed]",
                "author": null,
                "score": 2
            },
            {
                "body": "In the coming days, I will pay more attention to this. I also thought that auto events should be better. Nowadays, I don’t trust meta",
                "author": "Flaky_Can_866",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "How have you been able to use gtm?\n\nLast I checked they no longer allow custom code during checkout. So you can't add gtm there. \n\nThey have a weird feature where you can add gtm in a sandbox type thing, but it puts gtm in an frame and it doesn't work properly. \n\nI always use the integration.",
                "author": "aRLYCoolSalamndr",
                "score": 1
            },
            {
                "body": "I’ve been testing different api methods\n\nThe Shopify app does a pretty good job, but it’s limited, and I’m not savvy enough to know exactly what data is being sent to Facebook other than what events manager can show me. \n\nI know there are ways to see it, just haven’t figured it out yet.\n\nCheck out stape.io - they have an interesting set up if you need something outside the default app. \n\nOtherwise agree with the other comments that learning how to leverage gtm is a good idea both client side and server side.",
                "author": "found_it_online_01",
                "score": 1
            },
            {
                "body": "\nIn my current experience, there must be a difference. I always test it through preview mode and with the Meta Pixel Helper. The Meta Pixel Helper does work with both methods, but particularly the ‘add to carts’ don’t appear in the same quantity as they should.",
                "author": "Flaky_Can_866",
                "score": 1
            },
            {
                "body": "Now I set it back to the GTM. I’ve read about a lot of issues with the integration. At least I have my GTM as a backup, but what are others doing? I thought the integration must be good because they use an API.",
                "author": "Flaky_Can_866",
                "score": 1
            },
            {
                "body": "Thanks :) \n\nI have heard that server-side tracking with GTM on a Shopify website is not a popular method because Shopify somehow blocks it. Is that true?\nIn some you tube videos they talked about server side tracking with gtm but they not recommended for Shopify.",
                "author": "Flaky_Can_866",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1733240513.0,
        "title": "Change or regenerate Server Side Container Configuration",
        "author": "KronicMag",
        "id": "1h5qbak",
        "selftext": "I'm looking for a way to change or regenerate the configuration key/value in a server side container. It's labeled as Container Configuration under Edit/Container Settings. This is the value used for the the CONTAINER\\_CONFIG environment variable when you host the tagging server yourself. \n\nThe value is a base64 encoded string that contains the container id, environment and what looks to be an auth token. \n\nI've only been able to find a single post on Google's forums asking the same question, but with no responses. [https://support.google.com/tagmanager/thread/160439874?hl=en](https://support.google.com/tagmanager/thread/160439874?hl=en)",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1h5qbak/change_or_regenerate_server_side_container/",
        "num_comments": 2,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "There are no official methods to do this.",
                "author": "Bukashk0zzz",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1728419978.0,
        "title": "Help with GTM configuration to accept platform events",
        "author": "Aimou23",
        "id": "1fza00g",
        "selftext": "Hey everyone,\n\nI'm reaching out because I've integrated GTM into a plateform called Givecloud, but I'm not receiving any events in GA4. I’ve followed the setup instructions, but now I’m stuck at the troubleshooting stage and could use some guidance. Here’s what the platform says:\n\n[Conversion Troubleshooting](https://help.givecloud.com/en/articles/1541670-google-tracking)  \nHaving a difficult time tracking your conversion event? Try:\n\n* Make sure you aren’t using any of Google Tag Manager’s custom event tracking as these could override Givecloud's event tracking.\n* Make sure you have Google Tag Manager configured to accept all events. Or, if you prefer to limit the events being received, ensure your Google Tag Manager account is configured to accept the `contribution_paid` event.\n* Make sure your Google Tag Manager recognizes `contribution_paid` as your conversion event.\n\nMy main questions are:\n\n1. **What does it mean to have GTM \"configured to accept all events\"?** I usually create custom tags and triggers for my site, but I believe from this message that custom event tracking might override or interfere with Givecloud's event tracking. How do I make sure GTM is set up to \"accept\" the events Givecloud sends?\n2. **If I limit the events, how do I specifically allow the** `contribution_paid` **event** without creating custom triggers that could cause conflicts?\n\nI’m still pretty new to GTM and don’t understand eveything yet, so any guidance would be much appreciated. Thanks!",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1fza00g/help_with_gtm_configuration_to_accept_platform/",
        "num_comments": 4,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "The documentation is confusing, but what they mean is to set up a custom trigger for a Custom Event with the name \"contribution_paid\", which you should be seeing in Preview Mode. You'd then want to set up a GA4 even tag for \"purchase\". I take it you've already made sure your Google Tag / pageview tag is firing on Givecloud as well?",
                "author": "Taca-F",
                "score": 1
            },
            {
                "body": "Thank you so much for your response, I really appreciate it! I’ll set up an event then, because the page view does fire :)",
                "author": "Beginning_Rain8294",
                "score": 1
            },
            {
                "body": "No problem, if you need any more help PM me",
                "author": "Taca-F",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1728289563.0,
        "title": "Measurement protocol hits not visible in serverside GTM",
        "author": "marcosittner",
        "id": "1fy2rwg",
        "selftext": "Hi i am trying to send events via measurement protocoll from a php script to my serverside-GTM.\n\nI have the problem that the events dont arrive at the MP-Client in GTM.  \nWhen i just open [http://gtm.myserver.de/mp-client](http://gtm.myserver.de/mp-client) (client listening on /mp-client) in my browser i get error 400:\"must be a post-request\" and i see the same error inside GTM preview mode so the hit arrives at the client.\n\nBut hits sent from my php script to the same endpoint get the answer 200:\"null\" and are not shown in GTM preview mode as if they wouldnt even arrive at the client.\n\nDo you have an idea what i am doing wrong inside my request?\n\nThats my php-code:\n\n  \n\n\n$ch = curl\\_init(\"http://gtm.myserver.de/mp-client\");\n\ncurl\\_setopt($ch, CURLOPT\\_RETURNTRANSFER, true);\n\ncurl\\_setopt($ch, CURLOPT\\_HTTPHEADER, \\[\n\n'Content-Type: application/json',\n\n'method' => 'POST',\n\n'content' => $payload\n\n\\]);\n\ncurl\\_setopt($ch, CURLOPT\\_POST, true);\n\ncurl\\_setopt($ch, CURLOPT\\_POSTFIELDS, json\\_encode($payload));\n\n$response = curl\\_exec($ch);\n\n$http\\_code = curl\\_getinfo($ch, CURLINFO\\_HTTP\\_CODE);\n\nif ($response === false) {\n\n$error = curl\\_error($ch);\n\ncurl\\_close($ch);\n\nhttp\\_response\\_code(500);\n\necho json\\_encode(\\[\n\n'status' => 'Error sending to SGTM',\n\n'error\\_details' => $error\n\n\\]);\n\nexit();\n\n}\n\ncurl\\_close($ch);\n\n  \nThe $payload is an array containing every attribute i saw in the google documentation. (v, tid, cid, t, ec, ea, el, ev, events)",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1fy2rwg/measurement_protocol_hits_not_visible_in/",
        "num_comments": 4,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": ">The $payload is an array\n\n\nThe payload is supposed to be a json object not an array.\n\n\n\n\n>every attribute i saw in the google documentation. (v, tid, cid, t, ec, ea, el, ev, events)\n\n\nNone of those shortened properties are listed in the official docs. Which page are you reading?\n\n\n\n\nHere is the official reference:\nhttps://developers.google.com/analytics/devguides/collection/protocol/ga4/reference?client_type=gtag",
                "author": "brannefterlasning",
                "score": 1
            },
            {
                "body": "Thanks for your help.\n\nI was reading this page (the last section):  \n[https://developers.google.com/tag-platform/tag-manager/server-side/send-data?hl=en&option=GTM](https://developers.google.com/tag-platform/tag-manager/server-side/send-data?hl=en&option=GTM)\n\n  \nThere i see those properties. I also saw the page you sent but were confused because it looks different.  \nI was assuming i was reading the documentation for sending with measurement protocol to GTM and the other one was only for sending to GA4 directly.",
                "author": "marcosittner",
                "score": 1
            },
            {
                "body": "Yeah I understand that it is confusing. Google officially provides documentation only for Measurement Protocol hits sent using gtag.js, GTM or Firebase. All three do processing on the payload to shorten the request URL. You can mirror the schema manually but the issue is that Google does not provide any type of payload-to-query translation table.\n\nThere are external sources that can help out with this, for example: [https://www.thyngster.com/ga4-measurement-protocol-cheatsheet/](https://www.thyngster.com/ga4-measurement-protocol-cheatsheet/)\n\nBut, since POST requests with JSON payloads are supposedly supported, you should be able to follow the [gtag.js schema](https://developers.google.com/analytics/devguides/collection/protocol/ga4/reference?client_type=gtag) to create your payload and send it directly to you server container without additional processing.",
                "author": "brannefterlasning",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1723827337.0,
        "title": "Struggling to get post-consent tags to fire",
        "author": "tallpaullewis",
        "id": "1etty3l",
        "selftext": "I have a \\`Consent Management\\` template and tag run either by a \\`Consent Initialization\\` trigger (for returning users) or a \\`Consent Banner Interaction\\` trigger (for new users). The template uses an \\`updateConsentState\\` function from GTM which does as it says and triggers an \\`Update Consent\\` event. It all works well, I can see the different consent modes updating in the table with no problem. \n\nThis is where I run into a problem. \n\nI have a few custom HTML tags for injecting MS Clarity and other marketing tools. \n\nThey need to fire AFTER the \\`Update Consent\\` event. To me this seems like the most basic of basic things but I have tried:\n\n1. Using the \\`Consent Banner Interaction\\` trigger, but this is too early since the consent is not set\n2. Created a \\`Consent Update\\` trigger in the hope of catching this event, but this never fires (presumably because of the inner workings of the \\`updateConsentState\\` function\n3. Added a timer event which waits 500ms after the variable which changes with the event which triggers the \\`Consent Management\\` template (why you can't put the timer on a trigger!), but this never fires\n4. Using the \\`Fire a tag after X tag\\` which works, but it only fires a single tag, and I have multiple\n   1. so I made a custom tag which fires another trigger which in turn fires my Clarity and other tags (which is really messy and feels out of control)\n5. Used a custom function in my app which exposes a function to push to the dataLayer and so fire a trigger as 2.1 (but this is even worse)\n\n  \nHow tf do you do this? It should be GTM's bread and butter!",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1etty3l/struggling_to_get_postconsent_tags_to_fire/",
        "num_comments": 7,
        "comments": [
            {
                "body": "How I do it for OneTrust.   \n[https://drewspen.weebly.com/blog/onetrust-with-google-consent-mode-entirely-from-gtm](https://drewspen.weebly.com/blog/onetrust-with-google-consent-mode-entirely-from-gtm)",
                "author": "Humble_Elderberry_25",
                "score": 2
            },
            {
                "body": "How I do it for Osano.  \n[https://drewspen.weebly.com/blog/implement-osano-cmp-in-gtm-with-consent-mode](https://drewspen.weebly.com/blog/implement-osano-cmp-in-gtm-with-consent-mode)",
                "author": "Humble_Elderberry_25",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "consent.studio has a custom event built-in that fires when a visitor updates their consent or when a new page is visited with prior consent. Maybe that helps?",
                "author": "Yallone",
                "score": 1
            },
            {
                "body": "**I suspect that you're trying to fire the custom HTML scripts after much of the page has loaded, and that's why it's failing.**\n\n  \n1) Please verify that HTML is not on a site blocklist: [https://stackoverflow.com/questions/76703170/custom-html-tag-not-fired](https://stackoverflow.com/questions/76703170/custom-html-tag-not-fired)\n\n2) Follow the diagnosis here:  \n[https://www.analyticsmania.com/post/tag-in-google-tag-manager-is-not-firing/](https://www.analyticsmania.com/post/tag-in-google-tag-manager-is-not-firing/) \n\n3) You said that you're using a consent template, but the foolish assumption is that you have a banner to go with it, and you're not artificially creating the signals....or are you?  I've done tests without a banner, and it's really difficult to approximate one.  Just thought i would eliminate this possibility.\n\n4) Why do the custom HTML tags containing the marketing tools need to fire after Consent Update?   This is very unusual practice.   Why are you trying to delay the firing of the HTML tags?\n\nIf you tried to trigger the HTML tags with the various actions described, it's no wonder they failed:  it's likely all of these attempted to inject a script long after the page was finished.\n\nRead up on that HTML tag because you're in for a few surprises: it doesn't work like you think.\n\nYou did an incredible job of trying to diagnose yourself before posting on Reddit.  Love how you tried all those things.",
                "author": "Firm_Sense9730",
                "score": 1
            },
            {
                "body": "Works for me. And I run Downnotifier so I know it is up. And works based on recorded traffic in Google Analytics. I cannot debug your Internet connectivity issues with so little information.",
                "author": "Humble_Elderberry_25",
                "score": 1
            },
            {
                "body": "[deleted]",
                "author": null,
                "score": 1
            },
            {
                "body": "I do not need to \"do better research\" to debug your Internet connectivity considerations. That should be your responsibility.",
                "author": "Humble_Elderberry_25",
                "score": 1
            },
            {
                "body": "[deleted]",
                "author": null,
                "score": 0
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1717404434.0,
        "title": "Cookieless pings. Getting different results.",
        "author": "Agreeable_Anteater21",
        "id": "1d6zsx5",
        "selftext": "Hi there,\n\nI recently landed a job as a data analyst and I take care of the integration with GTM, GA4, Ads, etc. It has been really fun so far, except dealing with cookie management, especially Consent Mode V2.\n\nNow to my question: I have a CMP installed, which supposedly already integrates the \"advanced consent mode\" that is supposed to send cookieless pings with anonymous data from users who do not accept consent. So far, my experiments have returned 0 information in GA4. I've also made conversion tests, and in 1 out of 2 cases, the conversion has shown up in Google Ads but not in GA4.\n\nIs anybody else experiencing such inconsistencies? Has anybody been able to set things up so that it's reliable and actually understands what is going on?\n\nThank you a lot in advance.\n\n",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1d6zsx5/cookieless_pings_getting_different_results/",
        "num_comments": 11,
        "comments": [
            {
                "body": "Are you expecting to see the cookieless pings data in GA4? Correct me if I'm wrong but I think the whole point is that this data won't show up directly in GA4 reporting and will \"only\" be used for data modelling behind blended identity reporting option.",
                "author": "small_foot_2490",
                "score": 8
            },
            {
                "body": "[deleted]",
                "author": null,
                "score": 4
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "You’re correct - hope OP sees this response!",
                "author": "Gullible_Attitude_20",
                "score": 1
            },
            {
                "body": "Thank you u/parkrangerDK , I found the menu in the GA4 admin section. Data modeling shows up as inactive still, probably due to lack of enough visitors.",
                "author": "Agreeable_Anteater21",
                "score": 1
            },
            {
                "body": "It's reasonable considering it's not easy to understand it since it's not really clear how it works, and nobody is getting the cookie banners/gdpr correct.",
                "author": "ResearchScience2000",
                "score": 1
            },
            {
                "body": "Got it. I don’t fully understand that either. I just thought that data analysts are exactly the people I would ask for help if needed.",
                "author": "jakub_curik",
                "score": 1
            },
            {
                "body": "You don't need to thank me. My comment is not related to problem with cookieless pings. Other redditors already answered and they're right.",
                "author": "jakub_curik",
                "score": 1
            },
            {
                "body": "u/jakub_curik thanks for your very useful comment.",
                "author": "Agreeable_Anteater21",
                "score": 0
            },
            {
                "body": "You landed job as a data analyst and still you are asking that? Don't get me wrong. I am happy for you and wish you the best but holy fuck.",
                "author": "jakub_curik",
                "score": -1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1699609499.0,
        "title": "Tracking Submitting forms without a Thank you page using only Google Tag Manager",
        "author": "Diligent_Ad_8876",
        "id": "17s0lof",
        "selftext": "Hello dear community,\n\nI want to track Submitting forms without a Thank you page using only Google Tag Manager, but I am stuck now.\n\nThe easiest way is to use Element visibility and CSS Selection.\n\nBut the trigger didn't fire.\n\nI think my mistake is that I don't copy correctly the code from CSS.\n\nHere are two examples(one of them is built with Elementory)\n\nFirst code:\n\n<div class=\"fusion-alert alert success alert-success fusion-alert-center fusion-form-response fusion-form-response-success alert-dismissable\" style=\"background-color: hsla(var(--awb-color5-h),var(--awb-color5-s),var(--awb-color5-l),calc(var(--awb-color5-a) - 100%)); color: hsla(calc(var(--awb-color5-h) - 93),var(--awb-color5-s),var(--awb-color5-l),var(--awb-color5-a)); border-color: hsla(calc(var(--awb-color5-h) - 93),var(--awb-color5-s),var(--awb-color5-l),var(--awb-color5-a)); border-width: 1px; display: block;\" role=\"alert\"><button type=\"button\" class=\"close toggle-alert\" data-dismiss=\"alert\" aria-label=\"Close\">×</button><div class=\"fusion-alert-content-wrapper\"><span class=\"alert-icon\"><i class=\"fa-lg fa fa-check-circle\" aria-hidden=\"true\"></i></span><span class=\"fusion-alert-content\">Thank you for your message. It has been sent.</span></div></div>  \n\n\nI am copying to GTM this:\n\n.fusion-alert alert success alert-success fusion-alert-center fusion-form-response fusion-form-response-success alert-dismissable(using dot in front)\n\n[https://ibb.co/yW51wgs](https://ibb.co/yW51wgs)\n\nHere it how it looks\n\nSecond code\n\n<div class=\"elementor-message elementor-message-success\" role=\"alert\">Your submission was successful.</div>  \n\n\nI am copying to GTM this:\n\n.elementor-message elementor-message-success((using dot in front)\n\nHere is how it looks:\n\nhttps://ibb.co/GvNrsBW\n\nI really appreciate any help you can provide.NrsBW\n\nThe tag still doesn't trigger. Where is my mistake, I don't copy the correct part of the code?\n\nI really appreciate any help you can provide.",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/17s0lof/tracking_submitting_forms_without_a_thank_you/",
        "num_comments": 22,
        "comments": [
            {
                "body": "You can use \"click text\" or \"form text\" in the \"fire this tag on all pages\" options in the trigger. Then use contains and use some of the text from the success prompt that is unique to that forms. Like \"form text contains\" with \"someone from sales will be in touch\" or whatever the text is.",
                "author": null,
                "score": 2
            },
            {
                "body": "No, I didnt. I watched several tutorials, where they didn't click it.",
                "author": "Diligent_Ad_8876",
                "score": 2
            },
            {
                "body": "Yeah that's right but you missed one space in the first selector. Here you go:\n\n\n.fusion-alert.alert.success.alert-success.fusion-alert-center.fusion-form-response.fusion-form-response-success.alert-dismissable\n\n\nIf it still doesn't fire correctly, try checking the \"Observe DOM changes\" option.",
                "author": "brannefterlasning",
                "score": 2
            },
            {
                "body": "Thank you very much for your help. Now everything is working fine.",
                "author": "Diligent_Ad_8876",
                "score": 2
            },
            {
                "body": "Thank you again :)",
                "author": "Diligent_Ad_8876",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "I\n\nIs there a way to track them by the text message?? the same code, but different thank-you messages.",
                "author": "Diligent_Ad_8876",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Selectors are written without spaces and each individual class name needs to be prefixed with punctuation.",
                "author": "brannefterlasning",
                "score": 1
            },
            {
                "body": "Elementor forms do have a callback function which you can use to setup a custom event triggering. Last time I messed with Elementor Forms, I didnt manage to get normal triggers working. Something to do with <form> tags. For forms I guess GTM only reads submit buttons or something.",
                "author": "ampsuu",
                "score": 1
            },
            {
                "body": "You clicked the checkbox for \"observe DOM changes\" in the trigger right?\n\n&#x200B;\n\nI would just try .alert-success for the CSS class.",
                "author": null,
                "score": 1
            },
            {
                "body": ">prefixed with punctuation.\n\nSometing like this:\n\n.fusion-alert.alert.success.alert-success.fusion-alert-center.fusion-form-response fusion-form-response-success.alert-dismissable\n\n.elementor-message.elementor-message-success\n\nIf not can you please show me how to do it correctly?\n\nDo I copy the right part of the code?",
                "author": "Diligent_Ad_8876",
                "score": 1
            },
            {
                "body": "Custome event triggering? You mean GA4, right?\n\nCan we do it only with GTM?",
                "author": "Diligent_Ad_8876",
                "score": 1
            },
            {
                "body": "You need to have it clicked or it will not see the... DOM changes :) \n\nThats what is happening when the thank you message takes the place of the form. \n\nLet me know how that works for you :)",
                "author": null,
                "score": 1
            },
            {
                "body": "Although it feels like just using one of the class names would be sufficient. For example:\n\n\n.fusion-form-response-success",
                "author": "brannefterlasning",
                "score": 1
            },
            {
                "body": "Technically it works fine without  \"observe DOM changes\", but not if the website is built with Elemantor. \n\nIf it is built with Elementor, then I need to use  \"observe DOM changes\" in order for tag to be triggered.",
                "author": "Diligent_Ad_8876",
                "score": 1
            },
            {
                "body": "Also, if the form is embedded in an iframe, this might not work either way and you will need to use a different solution.",
                "author": "brannefterlasning",
                "score": 1
            },
            {
                "body": "Element visibility can always be a bit buggy. \n\nAnd yeah, its kind of dependent on the CMS / Coding used.\n\nSometimes its doesn't work at all and you end up needing a thank you page.",
                "author": null,
                "score": 1
            },
            {
                "body": "It is working like a charm. Big thanks from me :)\n\n1)I see that they have two contact form(the code starts exactly the same), but the text is different(when you submit the form). Can you track it by the message that appears when it is sent?\n\n1)I see that they have two contact forms (the code starts exactly the same), but the text is different(when you submit the form). Can you track it by the message that appears when it is sent?",
                "author": "Diligent_Ad_8876",
                "score": 1
            },
            {
                "body": "Yeah it's possible but the setup is a bit more complicated since you can't use CSS selectors to target an elements contents. Here are the steps:\n\n\n1. Update the CSS you are using to target the element that contains the text. I believe that would be:\n```\n.fusion-form-response-success>span.fusion-alert-content\n```\n\n\n2. Create a new Auto-event variable that targets \"click text\" (or element text, can't remember which one is in the list).\n\n\n3. Go back to your trigger, select \"some events\" at the bottom. Add your element text auto event variable and then add the message text in the other input box.",
                "author": "brannefterlasning",
                "score": 1
            },
            {
                "body": "No problem! \n\nGlad its working! Thanks for letting me know!",
                "author": null,
                "score": 1
            },
            {
                "body": "Thank you.",
                "author": "Diligent_Ad_8876",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1715857585.0,
        "title": "Looking for recommendations for alternatives to Cookieyes (Consent mode)",
        "author": "Robsonowskyy",
        "id": "1ctabg2",
        "selftext": "Hi, lately I started having issues with Cookieyes and looking for alternatives. My problem with it is optimization which isn't perfect. Load time takes up to 9sec on mobile devices. Also it started loosing data.\n\nDo you have recommendations? Factors I care about are:\n\n* Easy to integrate (best would be to tag manager)\n* Relatively cheap (most of my clients are small so it cannot be too expensive)\n* No data loss (I do not operate on a lot of data so any loss could change the outcome of my stats)\n* Polish language supported (I'm from Poland so I need it to support our language)\n* Better optimalized than Cookieyes",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1ctabg2/looking_for_recommendations_for_alternatives_to/",
        "num_comments": 11,
        "comments": [
            {
                "body": "Cookiebot all the way!",
                "author": "dowmi12",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Onetrust is pretty good. There’s a list of consent banners on googles support pages",
                "author": "xxlizardking-kongxx",
                "score": 1
            },
            {
                "body": "I built a lightweight 3kB banner for Google Consent Mode but I'm not sure if it would be okay to promote it directly here so I DMed OP.",
                "author": "small_foot_2490",
                "score": 1
            },
            {
                "body": "You can use [https://www.cookieconsent.com/](https://www.cookieconsent.com/) but you need to set up the tags yourself in GTM or code them directly.",
                "author": "zenith66",
                "score": 1
            },
            {
                "body": "CookieBot has suffered the same problems OP describes.\n\nOP’s problem may be limited to Poland, because it loads essentially instantly on my site (UK based)",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "Thanks for response I'll look into it",
                "author": "Robsonowskyy",
                "score": 1
            },
            {
                "body": "DM it to me as well please, if you can/want to.",
                "author": "zenith66",
                "score": 1
            },
            {
                "body": "Thanks I'll try it. Didn't know there are tools that setup tags for you",
                "author": "Robsonowskyy",
                "score": 1
            },
            {
                "body": "That's just a free cookie banner. You need to use Simo Ahava's Cookie Consent templates to set it up properly.",
                "author": "Fine-Marketing-8134",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1725893229.0,
        "title": "Server GTM HTTP Request",
        "author": "Favarazz",
        "id": "1fcr7gm",
        "selftext": "Hi all --\n\n  \nI am trying to use an internal API endpoint for a client. I have setup the API to fetch the data I am looking to pass/enhance our sGTM instance with.\n\nI have setup a HTTP Request instance and have confirmed that this GET request works -- but I cannot find out how to store the response.  Any ideas?",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1fcr7gm/server_gtm_http_request/",
        "num_comments": 4,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "I think what you are asking is how to sue the response from the API call in a tag?\n\nSo you have your custom template for the API call returning the data? Once you have the returned data (depending on the complexity of the response), you will need to map UDV to the response and then add that UDV to a tag.\n\nIf you want to extract an object you will need to updated either the template or have something in the middle extracting (I would recommend the latter, as its a useful script to extract objects for future projects).\n\nI would create two templates like this:\n\n* A Template that does the HTTP request and returns the complete response, and that can take a Call Type/URL and credentials.\n* A Object Extractor (with a custom field of the object path) that you can define from the UDV that is using the above template.\n\nThe above templates should make it easier to maintain and then also makes the code reusable for other projects.",
                "author": "FullSpare1352",
                "score": 1
            },
            {
                "body": "I can see the GET request response as the response body but cannot find out how to seemlessly add it as a variable. \n\nmy hacky solution sends a different event with the response as the event data and then creating a variable based on that. I can access that data but then I cannot have it augment the initial event that triggered my custom HTTP request.",
                "author": "Favarazz",
                "score": 1
            },
            {
                "body": "yeah i don't think that will work, as the event is seperate and the previous event data is not persistent.  \n\n\nThe variants are not persistent between inbound events, they are in the context of the event that has come in. \n\nI would personally rewrite as the steps above.",
                "author": "FullSpare1352",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1725951794.0,
        "title": "The requestor does not support sending pixels from browser. Third party cookies will not be collected as a result.",
        "author": "FullSpare1352",
        "id": "1fdbubi",
        "selftext": "Hey, \n\n  \nI am getting this in my GTM server container, the google ads conversion tracking is a 302 response and for the life of me I just cant figure out what it is...\n\n  \nAny ideas what this means?",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1fdbubi/the_requestor_does_not_support_sending_pixels/",
        "num_comments": 3,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Same question here.\n\n  \n`The requestor does not support sending pixels from browser. Third party cookies will not be collected as a result.`\n\n  \nAnyone knows what this means?",
                "author": "pommoh",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1723651931.0,
        "title": "Enabling Analytics Storage In Consent Mode",
        "author": "NegativeStreet",
        "id": "1es5ouj",
        "selftext": "Would setting the analytics\\_storage functionality to granted be against policy/law? Any tips on how I might figure that out for myself?\n\n  \nMy thought was that since it's not directly related to advertising, just actions taken on the website, it might be ok to use and the default being denied is for more strict regions?\n\n  \nThis is for a Canadian audience, the law is a little more lenient than EU and CA.\n\n  \nThanks",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1es5ouj/enabling_analytics_storage_in_consent_mode/",
        "num_comments": 3,
        "comments": [
            {
                "body": "https://secureprivacy.ai/blog/canada-pipeda-cookie-banner#:\\~:text=Non%2Dcompliant%20cookie%20banners%20can,before%20placing%20non%2Dessential%20cookies.\n\nYou need explicit user consent before placing non-essential cookies. Likely aligns with GDPR and ePrivacy insomuch as you can't read or write non-essential data using a browser storage API (cookies, localStorage, sessionStorage etc) without consent.",
                "author": "StefanAtWork",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "This is great, thank you for the resource and the response! Denied as default it will remain lol. I'll give the rest of that page a review too",
                "author": "NegativeStreet",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1706051964.0,
        "title": "GTM event not visible in GA4 debug",
        "author": "trp_wip",
        "id": "19e26z2",
        "selftext": "I have several events that I set up in GTM and they are firing properly. I can see all of them in GA4 debug. Some of them are modified click events, some are custom events.\n\nI have created a tag with an event called purchase\\_acc. When I test it in GTM preview, it fires properly.  But when I look at GA4 debug view, I can see page\\_view, click, my other custom events, but not this one. What can be the cause of this?\n\nI do not have consent mode activated, it is not  a server-side setup, I used the same constant with my measurement ID that I used for other tags. I'd really appreciate help.\n\nThanks in advance!\n\nEDIT: I figured it out. I needed to add gtag to Shopify's checkout.liquid. Does anyone know why since other stores work fine without gtag in checkout.liquid?",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/19e26z2/gtm_event_not_visible_in_ga4_debug/",
        "num_comments": 14,
        "comments": [
            {
                "body": "I figured it out. This is a Shopify store and I needed to put a gtag for some reason in checkout.liquid. No other client needs this, everyone is doing fine with only GTM, but  at least I managed to get it work partially. I am still not getting all parameters I need in GA4, but at least it is registering it.",
                "author": "trp_wip",
                "score": 2
            },
            {
                "body": "Yes. This is a Shopify store and it needed gtag script in checkout.liquid. Usually it is not necessary, since there is GTM script there. I only came up with this solution since I had a similar issue with another event before.",
                "author": "trp_wip",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Ensure that the parameters associated with the \"purchase\\_acc\" event are correctly configured both in GTM and in the GA4 tag setup. Mismatched or missing parameters can sometimes cause events not to be tracked properly.\n\nUse the GTM preview mode to check the values of variables associated with the \"purchase\\_acc\" event. This can help ensure that the necessary data is being passed to GA4.",
                "author": "Powerful_Yesterday31",
                "score": 1
            },
            {
                "body": "In Chrome dev console network tab, does the event successfully send data to Google's endpoint?\n\nAre you able to wait until the data processes and check in GA4 if the event logged?\n\nSometimes debug mode is...buggy and doesn't always display events correctly",
                "author": "hashtag_RIP",
                "score": 1
            },
            {
                "body": "[removed]",
                "author": null,
                "score": 1
            },
            {
                "body": "this is the AI response lol but I'm not sure what it means",
                "author": "joevaded",
                "score": 1
            },
            {
                "body": "All of the parameters I am sending are known parameters. I am sending ecommerce.items as list of items, transaction\\_id, affiliation, tax, shipping, value, coupon, currency. It works in GTM, they are all there.",
                "author": "trp_wip",
                "score": 1
            },
            {
                "body": "My debut is always empty, console network shows the send to google but I always get a 302 or the other one (never a 200)",
                "author": "joevaded",
                "score": 1
            },
            {
                "body": "If I can review it, maybe I will understand what the problem is.",
                "author": "Powerful_Yesterday31",
                "score": 1
            },
            {
                "body": "What event name have you given in tag manager if it is ppurchase\\_acc  then change it and give the event name purchase.",
                "author": "Powerful_Yesterday31",
                "score": 1
            },
            {
                "body": "Sorry, would be happy to, but I am under NDA with my company, so this is as far as I can stretch it. I cannot show any data.",
                "author": "trp_wip",
                "score": 1
            },
            {
                "body": "I don't want to call it purchase, that's the whole point of this. I need a purchase event tracked differently than regular purchase event.",
                "author": "trp_wip",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1713171760.0,
        "title": "help",
        "author": "CorvoJoe",
        "id": "1c4hkh2",
        "selftext": "Hi, can you please explain to me how to track this event in GTM - GA4?  \nIt happens when someone has submit a form and receive a success message\n\n<div class=\"wpcf7-response-output\" aria-hidden=\"true\">Grazie per il vostro messaggio. È stato inviato.</div>    \n\n\nthank you for your help!\n\n",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1c4hkh2/help/",
        "num_comments": 9,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "1. Setup dataLayer  \n2. Element Visibility  \nChose one which works for you",
                "author": "_practical_data_",
                "score": 1
            },
            {
                "body": "It will need listener code. Google contact form 7 listener code and utilize it in the google tag manager.",
                "author": "Evan-Ivan",
                "score": 1
            },
            {
                "body": "You create an element visiblity trigger in GTM- it is one of the default trigger types. You add a restriction to the trigger where it fires for only the class name wpcf7-response-output. You then use that trigger to fire a GA4 event tag that sends the information to GA4. This might help.\nhttps://www.analyticsmania.com/post/track-element-visibility-based-on-text-with-google-tag-manager/",
                "author": "Humble_Elderberry_25",
                "score": 1
            },
            {
                "body": "The best way is to use the Listener code for WP CF7 form. I can help you to listen to events by listener codes of this form and send the event to GA4 or any other platform using GTM. Let's connect throughout chat!",
                "author": "analyst_bappy",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1708508982.0,
        "title": "Be careful out there",
        "author": "StefanAtWork",
        "id": "1aw8b4c",
        "selftext": "I've notced an increase in the number of comments in this subreddit where OP has asked a very reasonable question and the response is something like \"I'm a GTM expert, message me\".\n\nI don't and likely never will claim to be a GTM expert, but I try to keep my replies public in case they also help someone else, which considering how keenly Google index Reddit posts, it's quite likely that someone with the same problem will find the thread.\n\nIf an OP wants to take a discussion private, that's their choice.\n\nI've had Redditors come to me with offers of paid GTM work, but it's not something I'm pushy about offering.\n\nSo... be careful. GTM is complex, so the more we keep posts and replies public the more it will help everyone.",
        "score": 33,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1aw8b4c/be_careful_out_there/",
        "num_comments": 7,
        "comments": [
            {
                "body": "It's 2024 now :)",
                "author": "StefanAtWork",
                "score": 3
            },
            {
                "body": "Thanks. I would say you are an expert. Your posts have helped me loads.",
                "author": "benl5442",
                "score": 2
            },
            {
                "body": "I've thought about this as well. Personally I frown upon such solicitation. A question raised in a public forum should get a public answer and not a sales pitch. Information should be shared freely but if OP is asking for practical help then that's another thing.",
                "author": "brannefterlasning",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Exactly this!",
                "author": "Environmental-Car517",
                "score": 1
            },
            {
                "body": "Your confidence is appreciated! I'm learning every day and I'm definitely not always right about things, but oh boy I do have *opinions* on things!",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": -1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1714581444.0,
        "title": "Tracking Shopify videos",
        "author": "trp_wip",
        "id": "1chqn9z",
        "selftext": "Can someone help me out with this? I can only track click on videos on Desktop view. If I switch to responsive/smartphone view, not even clicks like on Desktop. I need to track everything like for YouTube videos: play/pause, duration watched in percent, video completed. How to do this?\n\nThanks!",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1chqn9z/tracking_shopify_videos/",
        "num_comments": 6,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Yes. It involves using a custom JS listener which is like a 100 lines of code.",
                "author": "KalaBaZey",
                "score": 1
            },
            {
                "body": "You need a listener code for that, search google for Youtube listener code",
                "author": "analyst_bappy",
                "score": 1
            },
            {
                "body": "Can you tell me how?",
                "author": "trp_wip",
                "score": 1
            },
            {
                "body": "[removed]",
                "author": null,
                "score": 0
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1710927984.0,
        "title": "Tracking on subdomain",
        "author": "QDRS",
        "id": "1bj9mhf",
        "selftext": "I'm experiencing tracking issues with the sign-up process on my website. When users want to sign up, they are redirected to a subdomain where they have to complete a 3-step form. Upon completion, they are redirected back to the main website to a thank-you page, which we've set up as a conversion. I drew it out here if that makes it more clear: https://imgur.com/a/LQwrC2K\n\nQuestion 1: I've tested the conversion tracking, but it's not registering for me in SEA when I reached the thank-you page. I suspect this might be because users first navigate through a subdomain. How can we accurately track conversions in this scenario? Important to note is that I do see conversions coming in, so I'm not sure why it's not when I'm testing it. My ip isn't excluded.\n\nQuestion 2: The form on the subdomain consists of 3 steps. If a user completes the first step, they should already be counted as a conversion. How can we ensure this is properly tracked?\n\nSorry for long question but would love some help!",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1bj9mhf/tracking_on_subdomain/",
        "num_comments": 8,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Do you use same gtag on both domains? If so, it should work correctly \n\nUse a datalayer event when the first field is filled in and use it a custom event trigger for your conversion tag",
                "author": "NapoleonBonafart",
                "score": 1
            },
            {
                "body": "is your domain and subdomain tagged with the same GTM container and same GA4 measurment stream? is you GA4 measurement stream set up for cross domain tracking? is your form on the subdomain inside an <iframe>? if it is inside an <iframe> are you using the post / listener technique to communicate with the <iframe>?",
                "author": "Humble_Elderberry_25",
                "score": 1
            },
            {
                "body": "Thanks for your response, just to be sure that I understand correctly: This first requires me to install GTM on the subdomain right? Do I install the same tag manager code(same container) on the subdomain that I use on the main website? So I can then install the gtag, ga4 tag etc on the subdomain.",
                "author": "QDRS",
                "score": 1
            },
            {
                "body": "Same gtm",
                "author": "NapoleonBonafart",
                "score": 1
            },
            {
                "body": "Again, have you used the same measurement stream on your subdomain? Cross domain settings in GA are not necessary if you used the same measurement stream for both. Have you?",
                "author": "Humble_Elderberry_25",
                "score": 1
            },
            {
                "body": "Thanks for your response, I thought cross domain tracking is not neccesarry for subdomains?",
                "author": "QDRS",
                "score": 0
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1715264576.0,
        "title": "Remote opportunity as a Tracking Specialist in Agency",
        "author": "OldAirport2135",
        "id": "1cnyi5r",
        "selftext": "I have really good experience in the Tracking field with GTM and GA4, did many complex projects for lead gen and ecom business (such as iframe form tracking and custom javascript for datalayer push). But most of these were project based. I was specifically looking for a fixed position in an agency where they have multiple clients for me to work on multiple projects.  \n  \nSo i started outreaching to agencies in LinkedIn and through email. Tried multiple templates and multiple approaches, but didn't get much positive response as most of them had their guy to help them with technical marketing. I assumed there is a problem with me identifying which agencies to approach, how to categorize them. So now i am looking for suggestions on how to effectively find agencies where i can shine with my expertise. \n\nI have learned so many things such as enhanced conversion tracking for Google and Bing ads , Pixel setup with Conversion API and server side tracking for Facebook, Snapchat, TikTok, Pinterest. But i have had slim chances to implement these. Adding to this, I also wish to advance my career in business analysis and learned some reporting with GA4, but not having the chance to nurture these had been kinda frustrating for me.\n\nWorked 10 hours daily on outreach for the last 2 weeks. So any lead or suggestions on this would be highly appreciated as i am on the brink of losing motivation to find a genuine opportunity and flourish in my career as a Technical Marketer and Business Analyst.",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1cnyi5r/remote_opportunity_as_a_tracking_specialist_in/",
        "num_comments": 5,
        "comments": [
            {
                "body": "Send me a DM.  I have a firm called TagHero that specializes in tagging/tracking, specifically in the DTC ecomm space, and we're always plenty busy and looking for additional contractors to source projects to.",
                "author": "brett_fish",
                "score": 3
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Just DM'd you.",
                "author": "RegexSEO",
                "score": 1
            },
            {
                "body": "sent",
                "author": "OldAirport2135",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1713369396.0,
        "title": "GMT and Bing counting conversions twice",
        "author": "Grouchy_Coder5603",
        "id": "1c6dgsx",
        "selftext": "I'm trying to use both Bing and GTM at the same time. My app has a user action where I am emitting an event which is used to detect conversion.\n\nThe conversion goal is defined in both Bing and Google, so the problem is that I am getting charged by both of them. \n\nIt seems that I need to somehow detect that the user came in from Bing vs. Google, and make my conversion event based on that:\n\n\\- User came in from Bing and performed user action --> Bing Conversion\n\n\\- User came in from Google and performed user action --> Google Conversion\n\n&#x200B;\n\nIs it possible to do this?\n\nTIA",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1c6dgsx/gmt_and_bing_counting_conversions_twice/",
        "num_comments": 6,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "None of what you’re saying makes much sense. \n\nBing and Google both OBSERVE all conversions but only ATTRIBUTE AKA take credit for a conversion if they have params / cookies that indicate the traffic came from that channel.\n\nDouble counting where Bing & Google take credit for the same conversion should be borderline impossible.\n\nDouble counting conversions where Google gets credit for the same conversion twice is likely. Look at your preview and test mode to see if your tags are firing twice and adjust your trigger settings.",
                "author": null,
                "score": 1
            },
            {
                "body": "Thanks for the response - I'll check on that!",
                "author": "Grouchy_Coder5603",
                "score": 1
            },
            {
                "body": "So I've been through this a couple of times but must be missing something here.\n\nMy app is a single-page React App using both GTM and Bing Ads. The loading / index page of the app initializes the tag managers. For Google it initializes GTM, and for Bing it installs the [bat.bing.com/bat.js](http://bat.bing.com/bat.js) script\n\nIn the app, when the user performs the action which is the conversion, the code emits an event. I added one for each platform, though I know this isn't necessary. The event emit code looks like:\n\n    User does some action, then below code runs:\n    // emit event using Google GTM code:\n    Google.dataLayer.push(({ event: 'GAevent' })\n    \n    // emit a different event using Bing:\n    window.uetq = window.uetq || [];\n    window.uetq.push({ ea:'MSevent' });\n\nBOTH of these get sent when the user performs the action.\n\nIn Google there is a Tag defined in GTM which is triggered on 'GAevent'\n\nIn Bing there is a UET tag triggered on 'MSevent'\n\nWhen the user performs the action, both events get fire and I see MSevent in the Bing Ad console, and GAevent in the GTM console.\n\nThere must be something I am mis-understanding here. What I need is to run Ads in both Google and Bing. If a user enters via Bing, I only want to be charged for the MSevent conversion, and if the user comes in via Google, only get charged for the GAevent conversion. There is no way for my code to know a user came from Bing or Google in order to fire one of the other event.\n\nDoes this make any sense?",
                "author": "Grouchy_Coder5603",
                "score": 1
            },
            {
                "body": "I think I follow. If I’m reading your code documentation, you’re firing both the Ad Conversion event AND a GTM push event from your app. Then you’re also using that GTM push to fire a conversion from GTM.\n\nThat seems pretty clearly to be the source of the double firing.\n\nOnly fire the GTM event push out of your app. Don’t install any ad conversion code directly.\n\nFire all ad conversions from GTM using your event pushes as triggers. \n\nIf that sounds overly simplistic, I apologize. I may not be able to help you beyond that.",
                "author": null,
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1712062321.0,
        "title": "Need help tracking (button) clicks within a certain section of the page",
        "author": "ImperativeConfusion",
        "id": "1btxydc",
        "selftext": "Situation: We are trying to track products e-commerce data in the 'related products' section of our product pages. We use the Amasty addon for Magento 2 for these related products rules and the section they are placed in shows up in the code as follows: \n\n<div class=\"block widget amrelated-grid-wrapper block-products-list grid\" id=\"amrelated-block-51\">\n\nIn this element will be the related products, '51' in this case is the number of the related products rule. In this related products block customers have the option to click on the products to go to the product page, or click directly on an add to cart button.\n\nGoal: To track the e-commerce for these related products rules so we can see how the individual rules and products perform. Currently, I can't figure out how to track ONLY button clicks within this element,  can anyone help me out?\n\nIf you need more information or have other questions, please let me know!\n\nThank you in advance.\n\n&#x200B;\n\n&#x200B;",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1btxydc/need_help_tracking_button_clicks_within_a_certain/",
        "num_comments": 6,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "I know GTM well and I'm good at reading CSS. The solution you're looking for is still one of the least enjoyable things to do in GTM.\n\nYou need to use a click trigger that also has a CSS selector as a condition. I'm in the middle of some tricky reverse-engineery type stuff at the moment, but what you want to figure out is how to craft a CSS selector that can identify the unique aspect of your <div>, whether that's the class or id.\n\nIf you have a look at CSS selectors (hint: You can't treat them like strings... you can't use \"contains\" or \"matches regex\" on them) but still can't solve it, give me a shout (mention u/DigitalStefan also, as that's my non-work account).",
                "author": "StefanAtWork",
                "score": 1
            },
            {
                "body": "Thank you for your detailed response! I figured it would be a bit of a hassle ;) I'll give it a try",
                "author": "ImperativeConfusion",
                "score": 1
            },
            {
                "body": "Hey u/StefanAtWork / u/DigitalStefan,\n\nI've spent a lot of time trying to get this working but I seem to have hit a roadblock and I have come to the conclusion that building CSS selectors is the new the bane of my existence lol. Any way you could point me in the right direction?\n\nI can't seem to figure out how to isolate any <div id> starting with <\"amrelated-block\"> without having to specify the actual number (51 in this case, making it 'amrelated-block-51') as well.\n\nAnd if I simply use \".block.widget.amrelated-grid-wrapper.block-products-list.grid\" as a selector I only get HTML output which doesn't get me very far.\n\nI am really living up to my username it seems and would appreciate any help you can give!",
                "author": "ImperativeConfusion",
                "score": 1
            },
            {
                "body": "You can use the Auto event variable in GTM to track this.",
                "author": "Brave_Mission_4682",
                "score": 0
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1704258928.0,
        "title": "Server-side tagging installation",
        "author": "Chaitanya1910",
        "id": "18xbavr",
        "selftext": "Hello,\r  \nI have been running ads for my client's business for more than 1 year. I am using Google Tag Manager for all tracking & conversion setups. In previous months I installed server-side tagging through Google Tag Manager. 2 days later my Google Ads account was suspended by the Google Ads team. When I contact their support team. They are not providing a proper solution.\r  \n\r  \nI made some changes in server-side tagging. But still, my account is suspended, How to overcome this?  \n\n\nWaiting for a positive response.",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/18xbavr/serverside_tagging_installation/",
        "num_comments": 10,
        "comments": [
            {
                "body": "How to you mean suspended due to server side?",
                "author": "JarvanXL",
                "score": 2
            },
            {
                "body": "\nDid you checked the account settings?\nI remember that there will be a note with the reason for the block\n\nI know of no reason why SST could lead to this and cause the ads account to be blocked, because it only controls the endpoint and the playout of the pixel.\n\nAs long as you don't advertise content or link to pages that violate the terms and conditions.",
                "author": "Torpedo_hh",
                "score": 2
            },
            {
                "body": "What region of the world are you? The rest of these comments are right that SS would not force a suspension. However, I know Google is going to be looking for businesses to forward `optOut = true` so they can model that data. They have outlined they will impact accounts that do not forward this, however, this is tied more to consent mode 2.0. That would be the only place I would explore if nothing comes back from the Google ads team. Good luck!",
                "author": "dgpaul10",
                "score": 2
            },
            {
                "body": "Must be another cause, sst will not cause a suspension normally",
                "author": "NapoleonBonafart",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Yes, After I installed and 2 days later account got suspended by the Google ads team. In 1 and a half, I am running the campaign when server-side tagging is not installed. But after server-side tagging. I faced this situation",
                "author": "Chaitanya1910",
                "score": 1
            },
            {
                "body": "Thank you for your reply. Let me check the onced",
                "author": "Chaitanya1910",
                "score": 1
            },
            {
                "body": "Ohh. Great. Thank you so much for your reply. My ad location is in India",
                "author": "Chaitanya1910",
                "score": 1
            },
            {
                "body": "Ok. You guys are saying, Maybe this Google ads problem not Server side tagging problems. Am I right?  \n\n\nI will check the once again.",
                "author": "Chaitanya1910",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1712035560.0,
        "title": "GTM and GA4 Integration Issue - Events being dropped & Sessions shown as Unassigned",
        "author": "shoo_sp",
        "id": "1btqt2x",
        "selftext": "I have created custom events which I use as conversion events for Google Ads Through Google Analytics 4.  \nI am facing 2 issues. I am not sure if they are totally unrelated.  \n1. Data consistency issues with integration using GTM and Direct Measurement Protocol API    \n2. A chunk of sessions shown with source as Unassigned.  \n**1. Data consistency issues with integration using GTM and Direct Measurement Protocol API:**  \nI have created custom event trigger in Google Tag Manager to add entries in Google Analytics 4.  \nEverytime a user signs up to my app, I push user data along with custom event through data layer to GTM. As it matches conditions, this data is then pushed to Google Analytics.  \nNow for some reason, around 10-15% of the events pushed to data layer don't end up reaching GA4. They are dropped somewhere around GTM. I put logs before and after the GTM datalayer push function along with logs in callback as well. All of them show positive response. But still a lot of events do not reach GA4.   \nIn contrast, I push GA4 events through measurement protocol API from the server when the sign up are completed successfully on the server. These numbers are quite accurate to my Database numbers. There is a gap of around 15% between the 2. (GTM Integration vs Measurement Protocol API)  \nAlso the events being dropped are inconsistent and not dropped from only a particular place. Hence, it is getting trickier to debug. \n\n&#x200B;\n\n**2. A chunk of sessions shown with source as Unassigned:**  \nA chunk of sessions in traffic acquistion report, around \\~10-15% (similar count here as well) is shown unassigned and these sessions have metrics suprisingly way lower than average timings.  \nThese are in minus.  \n\\-80% Average engagement time per session  \n\\-94% Engaged sessions per user  \n\\-99% Engagement per user  \nI am looking to debug this. I tried contacting google team but I don't hear anything useful from them as well.   \nWould really appreciate some help and direction from community here.  \nThank you!  \n",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1btqt2x/gtm_and_ga4_integration_issue_events_being/",
        "num_comments": 4,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "1. Adblock/Brave etc that blocks client side calls?\n2. Bots?",
                "author": "_dehaze",
                "score": 1
            },
            {
                "body": "Hi, Thanks for you reply!  \n  \nI have had this thought, but not sure how I could verify.  \n1. How can I verify if Adblock/Brave is blocking the client side calls to GTM?   \n2. I am quite sure these are not bots, and they are real users.   \n  \nTo give you slightly more context, we have our landing pages and blog and other static content on wordpress and the web app on \"app<dot>mywebsite<dot>com\". When clicked on sign up on the landing page - the user is taken to app page to fill the form.",
                "author": "shoo_sp",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1710358705.0,
        "title": "User property implementation ",
        "author": "bgt3489",
        "id": "1be0lvv",
        "selftext": "Hello, I am asking the developer in my company to push a user property Registration_Type to the data layer. He asked me but I’m slightly unsure how to implement it. My assumption is that it should be pushed like the UserID with every page load, but is that correct? Because it doesn’t have to be pushed with every event, correct? \n\nI’ve been trying to find this information online but nothing very clear.\n\nThank you! ",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1be0lvv/user_property_implementation/",
        "num_comments": 5,
        "comments": [
            {
                "body": "Your assumption is correct. If the value is populated on page load it will persist until the page is unloaded or the value overwritten.",
                "author": "brannefterlasning",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Perfect, thank you so much for the response!",
                "author": "bgt3489",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1710335048.0,
        "title": "Facebook Pixel ID Issue in GTM",
        "author": "Xerago_Ebiz",
        "id": "1bdqxqn",
        "selftext": "Hi All,\n\nWe are using GTM for Facebook Pixel Implementation and we implemented the tag for all pages but it is not firing in some pages, in that some pages **in GTM tag assistant the tag status is fired but is not shown in the Omnibug debugger also no response in the network tap**, particularly for the same pixel ID Fired in some pages and not fired some pages how it is happening but if **we change the pixel id it will be fired in all pages** so what would be the issue, how do we solve this issue?\n\nCould anyone give some ideas to solve this?",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1bdqxqn/facebook_pixel_id_issue_in_gtm/",
        "num_comments": 5,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Correct me if I’m misunderstanding, but you’re saying with one pixel ID the tag fires properly across all pages but with a different pixel ID it does not? \nA couple of things:\n-are you using custom html or the Facebook tag template?\n- although I’m sure you’ve already done this, double check to confirm the Pixel ID\n- you might need to verify this within the meta platform, sometimes when sending events as well Meta has a requirement to verify the event. \n- check the console for any errors that could be blocking the scripts from working as required",
                "author": "Affectionate_Golf581",
                "score": 1
            },
            {
                "body": "Hey! If you still need assistance, feel free to DM me.",
                "author": "Exciting_Exercise525",
                "score": 1
            },
            {
                "body": "no. I mean, we implement the Facebook pixel tag using one particular ID for all pages but it is not firing on some pages, so while debugging this we also enter another pixel ID for testing in place of the old pixel ID but this time in every page the Facebook pixel tag is firing \n\nso are there any chances to block pixel ID for some pages  that should not be fired",
                "author": "Xerago_Ebiz",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1706000967.0,
        "title": "Additional GTM To A Website",
        "author": "Noblejay14",
        "id": "19dkc10",
        "selftext": "I was given the responsibility of managing our GTM property on our website, but I do not have access to the property neither does anyone in the company. The property was created by a freelancer some years ago and contact has been lost.  \n\n\nA WordPress plugin HFCM was used in installing the codes. Please I need clarity on this. Is it safe to deactivate GTM from the plugin and install another one on the website? \n\nAre there implications or side effects this might cause in the performance of the website?",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/19dkc10/additional_gtm_to_a_website/",
        "num_comments": 6,
        "comments": [
            {
                "body": "Regarding your question about safety in deactivating the GTM from the HFCM plugin and installing a new one, there are several key considerations:\n\n1. Before you deactivate the current GTM container, identify what tags are currently firing on your site. If you have no access to the GTM account, you might need to do this by inspecting the website with tools like Google Tag Assistant or browsing the source code. You'll want to replicate this setup in the new GTM container to preserve data continuity as much as possible.\n\n2. If the current GTM container is linked to critical services like Google Analytics, Google Ads conversions, remarketing tags, or any third-party analytics services, disabling it without a proper migration could lead to a loss of data and tracking downgrades.\n\n3. You'll want to document all changes, communicate with your team about what's happening, and why it's necessary. It's also a good idea to plan the switch during a low traffic period to minimize the impact in case there are any problems.",
                "author": "woloszanski",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "You can change the GTM code in the plugin to your new GTM account. But the old GTM account likely had a tracking setup for Google Analytics and/or other tags (like Google Ads, Facebook, etc.). So if you remove the old GTM and insert a new one, then the old setup will disappear from the website.",
                "author": "Drendo",
                "score": 1
            },
            {
                "body": "If you need to place a new GTM container on site to replace the old one, but you also need to retain the same tagging that was present in the old one, it's difficult but it can be done.\n\nI've done this for a relatively simple container for a client. It takes time, it involves recreating tags from the compiled version of the container and it's absolutely no fun at all.\n\nIf that's really the main thing you're struggling with, the question becomes how much is it worth doing versus starting a tagging strategy from scratch?",
                "author": "StefanAtWork",
                "score": 1
            },
            {
                "body": "If you need to recreate the container that’s on the website now, there’s a website called GTM Spy that will make your life a lot easier",
                "author": "blaff3687",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1711381804.0,
        "title": "Activity from",
        "author": "bebe1989_23",
        "id": "1bnh0ep",
        "selftext": "Hi all,\n\nI already posted the same question a few days ago and got a response, but I was still waiting on some answers on that. I was wondering if anyone else could maybe help :)? Is it right that this can come from bot traffic - even since the pixel is already deleted for a long time but the bots are also triggering old triggers in GTM that are deleted?\n\n**Earlier question:**   \nSo I have a question about some pixel activity.\n\n  \nIn the past, we have created an ad account on Reddit and we also implemented the Reddit pixel from that ad account on our website. However, we have never ran any ads and decided to not make use of Reddit advertising. So after a while the Reddit pixel was also removed from the website, since we were not making use of it.\n\n  \nHowever, now after almost 2 years that we removed the pixel (we have never looked into the ad account again) we still see some activity (pageview events) within the events manager of this pixel. We have asked the developer of the website to look into this, but they can not find anything. In the events manager normally you can also see the domain, but here is stated 'undetectable domains'. Reddit also looked into this and told us that the activity seems to come from gtm.-msr.appspot.com.  \nDoes anyone knows what this means and how this activity still could be caused? We also don't see activity on each day, sometimes it is zero for a few days and then a big peak or just a little bit.\n\n  \nThanks in advance!",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1bnh0ep/activity_from/",
        "num_comments": 3,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Hey there, this has been a pest for awhile. If you google the domain, you can find Measurement Schools YouTube video about it. \n\nCause seems to have nothing to do with Reddit, it seems like it has to do with GTM scanning containers for virus’s and having issues with frames triggering ghost page views.\n\nGeneral solutions are to set pixels to fire conditionally based on it not being from that domain. The great Simo himself has commented on it",
                "author": null,
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1705603175.0,
        "title": "Tracking Purchase Revenue - Data Layer Question",
        "author": "chazelet",
        "id": "199x8ol",
        "selftext": "Our client has a very custom built website. The platform/website allows people to order food from local restaurants.\n\nThey have a dev team that needs to make all the changes. The client cannot access the backend of this site at all. It took the dev team 2 weeks to put the GTM code on for us, but thankfully that is set up.\n\nWe are running ads for them, and want to be able to track purchases and order info (revenue especially), so that we can see how our ads are performing. And just in general, the client wants a better picture to see how the business is running.\n\nI was able to set up \"Initiate Checkout\" and \"Purchase\" conversions, but it doesn't pull in any order data.\n\nI am not savvy or familiar with Data Layers, but is there something the dev team needs to do in order to get this info coming through?\n\nPlease explain it to me like I'm 5, so if there is something I have to relay to the dev team, they can understand what I'm talking about.\n\nTIA!\n\n&#x200B;\n\nEdited to add: I haven't done a test purchase. So to set up the \"purchase\" conversion, it is a click event on the \"complete purchase\" button. I'm not sure what happens once you click that button and have everything confirmed. I'm not sure if that is the step I'm missing to have info pull through, but I doubt it.",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/199x8ol/tracking_purchase_revenue_data_layer_question/",
        "num_comments": 5,
        "comments": [
            {
                "body": "Yup, the dev team needs to set it up, but you would need to get familiar enough with it in order to specify what the devs need to implement.  \nTo get an overview of the data layer you can check out the following video from Analytics Mania  \n[Data Layer in Google Tag Manager || GTM Data Layer Tutorial with examples](https://youtu.be/hyZQLQITeV4)\n\nWhen events of interest happen on the website, such as adding items to the cart or purchases, information about these events are added to the data layer. Google Tag Manager can then be setup to Trigger on the data layer events, get the data and send it to where it is needed (GA4, Google Ads, Facebook, etc)\n\nHow to figure out what to put in the data layer? For GA4, there are three types of events:\n\n1. Automatic\n2. Recommended\n3. Custom\n\nAutomatic is built into GA4, so nothing to be done there. The Recommended events are those that Google Specifies, such as for eCommerce, that you should use before going Custom. This is because GA4 has reporting and so on that makes use of them so you can see the results of your marketing etc.  \nSee [GA4 Recommended events](https://developers.google.com/analytics/devguides/collection/ga4/reference/events?client_type=gtm)\n\nIt may seem a bit overwhelming but here are the things to pay attention to.  \nLet's use the purchase event as an example. If you go to that section, you will see there is a table of parameters. All the parameters need not be implemented, but at minimum, the ones with **Yes** in the **Required** column **MUST** be implemented for things to work properly in GA4.  \nBelow the table is an example of what the data layer push would look like. The devs must be able to see this structure as they will use it to implement.\n\nTo understand the data layer, some familiarity with JavaScript is needed. The data layer is essentially a JavaScript Array with the name dataLayer. To get data into a JavaScript Array the push method is used. So the devs would push JavaScript Objects into the dataLayer when events such as purchase happen. The object must be of the format specified to work in GA4. Custom events will have a format of your choosing.\n\nSo then you might be wondering, \"Do I need all of that for Google Ads?\". No you don't, but leveraging what is implemented for GA4 for other services, saves lots of time and headaches.",
                "author": "zandolie",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Yes you do need the dev team to push revenue and other data into the DataLayer which you can then track in GTM using variables.",
                "author": "KalaBaZey",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1704811758.0,
        "title": "Google global tag vs conversion action- I'm confused.",
        "author": "betterman725",
        "id": "192gdxc",
        "selftext": "I haven't been working in Google Ads for a few years now at this point, and recently just got back into it for a business I'm overseeing. I'm looking to measure a submit \"contact us\" form on my website as a conversion. I'm a little confused as to how Google conversions need to be set up to measure. Here's the facts:\n\n  \n1. I have the google global tag (gtag.js) set up across every page on my site.  It's tested and firing correctly  \n2. I have created a conversion action in my Google ads account for lead submission  \n3. I tested the conversion action with Google tag assistant, but it is not detecting the conversion.  \nI never added any additional code to my site for the conversion ( I simply just created it in Google ads), as I assumed the conversion event was captured through the google gtag.js. Is this correct? Do I need to add additional code snippet to the site to track the conversion or am I assuming correctly that the conversion action would be detected once I simply create a conversion event in my google ads account, through the global tag?\n\n  \nIn the past (years ago) I would use DART or Atlas, and have to add a conversion snippet to each desired conversion page on the website. Since I am not using a 3rd party tracking system (just using Google for everything) I assumed I would not need to add any additional code, as I though I could just create conversion actions on the backend.\n\n  \nAm I thinking about this wrong? Thanks for the help folks.",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/192gdxc/google_global_tag_vs_conversion_action_im_confused/",
        "num_comments": 3,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "was wondering the same thing. too bad no response.",
                "author": "esotericunicornz",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1701856209.0,
        "title": "502 Issue with server side container behind AWS ALB",
        "author": "toooni",
        "id": "18c0lb0",
        "selftext": "We are using EKS (Kubernetes) on AWS with the AWS ALB (Application Load-Balancer). Recently we discovered an issue which lead to 502 errors all around our application.  \nAfter some digging, we found this article ([https://adamcrowder.net/posts/node-express-api-and-aws-alb-502/](https://adamcrowder.net/posts/node-express-api-and-aws-alb-502/)) and later some other issues/solutions for the same problem in various libraries.  \nAll our 502 responses through ALB disappeared. Except for our server side GTM ([gcr.io/cloud-tagging-10302018/gtm-cloud-image](https://gcr.io/cloud-tagging-10302018/gtm-cloud-image)) which offers no option for setting the keep-alive-timeout. Since, I've nowhere found any hints to somebody else having this issue, we did some reverse engineering ourselves. It seems like the RUN script from the image is pulling another script (server\\_bootstrap.js) from the google servers on startup. I've seen that there is a \\`KEEP\\_ALIVE\\_TIMEOUT\\_IN\\_MILLIS\\` var which would solve our problem - but it is only used if \\`global.server\\_js\\_dev\\_only\\` is true.  \n\n\nWhere would be the best place to raise this issue? It seems like it would be a very simple fix if \\`KEEP\\_ALIVE\\_TIMEOUT\\_IN\\_MILLIS\\` wouldn't be just used on \\`global.server\\_js\\_dev\\_only\\`?",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/18c0lb0/502_issue_with_server_side_container_behind_aws/",
        "num_comments": 4,
        "comments": [
            {
                "body": "I ended up adjusting the load balancer idle timeout to 4 and cloudfront origin keepalive timeout to 3.",
                "author": "cyounkins",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Did you find the solution for this ? I'm also looking for a fix\n\nEDIT: I did find a solution, I had to put a NGINX reverse proxy with a keep alive timeout superior than the load balancer's in front of the sGTM node js and forward the traffic to the NGINX reverse proxy.",
                "author": "Inevitable_Sky398",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1701858344.0,
        "title": "Hey, I got some questions",
        "author": "LuckNo4086",
        "id": "18c12tr",
        "selftext": "1 how can you check if Google tag is active on the website you put it on ( for conversion tracking)\n\n  \n2 When you create a Google tag account you need to use a website does that mean that the website used is going to be the only one you are going to be able to put your tags on?\n\n  \n3 If the response to the second question is yes then does that mean that you need to create a new account for each website?",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/18c12tr/hey_i_got_some_questions/",
        "num_comments": 4,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "1. Use https://tagassistant.google.com/\n\n2. You can use it on multiple websites, but will you be using the same GA4 tag on all? If not, create separate containers for different websites.",
                "author": "StupidityCanFly",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1689947948.0,
        "title": "Any ideas about custom event like ajaxComplete",
        "author": "ysatishyadav",
        "id": "155ou5w",
        "selftext": "Hello experts \nI have created a custom event and want to track email id. \nMy tag is fired but not getting the valie in attributes.response in console.",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/155ou5w/any_ideas_about_custom_event_like_ajaxcomplete/",
        "num_comments": 9,
        "comments": [
            {
                "body": "[If this post doesn't follow the rules report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "What are you trying to track?",
                "author": "JarvanXL",
                "score": 1
            },
            {
                "body": "Are you getting anything in attributes?",
                "author": "HawkeyMan",
                "score": 1
            },
            {
                "body": "Yes, it is possible and you need a little hack of fetch.   \nIf you need any further help please message me. \n\n```\nlet originalFetch = window.fetch;\nwindow.fetch = function () {\n  return originalFetch.apply(this, arguments).then((response) => {\n    if (response.ok && arguments[0].includes(\"yourwebsite.com/ajax-url-for-form-submission\")) {\n      let cloneResponse = response.clone();\n      cloneResponse.text().then((text) => {\n        let data = JSON.parse(text); // do whatever with data\n        // create dataLayer or whatever you like\n      });\n    }  \n    return response;\n  });\n}\n```",
                "author": "webhasan89",
                "score": 1
            },
            {
                "body": "Want to track user email id",
                "author": "ysatishyadav",
                "score": 1
            },
            {
                "body": "Yes \nI am getting the map locations. It is a real estate business form.",
                "author": "ysatishyadav",
                "score": 1
            },
            {
                "body": "Is it coming in the data layer?",
                "author": "maxdextor",
                "score": 1
            },
            {
                "body": "No, I mean after successful submission of form there are some map location. The locations are coming in the dataLayer.",
                "author": "ysatishyadav",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1683814589.0,
        "title": "Training & upskilling staff in GTM",
        "author": "Auspire",
        "id": "13eoowa",
        "selftext": "Question for agency owners or managers responsible for training or upskilling staff to have GTM skills: how do you train them - courses, sit them with a more advanced team member, point them at the Google docs? What have you found most effective?",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/13eoowa/training_upskilling_staff_in_gtm/",
        "num_comments": 10,
        "comments": [
            {
                "body": "[deleted]",
                "author": null,
                "score": 2
            },
            {
                "body": "When it comes to training and upskilling team with GTM, It always comes with going through multiple blogs, hands on problem solving and doing hands on client issue resolution. \n\nI would suggest making offline session with senior team members to do presentation and providing knowledge based on their experience which will eventually helpful to any fresher or medium level team members.",
                "author": "dharmik_raval",
                "score": 2
            },
            {
                "body": "Give them tasks using staging environment, sandboxed GA accounts and GTM..",
                "author": "chrisdufff",
                "score": 2
            },
            {
                "body": "Combinations of various things.\n\n&#x200B;\n\n1. Access to the AnalyticsMania suite of courses\n2. Mentoring\n3. Internal documentation on tricks / best practices\n4. Teamsimmer server-side course\n5. Sandbox exercises\n6. **Being allowed to make mistakes**",
                "author": "StefanAtWork",
                "score": 2
            },
            {
                "body": "[If this post doesn't follow the rules report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/).\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Yes, you certainly need test sites to train people. You've got to bash away with it for a while to have those lightbulb moments, don't you!",
                "author": "Auspire",
                "score": 1
            },
            {
                "body": "Agreed. This is what we do. Seems to be the best way so far anyway. GTM still feels like a dark art where we are all out here working on solutions and how best to use the tool with little help from the docs.",
                "author": "Auspire",
                "score": 1
            },
            {
                "body": "Yeah, this is a good approach. We set simulated tasks to replicate common client issues for practice. But it is very time consuming to bring people up-to-speed. Unavoidable though, huh.",
                "author": "Auspire",
                "score": 1
            },
            {
                "body": "Mistakes will happen, no doubt.\n\nWe've found that many new users are still tentative with preview mode. Once they are shown how to use it effectively we see far fewer mistakes. Would you agree with that?",
                "author": "Auspire",
                "score": 1
            },
            {
                "body": "Well..give them time 🙂",
                "author": "chrisdufff",
                "score": 1
            },
            {
                "body": "It's definitely a pattern with newbies that they will say \"I tried to do X, but it's not working\" and then the answer lies within Tag Assistant if only they knew where to look and how to decipher what they were looking at.\n\nSo... yes, hard agree!",
                "author": "DigitalStefan",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1684177098.0,
        "title": "Google Tag Manager Server Side Tracking - Load anayltics.js through Tagging Server?",
        "author": "Zealousideal_Pace306",
        "id": "13igx41",
        "selftext": "Hi there,   \n\n\nI am currently setting up server side tracking for Google Ads via GTM. I'm almost done with the setup. I managed to map my own tagging domain [metrics.example.com](https://metrics.example.com) and and the GTM script now loads through this tagging server (not directly from google). However, I see that analytics.js is still loaded via Google. Is there a chance to loag the analytics.js for Google Analytics through the tagging server or wouldn't that bring any benefits?  \n\n\nI am thankful for any response.",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/13igx41/google_tag_manager_server_side_tracking_load/",
        "num_comments": 10,
        "comments": [
            {
                "body": "[If this post doesn't follow the rules report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/).\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Yes you can and there are countless examples of this everywhere. Have you tried searching? Hint: The setting is in the GA4 and/or UA Client Tag in the SST container.",
                "author": "brannefterlasning",
                "score": 1
            },
            {
                "body": "You have to configure the client-side config GA4 Tag as well. There is an option to check that is called “send to server container”. There you will also need to key in your server url.\n\nUnfortunately there is also another caveat: you have to make sure that all tags are firing AFTER the configuration tag. Otherwise they will still use the default analytics server.",
                "author": "Signal-Air2627",
                "score": 1
            },
            {
                "body": "Yes, I have set up the GA4 client in the SS container. I have followed the google guide here: [https://developers.google.com/tag-platform/tag-manager/server-side/dependency-serving](https://developers.google.com/tag-platform/tag-manager/server-side/dependency-serving) . I am just surprised that when I look at network tab in chrome inspector, I see that gtag.js is coming from my tagging server and analytics.js is coming from [google-analytics.com](https://google-analytics.com) . And after hours of searching I haven't found any youtube video or website that actually shows that the analytics.js is coming from the tagging server. They all show that gtag.js is loaded through the tagging server.   \n\n\nShouldn't the network tab show that the analytics.js is loaded via the tagging server?",
                "author": "Zealousideal_Pace306",
                "score": 1
            },
            {
                "body": "Thanks for the response. And your inspector shows your tagging server as source for the analytics.js afterwards?",
                "author": "Zealousideal_Pace306",
                "score": 1
            },
            {
                "body": "I did the configuration in the web container. However, I didn't assure that all tags fire after the configuration tag.",
                "author": "Zealousideal_Pace306",
                "score": 1
            },
            {
                "body": "As I said, the setting resides in the SST Client Tags. Enable the gtag.js and GA4 paths functionality from there. ( :",
                "author": "brannefterlasning",
                "score": 1
            },
            {
                "body": "Yes. Everything is loaded by the sgtm via custom domain. As an example you check geberit.com - one of the pages that I created the SGTM setup on in the past and that still uses universal analytics. However I thing the issue here might be that you configured GA4 instead of universal analytics. UA uses analytics.js, GA4 uses gtag",
                "author": "Signal-Air2627",
                "score": 1
            },
            {
                "body": "Thanks. If you open inspector on your page and go into the source tab. Which source does it show for analytics.js? The tagging server or google-analytics.com? That would be nice to know.",
                "author": "Zealousideal_Pace306",
                "score": 1
            },
            {
                "body": "Thanks man, that's the solution. analytics.js is for Universal Analytics which is coming from google-analytics.com. GA4 is already being loaded from my tagging server.",
                "author": "Zealousideal_Pace306",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1682849572.0,
        "title": "GTM Click Event implementation",
        "author": "jaffizzle",
        "id": "133ldtv",
        "selftext": "I'm a developer and was asked to implement GTM on a site with a list of specific data to pass per click event. For example Login button needs X, Y, Z data. Home page link needs A, B, C data.\n\nI'm new to GTM and a bit confused...\n\nIt was recommended to me that I should be adding dataLayer.push to essentially every click event with said data, but I feel this is really no different than what I was doing in the past with GA and really is very obtrusive to the code base.\n\nI was under the impression that GTM was the solution for that...and as a developer, my role would be making data in the HTML markup easily consumable i.e. using well defined data-attributes, meta tags, classes etc.\n\nWhile the person managing GTM is creating tags/triggers based on the markup. \n\nAm I wrong? \n\nIf I'm using dataLayer.push to push exactly what the analytics team needs on every click event, I feel GTM is just another layer of unneeded complexity. I may as well just push the data to GA directly. Like why explicitly define the required data twice (in code and again in GTM) Also it looks like I would still be responsible for adding additional data that needs to be tracked which is one of the main problem we are trying to solve by using GTM.\n\nI'm just looking for some guidance and understanding on how this should be implemented especially with a lot of click events scattered across multiple files.\n\nThanks!",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/133ldtv/gtm_click_event_implementation/",
        "num_comments": 10,
        "comments": [
            {
                "body": "You're not entirely wrong, but also not entirely right. I work with GTM mainly, but I do understand things from your perspective (I just don't do that as a day job).\n\nWhere you're right is that by making sure you have your HTML marked up with various metadata, it does make tracking things in GTM easier / possible and it's usually step #2 in data maturity (getting just anything working to collect data is step #1).\n\nHowever, using the data layer is a *really nicely understood and well supported* method of passing data from a site to GTM. It adds context to the data being collected and it's efficient. Not that document.querySelector() isn't good (presumably GTM uses this or similar when pulling metadata out of HTML attribures), but using an array object like the data layer is just *nicer* than querying the DOM all the time.\n\nThe other bonus in using the data layer is that Google and some other 3rd-parties natively understand it and you can configure relevant tags in GTM with \"just use the data from the data layer\" - again, *super* efficient especially when trying to do anything related to ecommerce. It removes a large burden from your GTM dev by eliminating a *lot* of testing and QA centred around \"did this parameter pass correctly?\".\n\nCreating a data layer event for specific user action instead of relying on click events also benefits readability / maintainability within GTM and gives you an opportunity to pass data about events as soon as possible.\n\nIt will also eventually make your life a bit easier. If your GTM dev can hand you a data layer spec for any new tracking request, you have an easy life of taking that spec and essentially \"filling in the blanks\".\n\nFor any website that is growing at any rate above zero, eventually you, your GTM dev and the entire marketing team will *need* to move to using the data layer instead of peppering your HTML with attributes. At some point, it wouldn't be difficult to imagine someone having the idea \"hey, let's use this new backend for our website\" or you'll have someone mention \"by the way, we're going to completely redesign the site\". You will be thankful for the decoupling opportunity of using the data layer.",
                "author": "DigitalStefan",
                "score": 5
            },
            {
                "body": "Everything this person says is 100% on point.",
                "author": "boeklover",
                "score": 2
            },
            {
                "body": "Thank you! I really appreciate the detailed write up. \n\nI gave Data Layers a shot based on everyone's unanimous agreement but I'm having a tough time understanding how to implement it in less ideal situations where not all the data is easily accessible.\n\nOur project is a Single Page App. It's entirely comprised of hierarchal components.\n\nAn example would be...\nHome Page -> Carousel A -> Carousel Slide -> CTA\n\nLet's say I need to push the userId, the Carousel and the Slide the CTA was triggered from. However only the Home Page component is aware of the userId and the Carousel used. Only the Carousel component is aware of which Slide is focused. And the Slide component is aware of which CTA was clicked. The CTA knows nothing except where it needs to route to. While I could pass all the data down the chain until it reaches the CTA, having to do so for literally every component seems not only cumbersome but very error prone. I'm also not a fan of polluting the entire code base just for GTM which is why I was hoping for more support in favor of using data attributes/meta tags, haha. \n\nMaybe this is becoming more of a programming question at this point, but this architecture (React/Angular/Vue) is quite common I'd figure maybe someone has some experience on how Data Layer should be implemented in this situation.",
                "author": "jaffizzle",
                "score": 2
            },
            {
                "body": "Everything this person says is 100% on point.",
                "author": "treasury_minister",
                "score": 2
            },
            {
                "body": "Lightbulb! Now it's starting to make more sense to me. I was under the impression you have to push all the data together. It sounds like like my goal is mainly to get the data into the Data Layer, then the GTM dev can create tags and such based on the data available. Again, thank you!",
                "author": "jaffizzle",
                "score": 2
            },
            {
                "body": "No worries. Glad to be of some help. By all means send me a chat when you're live with changes. I'd be interested to see how it turns out.",
                "author": "DigitalStefan",
                "score": 2
            },
            {
                "body": "[If this post doesn't follow the rules report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/).\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "(stupid reddit editor mangled my original reply)\n\nYour CTA click event only needs to send data to the data layer that relates to itself and not the wider context of user ID or other page metadata.\n\nPushes add to the data layer and you can have an early push (before GTM is even loaded) without an event name if you have access to that data early enough. It's common to push user\\_id, user\\_email, page\\_category etc. before GTM loads. You can overwrite values with a new push e.g. when users navigate through the SPA (please send a \"virtual\\_pageview\" event for your GTM dev to pick up!). The historic values still exist in the array / object.\n\ne.g. send your user\\_id when you know it. If it's a bit late in the process of loading the page, you can add it to a \"page\\_meta\\_data\" event. Earlier the better of course.\n\nYou can see a live example of this on [https://www.avantiwestcoast.co.uk/](https://www.avantiwestcoast.co.uk/) \\- there's a pageMetaData event on the homepage and \"page\\_meta\\_data\" as you go through the process of buying a ticket (which is an SPA section of their site). It's not a perfect implementation, but it's still a good working example.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "Absolutely. I’ll definitely let you know. Very glad I’m down the right path now and all parties are in agreement.",
                "author": "jaffizzle",
                "score": 1
            },
            {
                "body": "Absolutely. I’ll definitely let you know. Very glad I’m down the right path now and all parties are in agreement.",
                "author": "jaffizzle",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1682435750.0,
        "title": "Duplicate conversion event in GTM/GA4",
        "author": "farkin15",
        "id": "12ymcnn",
        "selftext": "I have a conversion event \"generate\\_lead\" which fires on a selection of button clicks on our website.\n\nThe triggers work fine for reddit & quora ad networks, but for GA4 it double counts the conversion.\n\nI manage everything in GTM. \n\nIn Tag Assistant, after I click on a button, the \"generate\\_lead\" event is correctly [counted once in the GTM tag view](https://drive.google.com/file/d/13GRXS_SiK6TN--tfRKEq9JHYe8dmN5z8/view?usp=share_link), but in the [GA tag I'm seeing it counted twice](https://drive.google.com/file/d/1miUlnz2gAxvzjmfnTKnCX21KLsdSMXfE/view?usp=share_link). And I think its an exact duplicate, I can't see any difference between [generate\\_lead 1](https://drive.google.com/file/d/19az5SxkA0oH7lYOW4GqxPZ1K6o_EnHVx/view?usp=share_link) or [2](https://drive.google.com/file/d/1ro6tuqTbX38g5FPc0vfJGX9lGRYZMj8E/view?usp=share_link).\n\nThis duplication happens regardless of which of the trigger buttons I click on.\n\nI've read the responses in this forum and also many of the the articles online about this issue.\n\nI've tried pausing the GA tag in GTM. I've also tried disabling outbound clicks in the enhanced conversions settings in GA4. Neither of those solutions worked.\n\nCan anyone help?",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/12ymcnn/duplicate_conversion_event_in_gtmga4/",
        "num_comments": 9,
        "comments": [
            {
                "body": "Hi everyone thanks for your comments. \n\nUpdate on this. It's fixed! :)\n\nI set the tag to only fire once per page, thanks u/sTyles310 & u/buried_alive0  \nWeirdly that configuration was there already, but somehow Im now seeing single conversions unduplicated in my GA! \n\nEntirely unsure how this happened, but I tried all these things, perhaps one of them worked in a lag? it's unclear.\n\n&#x200B;\n\n* Set tag to fire once per page in gtm\n* Removed and reapplied the same triggers to the tag\n* Turned off outbound clicks in enhanced conversions in GA\n* Checked for duplicate tags or other instances of gtm/ga on the site\n* Set the counting method to \"once per session\" in GA\n\nThanks all.",
                "author": "farkin15",
                "score": 3
            },
            {
                "body": "So this is kind of a workaround to actually diagnosing the issue, but if you wanted to, you could just set it to fire once per page https://i.imgur.com/POpeXya.png",
                "author": "sTyles310",
                "score": 2
            },
            {
                "body": "thanks possibly fixed it!",
                "author": "farkin15",
                "score": 2
            },
            {
                "body": "[If this post doesn't follow the rules report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/).\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "You can set up any tag on GTM to fire once per page on advanced options. Since this is a lead there will be no harm in doing that, because leads are one per user. It'll only be beneficial.\n\nThis is uncommon to happen, but maybe there are other *generate\\_lead* events implemented elsewhere. Check for hardcoded implementations or other GTMs installed.",
                "author": "buried_alive0",
                "score": 1
            },
            {
                "body": "[deleted]",
                "author": null,
                "score": 1
            },
            {
                "body": "I experienced the same (just for a purchase event for an /orderconfirmation page) and I found out it was because the user refreshes the page then the purchase event was sent once again. I solved it by changing the URL upon refresh.",
                "author": "Des1re_DK",
                "score": 1
            },
            {
                "body": "thanks for this - checked this easily via tag inspector which was useful: https://taginspector.com",
                "author": "farkin15",
                "score": 1
            },
            {
                "body": "was both in debug and GA4 realtime view. Now fixed see above.",
                "author": "farkin15",
                "score": 1
            },
            {
                "body": "Dont think it was this, but thanks for the suggestion.",
                "author": "farkin15",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1670434563.0,
        "title": "Google Analytics 4 Reporting Google Paid Search Traffic when no Search Ads are Running",
        "author": "whot_like_m_owl",
        "id": "zf7mel",
        "selftext": "Hi, I work for a digital marketing agency that manages Google Ads, Bing Ads, Google Analytics accounts, and several other systems and softwares for multiple clients. We’ve run into a reporting issue in GA4 these past 2 weeks with one client that we cannot seem to figure out. This client runs 2 responsive display campaigns in Google Ads; these have been running since May and have picked up decent performance. The utm parameters on these ads are source=display, medium=cpm. However, we recently found out that traffic has been recorded since campaign launch as Paid Search, with google / cpc as the session source / medium. It’s important to note that this client does not and has never had ANY search ads running, neither in Google nor Bing. We looked in the traffic acquisition report in GA4, and there is only a handful of data getting recorded since May as Display with the correct parameters. A majority of their traffic acquisition report is Paid Search. We also checked on the real-time report in GA4 upon clicking the ad, and that source / medium is being recorded as google / organic! Has anyone also had this problem before, or have a suggestion on what else we can look into or what this may be? Thanks in advance!",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/zf7mel/google_analytics_4_reporting_google_paid_search/",
        "num_comments": 6,
        "comments": [
            {
                "body": "Seems like auto tagging is the issue. To my knowledge, GA4 doesn’t have the same “override UTMs” option that UA does. You could try turning off auto tagging in Google Ads and developing a tracking template.",
                "author": "HawkeyMan",
                "score": 3
            },
            {
                "body": "Apologies for reviving this thread 2 years later but we're still having the same issue so hoping somebody already found the solution to this given the last reply on here has been nearly a year ago already?",
                "author": "TiToMeMing",
                "score": 1
            },
            {
                "body": "Did u manage to fix this? i ran to the same problem but not sure what to do. there is no google ads account but im receiving most of traffic as paid",
                "author": "Economy-Strike-3141",
                "score": 1
            },
            {
                "body": "I’m getting this too! My client has run ads in the past however they have been turned off for a few months, and there was no Paid Search traffic until 18 days ago and now it’s everyday. The session source / medium is google / cpc",
                "author": "FewAd1929",
                "score": 1
            },
            {
                "body": "We're having a similar problem with GA4. We have noticed paid traffic where `sessionSourceMedium` is reported as `google / cpc` and `sessionCampaignName` is reported as `(organic)`. This is the first time I've seen this.\n\nThere are no keywords or any other ads-related parameters in related session data.\n\nHas anyone seen anything like this?",
                "author": "csarigoz",
                "score": 1
            },
            {
                "body": "I have seen this post with the same issue I'm having:  \nhttps://www.reddit.com/r/analytics/comments/162oj81/tracking\\_issue\\_ga4\\_googlecpc\\_organic/",
                "author": "csarigoz",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1663607048.0,
        "title": "Google Analytics and Tag manager",
        "author": "Lonely-Bid6783",
        "id": "xii6ul",
        "selftext": "I just opened a GA4 account and used google tag manager for tagging the page, I am totally new to this and please I need a fast response please, It not getting the right data, is there anything extra I have to do? when I preview it with google tag manager, It opens but the data it is bringing is not the correct one.\n\nhaduney.com.ng",
        "score": 0,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/xii6ul/google_analytics_and_tag_manager/",
        "num_comments": 8,
        "comments": [
            {
                "body": "Thank you very much, I am sorry about my language, just want it badly.  I have not added any triggers, please how don't add triggers?",
                "author": "Lonely-Bid6783",
                "score": 1
            },
            {
                "body": "[removed]",
                "author": null,
                "score": 1
            },
            {
                "body": "You will want to add an \"All Pages\" trigger.\n\nThere are a lot of good, accessible tutorials for GTM available. I apologise I am not sure your native language. I only know of English language guides, tutorials and videos.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "I",
                "author": "Lonely-Bid6783",
                "score": 1
            },
            {
                "body": "Google Analytics has been showing just two visits for the past week.",
                "author": "Lonely-Bid6783",
                "score": 1
            },
            {
                "body": "I have done that.",
                "author": "Lonely-Bid6783",
                "score": 1
            },
            {
                "body": "And published the changes? I can’t check the site right now.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "This isn't a paid helpdesk with a rapid SLA, so please bear in mind that asking for a rapid response might not be seen as polite.\n\nYou have the GTM script on your site twice. I don't know if that is causing the problem you describe, but it should be step 1 in diagnosing it. Remove one of the scripts. I would recommend you keep the one that appears toward the very top of your site source code.\n\nEdit: If that doesn't resolve the problem, can you describe what trigger you have configured for your GA4 tag? It looks like it is not triggering at all.",
                "author": "DigitalStefan",
                "score": 0
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1664930437.0,
        "title": "Events are showing up in GA4 Debug View but aren't showing in GA4 Events tab",
        "author": "Affectionate-Tea4069",
        "id": "xvvpz7",
        "selftext": "Would really appreciate some help with this one.  It's driving me crazy!   \nI'm sending basic events (button clicks) using a link click trigger that only fires when the link click has a specified Click Text. The events are then sent to GA4 via an event tag.   \n\n\nEverything appears to be set up correctly, and - when tested both through GTM preview and GA4 debug - the events fire and show up successfully.   \n\n\nHowever, the events still aren't showing up in the GA4 events tab and it's been 1 week since I submitted the test events.  \n\n\nThe only thing I can think that might be causing this issue is GA4 is already installed directly on the client's site. So, when I installed the GA4 config tag, I unchecked the \"Send a page view event when this configuration loads\" box so that we wouldn't be tracking duplicate page views (unfortunately, removing the GA4 installation from the site itself and installing it completely through GTM is a massive hassle due to how long it takes for the client to get back to us). But I don't see this causing any issues because as mentioned - when tested both through GTM preview and GA4 debug - the events fire and show up successfully.  \n\n\nThanks so much for your help!",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/xvvpz7/events_are_showing_up_in_ga4_debug_view_but_arent/",
        "num_comments": 6,
        "comments": [
            {
                "body": "Are you currently using any filter to exclude traffic?\nAlso, did you publish the GTM container?",
                "author": "MariusGMG",
                "score": 3
            },
            {
                "body": "Same issue here too. Has anyone solved this? I'm ripping my hair out going through a legacy installation that's a total mess and I have no idea where the problem is.",
                "author": "trendy_pineapple",
                "score": 1
            },
            {
                "body": "Same issue here! Weirdly, I have a number of events which are recorded just fine and available via both the Reports screen and in Explorations. However, a number of events just don't show up in those two place.\n\nVery much hoping somebody has an answer to this?",
                "author": "CPGDPE",
                "score": 1
            },
            {
                "body": "Did you end up finding a solution?",
                "author": "UnderstandingSafe141",
                "score": 1
            },
            {
                "body": "Sorry, excuse the delayed response.  No filters.  Yes, the container is published.",
                "author": "Affectionate-Tea4069",
                "score": 1
            },
            {
                "body": "Is the container published? Or is it just you who triggered these events in Preview mode?",
                "author": "MariusGMG",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1642308184.0,
        "title": "QUESTION: I want to track conversions after someone has purchased a product",
        "author": "crispyfrybits",
        "id": "s53qgj",
        "selftext": "I posted a question a few days ago but I feel like it was too broad and complex and so I didn't really get any specific responses.\n\nToday I just want to ask the community to help me learn how to setup conversion tracking so I can track when someone successfully makes a purchase on our Shopify store.\n\nShopify provides an area in their settings where you can place javascript which will run on the thank you page. I have to set something up to fire on the thank you page to track the conversions.\n\nPlease help, I have tried many times and failed and just want to start from scratch with the help of the community.\n\n**EDIT**: Here is a link to screenshots of how I have things set up. [https://imgur.com/a/gMXrGUC](https://imgur.com/a/gMXrGUC)",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/s53qgj/question_i_want_to_track_conversions_after/",
        "num_comments": 11,
        "comments": [
            {
                "body": "where do you want to track sales?",
                "author": "amonosrecioalv",
                "score": 1
            },
            {
                "body": "in this setting you need to add a data layer push event, so you can track metrics like total value, quantity etc in the thank you page. After this, you need to create a google ads purchase tag using Google Tag Manager. Send me a message if you can't do it.",
                "author": "le_ble",
                "score": 1
            },
            {
                "body": "Currently the way I have been approaching this is by setting up a conversion in Google Ads, then trying to map that to Google Tag manager to manage and fire off the events. Does that answer your question?\n\n&#x200B;\n\nWe do have reports in Shopify for purely sales numbers.",
                "author": "crispyfrybits",
                "score": 1
            },
            {
                "body": "how is the conversion in google ads set up?",
                "author": "amonosrecioalv",
                "score": 1
            },
            {
                "body": "Use the built in google analytics and enhanced e-commerce got GA tracking then use the Google channel for Google ads tracking.",
                "author": "HawkeyMan",
                "score": 1
            },
            {
                "body": "Place a test order to check in gtm preview mode to check that the event is being pushed to the data layer",
                "author": "ErickFromAnalytics",
                "score": 1
            },
            {
                "body": "Just updated post with link to screenshots",
                "author": "crispyfrybits",
                "score": 1
            },
            {
                "body": "I think we have that setup but I don't see the purchase conversions anywhere in the reporting. Where do I see the conversions for products / campaigns once the enhanced e-commerce is enabled?",
                "author": "crispyfrybits",
                "score": 1
            },
            {
                "body": "If you use dataLayer.push({...}, does that record and send the data? Is there anything else that I need to do other than using the dataLayer.push? I am doing that and it works for the test (I think) but not the published live version.",
                "author": "crispyfrybits",
                "score": 1
            },
            {
                "body": "Google Analytics > conversions > e-commerce \n\nhttps://support.google.com/analytics/answer/6014872",
                "author": "HawkeyMan",
                "score": 1
            },
            {
                "body": "Yeah that’s all you need to do did you publish the container?",
                "author": "ErickFromAnalytics",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1618417514.0,
        "title": "Extracting CF7 title in Tag Manager",
        "author": "crispy-d",
        "id": "mqu5to",
        "selftext": "Hi all,\n\nMy company's websites use a lot of longwinded CF7 forms. I'm keen to be able to send the title of each form to GA as part of the event. With other forms I have used a datalayer variable with a bit of code like 'response.8.value' to extract it from the datalayer. However in some reason forms I have been looking at it seems that the title is not always in the same place and so I need something which can dynamically pull out that title from wherever it appears in the datalayer. For example in this particular form it would be the first value pair:\n\n    response: [\n        {\n          name: 'data_source_detail',\n          value: 'DTR-WEBINAR-Beacon-Discovery-June-2021'\n        },\n        {name: 'download_name', value: 'Webinar'},\n        {name: 'type', value: 'Live Webinar Registration'},\n        {\n\nBut in others it might be the second or third. How can I target it based on the name i.e. 'data\\_source\\_details'. Or is there a way I can capture it earlier in the process, perhaps with the successful form submit event?\n\nApologies if I've confused anyone - I may not have explained it all that well. Appreciate any help you can give!",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/mqu5to/extracting_cf7_title_in_tag_manager/",
        "num_comments": 16,
        "comments": [
            {
                "body": "Create a new variable > custom javascript and paste in the following:\n\n&#x200B;\n\n function() { \n\nreturn document.getElementsByName(\"data\\_source\\_detail\")\\[0\\].value\n\n} \n\n&#x200B;\n\nThis variable will look for the input element by name e.g. \"data\\_source\\_detail\" and grab the value attribute of that element. As it is hidden it should always be the same e.g. \"WEBINAR-Title Example\"\n\n&#x200B;\n\nTake a look at that variable in your GTM preview to see what it pulls in from the page. If happy, drop the variable in your GA event tag :)\n\n&#x200B;\n\nLet me know if that helps\n\n&#x200B;\n\n**Note:** This snippet looks for ALL elements on the page with \"Name=''data\\_source\\_detail\" and then looks in position 0 within list of returned elements for the value (hence the \"\\[0\\].value\" at the end.\n\nIf you have more than one form or that uses the \"Name=''data\\_source\\_detail\" on the page, it may not pull in the value you are looking for.\n\n&#x200B;\n\nThere are other ways that we could be more specific with your targeting, but I would have to have a link to your website/pages to test properly.\n\n&#x200B;\n\nGood luck and let me know how you get on!",
                "author": "jimmilil",
                "score": 3
            },
            {
                "body": "How about a regex table that pulls in the formIDs and outputs the name of the form in the GA tag?\n\nThere would be a method to extract the title using javascript, but don't know if you want to go down that road.\n\nOne thing to note about the regex table, it will have to be updated with every new form addition to the site :)",
                "author": "jimmilil",
                "score": 1
            },
            {
                "body": "Yeah I need something that can be set up and then left alone because we put new forms on the site all the time and it's not me uploading them so I need the tag to be able to account for variations that other people might put into it. I think javascript might hold the solution but my skills are pretty limited!",
                "author": "crispy-d",
                "score": 1
            },
            {
                "body": "Could you paste a code snippet of one of the forms? I'll see if I can put something together for you",
                "author": "jimmilil",
                "score": 1
            },
            {
                "body": "Here's a small section - there are also hidden fields above which I haven't included so let me know if you need more. In this example I'd be wanting to capture 'WEBINAR-Title Example'. Forms are added to the page via a shortcode which also contains the title and form ID, in case that helps. Appreciate the help!\n\n    <p><span class=\"wpcf7-form-control-wrap event_id\"><input type=\"hidden\" name=\"event_id\" value=\"372\" size=\"40\" class=\"wpcf7-form-control wpcf7dtx-dynamictext wpcf7-dynamichidden\" aria-invalid=\"false\" /></span><br />\n    <span class=\"wpcf7-form-control-wrap data_source_detail\"><input type=\"hidden\" name=\"data_source_detail\" value=\"WEBINAR-Title Example\" size=\"40\" class=\"wpcf7-form-control wpcf7dtx-dynamictext wpcf7-dynamichidden\" aria-invalid=\"false\" /></span><br />\n    <span class=\"wpcf7-form-control-wrap download_name\"><input type=\"hidden\" name=\"download_name\" value=\"Webinar\" size=\"40\" class=\"wpcf7-form-control wpcf7dtx-dynamictext wpcf7-dynamichidden\" aria-invalid=\"false\" /></span><br />\n    <span class=\"wpcf7-form-control-wrap type\"><input type=\"hidden\" name=\"type\" value=\"On-Demand Webinar Registration\" size=\"40\" class=\"wpcf7-form-control wpcf7dtx-dynamictext wpcf7-dynamichidden\" aria-invalid=\"false\" /></span></p>\n    <p><span class=\"wpcf7-form-control-wrap web_key\"><input type=\"hidden\" name=\"web_key\" value=\"663d4d9f011e521baf6fc92150976b453f3b0a72\" size=\"40\" class=\"wpcf7-form-control wpcf7dtx-dynamictext wpcf7-dynamichidden\" aria-invalid=\"false\" /></span><br />",
                "author": "crispy-d",
                "score": 1
            },
            {
                "body": "Amazing - you are a legend! This is why I need to understand javascript better. Thank you so much!",
                "author": "crispy-d",
                "score": 1
            },
            {
                "body": "I'm looking forward to learn GTM extensively, i have clients who need this service. What is your recommendation to get deep on it, as currently i have badic ideas also taking a Google  courses\n\nIf you have other resources, I'll be thankful if you can provide.🙏🏽",
                "author": "murrahpixels",
                "score": 1
            },
            {
                "body": "No problem at all, happy to help!\n\nFeel free to reach out if you need anything else",
                "author": "jimmilil",
                "score": 1
            },
            {
                "body": "I wonder if you could help me out with another javascript query? I've got a listener in Tag Manager that looks like this:\n\n<script>\ndocument.addEventListener( 'wpcf7invalid', function( event ) {\n        dataLayer.push({\n          'event' : 'wpcf7error',\n          'CF7formID' : event.detail.contactFormId,\n          'attributes' : event.detail.inputs\n        });\n    \t}, false );\n</script>\n\nHow would I change this code so that it listens for 2 events, 'wpcf7invalid' and 'wpcf7mailfailed' but pushes them both as 'wpcf7error'?",
                "author": "crispy-d",
                "score": 1
            },
            {
                "body": "Hey!\n\nIF there both valid CF7 events then you only need to change the  'wpcf7invalid' part to listen out the event you named e.g.\n\n<script> document.addEventListener( 'wpcf7mailfailed', function( event ) { dataLayer.push({ 'event' : 'wpcf7error', 'CF7formID' : event.detail.contactFormId, 'attributes' : event.detail.inputs }); }, false ); </script>\n\n\nAs you are keeping the name of the dataLayer push event the same, it will be categorised under the same event for you to grab in GTM.",
                "author": "jimmilil",
                "score": 1
            },
            {
                "body": "Hi, yes they are both CF7 events but I want the same script too listen for both events - won't what you wrote only listen for wpcf7mailfailed and not wpcf7invalid? Or can I just write the two scripts into the same piece of custom html on top of each other?",
                "author": "crispy-d",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1638026043.0,
        "title": "NEED YOUR HELP - Stuck with wildcard css selector method. not getting data in console",
        "author": "OneAverageJo",
        "id": "r3fikf",
        "selftext": "following the absolutely fantastic and brilliantly explained YT series GTM & GA4 for beginners of Julius Fedorovicius u/fedorovicius \n\nIt's all on my first site that I'm building for myself using wordpress with elementor pro with hello theme.  \nfollowed instructions and everything was working good up to the point of setting up the link clicks which I saw that i have no data for in the tag assistant preview debug window under variables.  \nwhile I searched the web for an answer to this problem (was sure its something to do with using elementor) I came across another post in this sub that u/fedorovicius has referred someone to another great video that there he explained how to overcome this problem by using the wildcard css selector method.  \nThrilled with the solution i went to implement this method in my tag manager only to find this:  \n DevTools failed to load source map: Could not load content for https://www.googletagmanager.com/debug/badge.css.map: HTTP error: status code 404, net::ERR\\_HTTP\\_RESPONSE\\_CODE\\_FAILUREdataLayer\n\n1. *(3) \\[{…}, {…}, {…}, push: ƒ\\]*\n   1. **0**: {gtm.start: 1638022782357, event: 'gtm.js', gtm.uniqueEventId: 3}\n   2. **1**: {event: 'gtm.dom', gtm.uniqueEventId: 4}\n   3. **2**: {event: 'gtm.load', gtm.uniqueEventId: 5}\n   4. **push**: *ƒ* *()*\n   5. **length**: 3\n   6. \\[\\[Prototype\\]\\]: Array(0)    \n\nAt this point I'm lost with this one completely, stuck and would really appreciate any advice, help or insight anyone has to throw my way, thank you guys for reading this.",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/r3fikf/need_your_help_stuck_with_wildcard_css_selector/",
        "num_comments": 11,
        "comments": [
            {
                "body": "What exactly are you trying to do? Track link clicks? What does the preview tool says is the reason you can’t track them?\n\nEdit: I use elementor and hello and have no problem tracking link clicks",
                "author": "HawkeyMan",
                "score": 2
            },
            {
                "body": "Are you using a plug-in ?",
                "author": "OneAverageJo",
                "score": 1
            },
            {
                "body": "It’s tracking the clicks, but I get no click data under variables\nWhen click is made on the header menu (nav_menu) I get:\nClick classes: “elementor-item”\nClick element: super long string\nClick ID: “” (empty)\nClick target: “” (empty) \nClick text: “about”\n\nI want to start building tracking on page clicks but I get no useful variable data to start using\nAfter I want to make tracking for three different forms but I don’t know where to start since I’m not getting any data…\nAnd when I try looking in the console inspection window there’s no data there either so I’m a bit lost on how to differentiate the clicks for tracking…. Any help would be blessed 🙏",
                "author": "OneAverageJo",
                "score": 1
            },
            {
                "body": "Do you get anything in the Click URL variable?\nWhat is your trigger?",
                "author": "HawkeyMan",
                "score": 1
            },
            {
                "body": "Click url is getting correct info.\nTrigger is just links - all link clicks",
                "author": "OneAverageJo",
                "score": 1
            },
            {
                "body": "In preview mode, are there any red Xs on the trigger?",
                "author": "HawkeyMan",
                "score": 1
            },
            {
                "body": "No red xs\nEdit: just fired and not fired",
                "author": "OneAverageJo",
                "score": 1
            },
            {
                "body": "After you click a link with preview mode enabled, do you see a “Link Click” event on the left side under Summary?\nIf so, click Link Click so you can see each tag that fired for that specific event. You can then click into your desired tag and see checks or Xs next to the trigger.\nIf you don’t see Link Click and you do have a “Click - Just Links” trigger enabled then it’s likely something with the way the link was added to your website.",
                "author": "HawkeyMan",
                "score": 1
            },
            {
                "body": "I do see Link Click under summery and it does mark the correct tag fired\n\nWhat I got frustrated with is that the variables data of the clicks made is mostly undefined empty or very general (e.g. nav_menu click classes appears as “elementor-item”) and I can’t set specific tracking for values this way. \n\nBut what I’m seeing from more and more research done this week is that I’m probably missing some very basic info.\n\nCan you point me to where you’ve learned the very beginning of GTM and GA4 and maybe GAU (not sure if I need it or not) so I can start understanding what I missed…",
                "author": "OneAverageJo",
                "score": 1
            },
            {
                "body": "If that’s firing as it should, have you tried added a unique ID or class to your elements in Elementor?",
                "author": "HawkeyMan",
                "score": 1
            },
            {
                "body": "I’ve tried doing that, but I see that adding a css class to my nav_menu made no difference at all\n\nAnd I was looking for a place to add a unique id to the menu but couldn’t find anywhere to do that in elementor or WP",
                "author": "OneAverageJo",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1660756974.0,
        "title": "How to do I remove Global site tag (gtag.js) and Google Ads Remarketing Tag?",
        "author": "coffeecubebox",
        "id": "wqupsg",
        "selftext": "Hi everyone, I am volunteering in a non profit to help them out with marketing.  I am on the process on setting up Google Tag Manager and Analytics etc..\n\nI am using the Google Tag Assistant Add on to see what are the trackers and it showing I already have two -  \n**1. Global site tag (gtag.js)**  \n**2. Google Ads Remarketing Tag**\n\nI went inside the Theme > Header but I can't find ANY code snippets related to these\n\nBut when I go to developer menu and check search gtag.js it shows as under the header. \n\nWe were using Google Site Kit before but I removed thinking it is the one adding these codes.\n\nI am not an expert, still on the process of learning. I searched online but can't seem to find anything on where to remove these. \n\nHere is the [site](https://peerforce.org/) for reference",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/wqupsg/how_to_do_i_remove_global_site_tag_gtagjs_and/",
        "num_comments": 5,
        "comments": [
            {
                "body": "It looks like you are using WordPress to power your site. Depending on the plug-in you're using, it should be fairly simple to login and either deactivate that plugin, or update it to suit your needs.\n\nBuiltWith.com is also showing HubSpot, GA4, and FB Pixel. https://builtwith.com/peerforce.org",
                "author": "jasonhamrick",
                "score": 1
            },
            {
                "body": "I took a look at your website and the Google scripts are injected by your HubSpot script.\n\nThis one:\n\n`<script type='text/javascript' src='https://js.hs-scripts.com/20996967.js?integration=WordPress&#038;ver=8.16.0' async defer id='hs-script-loader'></script>`",
                "author": null,
                "score": 1
            },
            {
                "body": "I was using \"Google Site Kit\" but I deactivate and uninstalled it,\n\nUsing \"Buddy Boss\" Theme, inside that analytics codes are off.\n\nThe header menu does not show anything related to Google codes\n\nThis is the full header code\n\n    <?php\n/**\n * The header for our theme\n *\n * This is the template that displays all of the <head> section and everything up until <div id=\"content\">\n *\n * @link https://developer.wordpress.org/themes/basics/template-files/#template-partials\n *\n * @package BuddyBoss_Theme\n */\n?>\n<!doctype html>\n<html <?php language_attributes(); ?>>\n\t<head>\n\n\t\t<meta charset=\"<?php bloginfo( 'charset' ); ?>\">\n\t\t<link rel=\"profile\" href=\"http://gmpg.org/xfn/11\">\n\t\t<?php wp_head(); ?>\n\n\t</head>\n\n\t<body <?php body_class(); ?>>\n\n        <?php wp_body_open(); ?>\n\n\t\t<?php if (!is_singular('llms_my_certificate')):\n\t\t \n\t\t\tdo_action( THEME_HOOK_PREFIX . 'before_page' ); \n\t\n\t\tendif; ?>\n\n\t\t<div id=\"page\" class=\"site\">\n\n\t\t\t<?php do_action( THEME_HOOK_PREFIX . 'before_header' ); ?>\n\n\t\t\t<header id=\"masthead\" class=\"<?php echo apply_filters( 'buddyboss_site_header_class', 'site-header site-header--bb' ); ?>\">\n\t\t\t\t<?php do_action( THEME_HOOK_PREFIX . 'header' ); ?>\n\t\t\t</header>\n\n\t\t\t<?php do_action( THEME_HOOK_PREFIX . 'after_header' ); ?>\n\n\t\t\t<?php do_action( THEME_HOOK_PREFIX . 'before_content' ); ?>\n\n\t\t\t<div id=\"content\" class=\"site-content\">\n\n\t\t\t\t<?php do_action( THEME_HOOK_PREFIX . 'begin_content' ); ?>\n\n\t\t\t\t<div class=\"container\">\n\t\t\t\t\t<div class=\"<?php echo apply_filters( 'buddyboss_site_content_grid_class', 'bb-grid site-content-grid' ); ?>\">\n\n&#x200B;\n\nThere is no code related to Google right? Where could this gtag.js be hiding?",
                "author": "coffeecubebox",
                "score": 1
            },
            {
                "body": "Thank you!!! Finally understood where it's coming from!",
                "author": "coffeecubebox",
                "score": 1
            },
            {
                "body": "This was driving me crazy and your response helped me find where the code was being injected from. Thanks!",
                "author": "aspiring-ninja",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1673278292.0,
        "title": "Reason for datalayer not showing up",
        "author": "dudelord736",
        "id": "107h94d",
        "selftext": "Hi, I have included the javascript snippet for purchase datalayer in the shopify checkout page. The problem is that during debugging when Iam trying to buy products from a certain collection, the datalayer is not shown whereas there are no problems when Iam buying products included in another collection. What can be the possible reasons for this happening?",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/107h94d/reason_for_datalayer_not_showing_up/",
        "num_comments": 1,
        "comments": [
            {
                "body": "Got the same issue but I didn't find the response",
                "author": "GotF_ckedByGoogleBot",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1661461830.0,
        "title": "Hide and push margin as conversation value",
        "author": "Infamous-Force3616",
        "id": "wxpmja",
        "selftext": "Hi, I am using Google Tag Manager Server-Side to push conversions to GA4 and G Ads. As for the conversation value, I have the order total value, but now I would like to push margin as conversions value without exposing this information back to the client. Then I could calculate the correct POAS instead of ROAS. \n\nI can calculate the correct margin on the server side via a custom template tag, and then trigger the Google Ads Tracking tag with the event with margin value but its response with the pixel that contains margin value to the user. Margin value is sensitive information for me. Is there any method or technique to prevent that?\n\nI could send an event to the GA4 and pick conversation for GAds from it, but then I lost the Conversation Linker feature, right? On the other hand, I can skip sending back pixels, but then I am afraid that could work incorrectly. So, any ideas?",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/wxpmja/hide_and_push_margin_as_conversation_value/",
        "num_comments": 3,
        "comments": [
            {
                "body": "The Google Ads Conversion Tracking tag doesn't respond with a pixel (it doesn't need to since it's 100% server-side). It's actually your Google Ads Remarketing tag that is initiating this roundtrip back to the browser ([because remarketing doesn't work server-side](https://www.simoahava.com/gtm-tips/google-ads-remarketing-gtm-server-containers/)).\n\nI'm not sure if you can exclude the value from its response: the Google Ads Remarketing tag's configuration seems limited. A solution is to not fire it on your purchase event. This has no impact on your conversion tracking, just on your audiences.\n\nDepending on your remarketing needs, a wild idea might be to fire a second event without purchase data on a purchase, which you can then use to fill your audience list with purchasers but without purchase data.",
                "author": null,
                "score": 1
            },
            {
                "body": "Thank you for your suggestion. I will explore the possibility of sending two events. \n\nHowever, in the Google Ads Conversion Tracking, the response contains pixels (even via server-side); here is a good explanation of the whole process:\n\nhttps://www.simoahava.com/analytics/google-ads-server-side-tagging-google-tag-manager/#how-it-works-2",
                "author": "pperzyna",
                "score": 1
            },
            {
                "body": "Oh damn, I thought only the remarketing tag did that. But obviously I am wrong.",
                "author": null,
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1652260185.0,
        "title": "Tracking Issue with the Form 7",
        "author": "Speech_Safe",
        "id": "un5nkz",
        "selftext": "Hello everyone, I apologize in advance if this is a noobish question. We have a client that uses Form 7, after submission the page refreshes itself. So, we created a listener as a custom html, fires on all pages, this is the code:\n\n<script>\ndocument.addEventListener( 'wpcf7mailsent', function( event ) {\n window.dataLayer.push({\n \"event\" : \"cf7submission\",\n \"formId\" : event.detail.contactFormId,\n \"response\" : event.detail.inputs\n })\n}); \n</script>\n\nHowever, for some reason it doesn't work. It always worked. I believe that the page refresh after submission is the issue (for a brief moment the url changes into somethig like www.xyz/saleaforce-webtolead than it goes back to normal).\n\nDoes anyone have any idea how to resolve this? I am not a conversions tracking ninja and I am well aware that this might be a completely vanilla question, but well. xD",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/un5nkz/tracking_issue_with_the_form_7/",
        "num_comments": 4,
        "comments": [
            {
                "body": "[removed]",
                "author": null,
                "score": 1
            },
            {
                "body": "Personally, I use https://wordpress.org/plugins/duracelltomi-google-tag-manager/ to add GTM to my website. It also has a CF7 integration for form submission tracking. Never failed me.",
                "author": "MariusGMG",
                "score": 1
            },
            {
                "body": "That's the thing - it doesn't send the event. I don't know why",
                "author": "Speech_Safe",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1624067983.0,
        "title": "What actually _are_ GTM triggers?",
        "author": "atlwellwell",
        "id": "o35oit",
        "selftext": "I'm struggling to explain it to myself, and the ideal goal is to be able to explain to other folks, technical and otherwise.\n\nEvents? Sort-of-events? Functions that listen for particlar events and activate/fire when certain events/conditions are met, and then they fire tags that are configured to run in response to the conditions and events that cause the trigger to fire?\n\nIs a trigger a higher-level abstraction than an event?\n\nWhy would we need a trigger instead of an event?\n\nDo I need a 'Page View' trigger if i already have access to the PageView event?\n\n...ps the GTM help pages don't seem to shed any light. They say things like \"GTM Triggers allow you to fire or not fire tags.\"",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/o35oit/what_actually_are_gtm_triggers/",
        "num_comments": 7,
        "comments": [
            {
                "body": "A trigger in most cases is really just a JavaScript listener. Listen for this and do that.\n\nAn event can be used as a trigger. So you could have an event named button_click and you could use that to trigger a Universal Analytics tag.\n\n\nI guess I really don't understand what you are looking to understand.",
                "author": "stu583",
                "score": 7
            },
            {
                "body": "Triggers is what cause your TAG fire, the TAG do what it's coded to do and you can configure it to fire the `Facebook Pixel`, `Google Analytics`, `Hotjar`, show a chat, and so on.\n\nImagine a TAG that sends Facebook a event of `page_view`. The trigger can be \"PageView\", but can be or \"Window Loaded\" or even a \"Timer\" so it only fires FB `page_view` when the person stays on page for, say, 10s, or whatever, anything you want and makes sense in the situation.\n\nTrigger -> TAG\n\n>They say things like \"GTM Triggers allow you to fire or not fire tags.\"\n\nThat's exactly, if you want to a TAG only fires if the user plays a video, you set a trigger like \"video playblack started\", if the user don't play the video, the TAG won't fire.",
                "author": "diucameo",
                "score": 3
            },
            {
                "body": "Triggers are condition for what you want to happen (tags).",
                "author": "brunohivon",
                "score": 2
            },
            {
                "body": "A trigger is a condition to be fulfilled",
                "author": "Commuto",
                "score": 1
            },
            {
                "body": "What are variables?",
                "author": "SativaLeafs",
                "score": 0
            },
            {
                "body": "Well I read about the definition of a database trigger \n\nThat is closer to what I'm looking for \n\nProcedural code that is run automatically in response to certain events \n\nA real definition \n\nAll these other explanations are like\n\nWell you see its kind of this thing...where like, stuff happens....\n\nThis thing?",
                "author": "atlwellwell",
                "score": 0
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1621347832.0,
        "title": "GTM not recognizing that Click Element contains given string",
        "author": "spilledtea-cons",
        "id": "nfc09v",
        "selftext": "I'm trying to trigger when click element contains \"roup-email.elementor\". The string in preview mode contains this down near the bottom of the very long string. But the tag isn't being triggered. Any idea why/how to fix? Thanks in advance!Here's the string from preview mode:\"HTMLButtonElement: html.js-focus-visible > body.home.page-template.p\" + \"age-template-elementor\\_header\\_footer.page.page-id-14.logged-in.admin\" + \"-bar.custom-background.wp-custom-logo.wp-embed-responsive.is-light-t\" + \"heme.has-background-white.singular.has-main-navigation.no-widgets.el\" + \"ementor-default.elementor-template-full-width.elementor-kit-16.eleme\" + \"ntor-page.elementor-page-14.customize-support.e--ua-blink.e--ua-chro\" + \"me.e--ua-mac.e--ua-webkit > div.elementor.elementor-14 > div.element\" + \"or-section-wrap > section.elementor-section.elementor-top-section.el\" + \"ementor-element.elementor-element-5f18013.elementor-section-content-\" + \"middle.elementor-section-boxed.elementor-section-height-default > di\" + \"v.elementor-container.elementor-column-gap-wider > div.elementor-col\" + \"umn.elementor-col-50.elementor-top-column.elementor-element.elemento\" + \"r-element-939335f > div.elementor-widget-wrap.elementor-element-popu\" + \"lated > section.elementor-section.elementor-inner-section.elementor-\" + \"element.elementor-element-13f5ae5.elementor-section-boxed.elementor-\" + \"section-height-default > div.elementor-container.elementor-column-ga\" + \"p-default > div.elementor-column.elementor-col-100.elementor-inner-c\" + \"olumn.elementor-element.elementor-element-30035de > div.elementor-wi\" + \"dget-wrap.elementor-element-populated > div.elementor-element.elemen\" + \"tor-element-ed6a670.elementor-button-align-center.labelcentered.elem\" + \"entor-widget.elementor-widget-global.elementor-global-139.elementor-\" + \"widget-form > div.elementor-widget-container > form.elementor-form#o\" + \"ptionsForm > div.elementor-form-fields-wrapper.elementor-labels-abov\" + \"e > div.elementor-field-type-step.elementor-column.elementor-field-g\" + \"roup-email.elementor-col-100.e-form\\_\\_step > div.e-form\\_\\_buttons.elem\" + \"entor-column.elementor-col-100 > div.elementor-field-group.e-form\\_\\_b\" + \"uttons\\_\\_wrapper.elementor-field-type-next > button.elementor-button.\" + \"elementor-size-md.e-form\\_\\_buttons\\_\\_wrapper\\_\\_button.e-form\\_\\_buttons\\_\\_\" + \"wrapper\\_\\_button-next\"  \n\n\nEdit: FWIW, it does trigger when I do Click Element contain HTMLButtonElement. But a number of click elements in this flow contain that so I need to use roup-email.elementor which is unique (or group-email, I was just testing to see if not including something bisected by \"+\" made a difference).",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/nfc09v/gtm_not_recognizing_that_click_element_contains/",
        "num_comments": 6,
        "comments": [
            {
                "body": "The element doesn’t happen to be in an iframe, does it?",
                "author": "roberthunicorn",
                "score": 2
            },
            {
                "body": "No, it’s native",
                "author": "spilledtea-cons",
                "score": 2
            },
            {
                "body": "Click Element matches CSS selector `.elementor-field-type-step.elementor-column.elementor-field-g *`",
                "author": "stepp_ok",
                "score": 1
            },
            {
                "body": "That won’t be unique. Any way to include the “roup-email” portion?",
                "author": "spilledtea-cons",
                "score": 1
            },
            {
                "body": "Can you DM the url so I can have a look?",
                "author": "stepp_ok",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1620788787.0,
        "title": "Can I exclude tags firing based on an ID?",
        "author": "jaapgrolleman",
        "id": "naf05q",
        "selftext": "I am checking form submissions with GTM in Wordpress.\n\nMy script for the \\*listener\\* is:\n\n    <script>\n    document.addEventListener( 'wpcf7mailsent', function( event ) {\n     window.dataLayer.push({\n     \"event\" : \"cf7submission\",\n     \"formId\" : event.detail.contactFormId,\n     \"response\" : event.detail.inputs\n     })\n    }); \n    </script>\n\nCan I exclude some tags from firing if e.g. \"FormID\" equals 123, or other numbers? Or only measure 124 and 125?\n\nWill gild helpful answers!",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/naf05q/can_i_exclude_tags_firing_based_on_an_id/",
        "num_comments": 5,
        "comments": [
            {
                "body": "Yes, just include the wanted ids in your custom event trigger.",
                "author": "fedorovicius",
                "score": 3
            },
            {
                "body": "I am not certain you even need to pass the form I'd, as it is typically exposed in the websites HTML code in the clients browser. Their is a built in variable for Form ID. Once you enable that you can create your trigger and then you will add a condition for the form id variable which you can do exact match, contains, does not contain, does not match, etc. And you can use regex as well",
                "author": "stu583",
                "score": 1
            },
            {
                "body": "Ah this is much easier than I expected! Thanks\n\nShould they be comma seperated or comma space?\n\nRight now I have this: 2754,2758,4067,10490,13154,23465",
                "author": "jaapgrolleman",
                "score": 1
            },
            {
                "body": "No. If you want to include several IDs, use Regular Expressions",
                "author": "fedorovicius",
                "score": 1
            },
            {
                "body": "https://www.analyticsmania.com/post/or-condition-in-google-tag-manager-triggers-3-options/",
                "author": "fedorovicius",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1605107137.0,
        "title": "How to track Ajax contact form sent event using GTM?",
        "author": "roosterapp",
        "id": "js9pas",
        "selftext": "Hi,\nAs the title says, I need a help how to track event contact form (completed) sent using AJAX listener (I got the JS file from webmaster).\n\nI have watched some YT tutorials but since the response codes aren’t the same I failed to figure out how to set up GTM.\n\nPlease can you help with some ideas/links how to do it?\n\nThanks in advance.",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/js9pas/how_to_track_ajax_contact_form_sent_event_using/",
        "num_comments": 7,
        "comments": [
            {
                "body": "You know the solution, gotta place an ajax listener in a custom HTML tag\nCan’t really help unless you provide the code/screenshot",
                "author": "Jigsaw9261",
                "score": 2
            },
            {
                "body": "What CMS and type of form is it (e.g gravity forms)? I’ve had luck with adding confirmation data layer pushes which you can then create a custom event for",
                "author": "SavageRebuttal",
                "score": 2
            },
            {
                "body": "I use several ways to track form submit:\n\n1. form submit trigger\n2. Ask developers to dataLayer.push() on submit\n3. Trigger on visibility of success message popup\n4. Rewrite request method like\n\n<script>\n  (function(open) {\n    XMLHttpRequest.prototype.open = function(method, url) {\n      this.responseURL = url // thanks to IE\n\n      this.addEventListener('load', function() {\n        if (~this.responseURL.indexOf('/url-for-sending-form-data/')) {\n          dataLayer.push({\n            event: 'form__ajax',\n            details: {\n              // ...\n            },\n          })\n        }\n      })\n      return open.apply(this, arguments)\n    }\n  })(XMLHttpRequest.prototype.open)\n</script>\n\n5. Rewrite form processing function (that validates fields and sends data)\n\n<script>\n  // save old function\n  var _old_process = process;\n\n  // define new\n  process = function(form) {\n    dataLayer.push({\n      event: 'form__rewrite',\n      details: {\n        contact: form.querySelector('input[placeholder=Контакт]').value,\n        formID: form.id,\n      },\n    })\n\n    // call old with params as if nothing happened\n    _old_process.apply(window, arguments)\n  }\n</script>",
                "author": "badketchup",
                "score": 2
            },
            {
                "body": "If ya wanna DM an example URL with a form- I can take a whack at it. I recently used some crazy workaround for parsing Shopify native analytics Ajax pushes into GTM dL.",
                "author": "hat_like_dad",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1634140613.0,
        "title": "Need help with UA GTM Server Side",
        "author": "vinm9",
        "id": "q7e71v",
        "selftext": "We have migrated to server sidetracking a while back, but in the last two days we are noticing a lot of missing data in GA3, we have GA4 tracking as well.\n\nThen on debugging, We found out that the analytics.js is requesting this URL (/plugins/ua/ec.js) on our transport URL which is not available and getting a 400 response.\n\nDon't know why it's suddenly happening were there any updates, I checked our container there is no update to any templates.\n\nApparently, this is the script which it's trying to load but is not being provided by our GTM Server-side container\n\nIn Debug mode for this request, the error says no client claimed this request.\n\nDo anyone else is facing the same issue? How can I solve it, can I create a custom client which redirects to this file?",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/q7e71v/need_help_with_ua_gtm_server_side/",
        "num_comments": 1,
        "comments": [
            {
                "body": "Your submission has been automatically removed because you are new to our community, spend more time contributing with your comments before posting.\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1597997778.0,
        "title": "Is there any way to identify what is triggering a specific .js ?",
        "author": "yuganafi",
        "id": "idstto",
        "selftext": "This may not be a GTM question. Maybe more of a javascript question, but I'll try it here anyways. \n\nMy problem is that I've identified on the website im working on, in the network tab of the dev tools, a .js in red with a 404 status. \nSo it generates an error. The thing is, that js name does not ressemble any of the tags that I have implemented. Thus, I don't know which tag is \"responsible\" of this error. I could deactivate them all in GTM, one by one, but I have more than a 100 tags on this website so it would be a tedious process. \n\nI'm wondering if there is a way to see what triggered this .js ? \nI have tried an export of the whole container and a ctrl+F its name, with no success so far.\n\nI've also clicked in the dev tool on the other smaller tabs such as Initiator, Response, Hearders, but did not find any useful information. \n\nAny ideas ? \n\nThanks",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/idstto/is_there_any_way_to_identify_what_is_triggering_a/",
        "num_comments": 6,
        "comments": [
            {
                "body": "Have a look through your list of variables and see if there are there any JS variables created. If so, check if that variable is being referenced in a tag or trigger.\n\nAre you 100% sure the JS is being triggered by GTM?",
                "author": "mighty_cryplle",
                "score": 1
            },
            {
                "body": "> Have a look through your list of variables and see if there are there any JS variables created. If so, check if that variable is being referenced in a tag or trigger.\n\nSame problem here, I have a lot of those. :/ \n\n> Are you 100% sure the JS is being triggered by GTM?\n\nYes, 100%",
                "author": "yuganafi",
                "score": 1
            },
            {
                "body": "Wish I had a better answer for you, but seems like you're going to need to do quite a bit of manual digging.",
                "author": "mighty_cryplle",
                "score": 1
            },
            {
                "body": "u/yuganafi there's a search function in GTM now. It may help you with this.",
                "author": "mighty_cryplle",
                "score": 1
            },
            {
                "body": "Thanks for following up ! It might indeed",
                "author": "yuganafi",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1580269174.0,
        "title": "Installed GA via GTM. It's working on Firefox but not Chrome",
        "author": "legaldrugdealer",
        "id": "evh6mx",
        "selftext": "I inserted the GTM snippet into the head and body of all the pages using a Wordpress plugin. Seems to be working when I open it in Firefox:\n\n1. If I open the Inspector, I can see GTM in the head and body\n2. I can view the GTM Debug/Preview thingy in Firefox\n3. Real-time report is working in Analytics\n\nBut for some reason, it's not working in Chrome. All of the above 3 points don't work in Chrome, and also the Tag Assistant extension is saying there's no tags installed.\n\nNot sure what to do next...\n\nEdit: Thanks for the response! Turned out nothing was wrong... it just took a couple days and then started working? Huh. Weird",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/evh6mx/installed_ga_via_gtm_its_working_on_firefox_but/",
        "num_comments": 6,
        "comments": [
            {
                "body": "I had faced similar issue, and the workaround is to clear your cache or check it in incognito.",
                "author": "serenebeast",
                "score": 3
            },
            {
                "body": "Clear your cache and try other GTM extensions.",
                "author": "JohnRFL",
                "score": 1
            },
            {
                "body": "Share the preview link of GTM with yourself and paste it into a chrome incognito window and then go to the site. This should work. \nYour regular chrome might have some extrnsions/apps interfering with it",
                "author": "t0pz",
                "score": 1
            },
            {
                "body": "Have you got Ad Blocker or something similar installed?\n\nThis always catches me out when I do a new GTM / GA install.",
                "author": "Coffchill",
                "score": 1
            },
            {
                "body": "Probably some of your Chrome extensions blocking it.  Ghostery, Adblocker, etc.",
                "author": "craftandslice",
                "score": 1
            },
            {
                "body": "This. I think it’s a bug with GTM",
                "author": "found_it_online_01",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1600939468.0,
        "title": "Badly stuck with fetch requests to custom Client in Server-side GTM.",
        "author": "RthurBent",
        "id": "iytz5k",
        "selftext": "Hi there,\n\nI am trying out the new GTM Server-side and everything worked out so far with the preset Clients, Templates etc. I also followed [Simo's Guide on how to build a custom UA Client](https://www.simoahava.com/gtm-tips/build-custom-universal-analytics-client-server-side-tagging/), which worked perfectly. I have setup a custom domain for the Server GTM, which gives all the benefits of a first party context. \n\nBeing very happy with the results, I wanted to expand the functionality and build my own Client, however I am stuck for hours and days now. Here is the status quo:\n\nIn the web GTM I have the following script:\n\n&#x200B;\n\n`<img src=\"``https://collector.example.com/test?client_id=3456``\">`\n\n`<script>`\n\n`var myHeaders = new Headers();`\n\n`myHeaders.append('Content-Type', 'text/plain');`\n\n`var myInit = {`\n\n  `method: 'POST',`\n\n  `headers: myHeaders,`\n\n  `mode: 'cors',`\n\n  `cache: 'no-cache'`\n\n`};`\n\n`var myRequest = '``https://collector.example.com/test?client_id=3456``';`\n\n`fetch(myRequest, {'headers':{'Content-Type':'text/plain'}}).then(function(response) {`\n\n  `console.log(\"success!!\");`\n\n`});`\n\n`</script>`\n\nAs you can see this script does two things: one img request and one fetch request. The reason behind that is that my img request goes though and gets recognised by my custom Client, the fetch request however is declined with an 500 error and the console log saying that the \"Access-Control-Allow-Origin\" header is wrong:\n\n`Access to fetch at '``https://``collector``.``example.com``/test?client_id=1234``' from origin '``https://example.com``' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource. If an opaque response serves your needs, set the request's mode to 'no-cors' to fetch the resource with CORS disabled.`\n\nThis is the code of my GTM client (all permissions set on the most \"open\" settings):\n\n`const claimRequest = require('claimRequest');`\n\n`const getCookie = require('getCookieValues');`\n\n`const getEventData = require('getEventData');`\n\n`const getRemoteAddress = require('getRemoteAddress');`\n\n`const getRequestHeader = require('getRequestHeader');`\n\n`const getRequestQueryParameters = require('getRequestQueryParameters');`\n\n`const returnResponse = require('returnResponse');`\n\n`const runContainer = require('runContainer');`\n\n`const setCookie = require('setCookie');`\n\n`const setPixelResponse = require('setPixelResponse');`\n\n`const setResponseHeader = require('setResponseHeader');`\n\n`const getRequestPath = require('getRequestPath');`\n\n`const setResponseBody = require('setResponseBody');`\n\n`const setResponseStatus = require('setResponseStatus');`\n\n&#x200B;\n\n`if (getRequestPath() === '/test') {`\n\n  `// Claim the request`\n\n  `claimRequest();`\n\n   \n\n  `// Make sure no CORS errors pop up with the response`\n\n  \n\n  `const origin = getRequestHeader('Origin');`\n\n  `if (origin) {`\n\n`setResponseHeader('Access-Control-Allow-Origin', origin);`\n\n`setResponseHeader('Access-Control-Allow-Credentials', 'true');`\n\n  `}` \n\n  \n\n  `//Get query parameter in order to add them to event data`\n\n  `const params = getRequestQueryParameters();`\n\n  `const client_id_1 = params.client_id;`\n\n  \n\n  `//Set event_data object`\n\n  `const event_data = {`\n\n`event_name: 'testing', //mandatory`\n\n`client_id: client_id_1`\n\n  `};`\n\n\n\n  `runContainer(event_data, () => {`\n\n`setResponseStatus(200);`\n\n`returnResponse();`\n\n  `});`  \n\n`}`\n\n&#x200B;\n\nSo for some reason the img is recognised, the fetch not. To get deeper into testing I changed the fetch request of my web GTM script to that of a normal GA request (which works fine), directed at my Server GTM with a working custom GA Client (which is a 1:1 copy of Simos custom Client):\n\n`<script>`\n\n`var myHeaders = new Headers();`\n\n`myHeaders.append('Content-Type', 'text/plain');`\n\n`var myInit = {`\n\n  `method: 'POST',`\n\n  `headers: myHeaders,`\n\n  `mode: 'cors',`\n\n  `cache: 'no-cache'`\n\n`};`\n\n`var myRequest =` [`https://collector.example.com/j/collect?v=1&_v=j.`](https://collector.funnel.io/j/collect?v=1&_v=j86&aip=1&a=843570148&t=pageview&_s=1&dl=https%3A%2F%2Ffunnel.io%2F&ul=en-gb&de=UTF-8&dt=Automated%20Data%20Collection%20%26%20Marketing%20Reports%20%7C%20Funnel&sd=30-bit&sr=1792x1120&vp=614x1013&je=0&_u=SACAAAABAAAAAC~&jid=1209895786&gjid=53672910&cid=1243817643.1600763409&tid=UA-51804717-1&_gid=304470577.1600852264&_r=1&gtm=2wg9g1MSMXX4&cd1=2020-09-23T15%3A59%3A07.996%2B02%3A00&cd2=71170ddf-b7b0-468a-8c9d-7315339d11a5&cd5=6Z2OOnC9HeFzqPRwL8PSFc5tWemmNoD3&cd6=6Z2OOnC9HeFzqPRwL8PSFc5tWemmNoD3&cd7=https%3A%2F%2Ffunnel.io%2F&cd9=GTM-MSMXX4&cd3=1243817643.1600763409&cd4=pageview&z=264273401&cd8=WORKS)`...';`\n\n`fetch(myRequest, {'headers':{'Content-Type':'text/plain'}}).then(function(response) {`\n\n  `console.log(\"success!!\");`\n\n`});`\n\n`</script>`\n\nThis does not produce a 500 error, it gets an 200 status, success!!!. However, when previewing the Server GTM the request is not recognised/displayed. Nothing happens. The request was just kind of...ignored I guess.\n\nI do not know where to go from here. Unfortunately I cannot find any documentation from Google about this and everyone else does not seem to have that problem, as I cannot find anyone else on the internet talking about this. I talked to some of my developer colleagues and they do not know what is happening either, because there is no error code to look at, which makes debugging quite hard/ a guesswork. \n\nThank you a lot for reading this and thank you in advance for helping me out. Any input or idea is highly appreciated.",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/iytz5k/badly_stuck_with_fetch_requests_to_custom_client/",
        "num_comments": 2,
        "comments": [
            {
                "body": "Hi\n\nFirst thing to check is that you have all the permissions set in the template, so check and double-check those.\n\nThen, check if the request is preceded by an OPTIONS (pre-flight) request - if so, you need to do some additional tricks to prevent that from messing things up.\n\nSimo",
                "author": "sahava",
                "score": 2
            },
            {
                "body": "Hi Simo, \n\nthank you for your answer. I appreciate it! \n\nRegarding your advise: \n\n1.) All permissions are as allowing as they can be (everything on any, see below). \n\n2.) I checked the actual request with a developer from my organisation and he confirmed that it is not a OPTIONS request. I nevertheless included the preflight code from your github in case it somehow is one. I also went through the [MDN simple request](https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS) and [will-it-cors](https://httptoolkit.tech/will-it-cors/simple-cors) checklist everything seems in line with a simple request.  \n\nI was able to make requests to my server now with a custom template and the sendPixel API. This however is just an image and I am still struggling with making GET or POST requests. \n\nHere is the code for the Client, with the permissions included:\n\n`___INFO___`\n\n`{`\n\n  `\"type\": \"CLIENT\",`\n\n  `\"id\": \"cvt_temp_public_id\",`\n\n  `\"version\": 1,`\n\n  `\"securityGroups\": [],`\n\n  `\"displayName\": \"Testing\",`\n\n  `\"brand\": {`\n\n`\"id\": \"brand_dummy\",`\n\n`\"displayName\": \"\"`\n\n  `},`\n\n  `\"description\": \"\",`\n\n  `\"containerContexts\": [`\n\n`\"SERVER\"`\n\n  `]`\n\n`}`\n\n`___TEMPLATE_PARAMETERS___`\n\n`[]`\n\n`___SANDBOXED_JS_FOR_SERVER___`\n\n`[The code is in the initial post]`\n\n`___SERVER_PERMISSIONS___`\n\n`[`\n\n  `{`\n\n`\"instance\": {`\n\n`\"key\": {`\n\n`\"publicId\": \"read_request\",`\n\n`\"versionId\": \"1\"`\n\n`},`\n\n`\"param\": [`\n\n`{`\n\n`\"key\": \"requestAccess\",`\n\n`\"value\": {`\n\n`\"type\": 1,`\n\n`\"string\": \"any\"`\n\n`}`\n\n`},`\n\n`{`\n\n`\"key\": \"headerAccess\",`\n\n`\"value\": {`\n\n`\"type\": 1,`\n\n`\"string\": \"any\"`\n\n`}`\n\n`},`\n\n`{`\n\n`\"key\": \"queryParameterAccess\",`\n\n`\"value\": {`\n\n`\"type\": 1,`\n\n`\"string\": \"any\"`\n\n`}`\n\n`}`\n\n`]`\n\n`},`\n\n`\"clientAnnotations\": {`\n\n`\"isEditedByUser\": true`\n\n`},`\n\n`\"isRequired\": true`\n\n  `},`\n\n  `{`\n\n`\"instance\": {`\n\n`\"key\": {`\n\n`\"publicId\": \"return_response\",`\n\n`\"versionId\": \"1\"`\n\n`},`\n\n`\"param\": []`\n\n`},`\n\n`\"isRequired\": true`\n\n  `},`\n\n  `{`\n\n`\"instance\": {`\n\n`\"key\": {`\n\n`\"publicId\": \"access_response\",`\n\n`\"versionId\": \"1\"`\n\n`},`\n\n`\"param\": [`\n\n`{`\n\n`\"key\": \"writeResponseAccess\",`\n\n`\"value\": {`\n\n`\"type\": 1,`\n\n`\"string\": \"any\"`\n\n`}`\n\n`},`\n\n`{`\n\n`\"key\": \"writeHeaderAccess\",`\n\n`\"value\": {`\n\n`\"type\": 1,`\n\n`\"string\": \"specific\"`\n\n`}`\n\n`}`\n\n`]`\n\n`},`\n\n`\"clientAnnotations\": {`\n\n`\"isEditedByUser\": true`\n\n`},`\n\n`\"isRequired\": true`\n\n  `},`\n\n  `{`\n\n`\"instance\": {`\n\n`\"key\": {`\n\n`\"publicId\": \"run_container\",`\n\n`\"versionId\": \"1\"`\n\n`},`\n\n`\"param\": []`\n\n`},`\n\n`\"isRequired\": true`\n\n  `}`\n\n`]`",
                "author": "RthurBent",
                "score": 1
            }
        ]
    }
]