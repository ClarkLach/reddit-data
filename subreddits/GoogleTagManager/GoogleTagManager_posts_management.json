[
    {
        "subreddit": "GoogleTagManager",
        "created": 1753219784.0,
        "title": "Double Loading CMP Issue",
        "author": "jason23a",
        "id": "1m6qrmv",
        "selftext": "Having a bit of a nightmare with CMPs.\n\nOne of my site’s primary ad agencies is able to inject their CMP (ABConsent via sirdata) via the same code as their wrapper and ads (dynamically).\n\nHowever, of late, another CMP is loading alongside it. Terrible for U X.\n\nWe have tried what feels like everything.\n\nWe run no other ads beyond the primary company’s, and by way of A/B testing we’ve  estblished it’s not that ad code. So, we’re a bit stumped. \n\nIs there any way to trace where a CPM (specifically a Google one) is coming from? Rather oddly, it has the site logo, but equally isn’t a CPM we have used before. \n\nThinking aloud whether there are any Wordpress plugins that could cause this?\n\nAre there any settings within certain CPMs that can cause this? Maybe reverting to Google’s CPM for aspects it doesn’t cover (like GDPR for select geos)\n\nAny insights would be greatly appreciated. \n\nThanks",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1m6qrmv/double_loading_cmp_issue/",
        "num_comments": 2,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "**Hi Jason,**\n\nThe solution is quite straightforward. You may need to install an additional plugin that reloads the page after a purchase is completed or redirects users to a customized thank you page.\n\nCould you please let me know which plugin you're currently using to enable the dataLayer or how you've connected Google Tag Manager (GTM) to your site?\n\nOnce I have that info, I can guide you through the exact steps.",
                "author": "motiur_ak07",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1746782083.0,
        "title": "CMP Tarteaucitron, Certifiée ou Pas ? Quels Impacts Réels ?",
        "author": "Lower-Worldliness366",
        "id": "1kie488",
        "selftext": "Hello à tous,\n\nJe m’interroge en ce moment sur l'utilisation de la CMP **Tarteaucitron.js** et ses implications, notamment depuis l’arrivée du **Consent Mode V2 de Google** et les exigences croissantes autour de la conformité RGPD.\n\n* Peut-on bien **implémenter Consent Mode V2** avec cette CMP ?\n* Y a-t-il un **impact sur la diffusion des campagnes Google Ads/GA4** si on l’utilise ?\n* Faut-il forcément passer sur une CMP certifiée pour éviter des problèmes ?\n\nMerci d'avance ! ",
        "score": 0,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1kie488/cmp_tarteaucitron_certifiée_ou_pas_quels_impacts/",
        "num_comments": 6,
        "comments": [
            {
                "body": "Si vous souhaitez du soutien, faites au moins l’effort de traduire votre message en anglais.",
                "author": "brannefterlasning",
                "score": 3
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Bonjour je suis freelance en tracking et je fais régulièrement des implémentations de CMP.\n\n  \nJ'utilise principalement :\n\n\\- CookieBot\n\n\\- Didomi\n\n\\- Axeptio\n\n\\- OneTrust\n\n  \nJe ne recommande pas du tout tarteaucitron si effectivement vous utilisez GA4 et Google Ads et que vous avez besoin du consent mode v2.",
                "author": "lucas-dms",
                "score": 1
            },
            {
                "body": "Looks like it got answered anyway!",
                "author": "lucas-dms",
                "score": 1
            },
            {
                "body": "Merci pour la réponse. Mais pourquoi vous ne recommandez pas ? Ya t'il des standards du marché dont tarteaucitron ne respecteraient pas ?",
                "author": "Lower-Worldliness366",
                "score": 1
            },
            {
                "body": "En gros si la CMP n'est pas certifiée par Google je ne conseille pas de l'utiliser car ça peut créer des problèmes. Après avoir travaillé sur pas mal de projet je me casse plus la tête avec une CMP qui n'est pas certifiée Google mais si vous débutez et que souhaitez tester, allez-y.",
                "author": "lucas-dms",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1745421560.0,
        "title": "Issued with Hubspot CMP Config",
        "author": "Happy_Little_Leaves",
        "id": "1k61sqc",
        "selftext": "Hi everyone!\n\nI’ve been implementing Consent Mode using GTM in conjunction with HubSpot’s cookie banner. Most of the integration seems to work except for one major issue that I haven’t been able to resolve:\n\nProblem:\nConsent values are getting overwritten when a user accepts cookies—even though U.S. visitors should default to “granted.” Instead, the values are either not being set correctly at page load, or they’re being overwritten after a user clicks “Accept.” As a result, GA4 tags are firing inconsistently, and Consent Mode isn’t behaving as expected.\nHere’s what I’ve done so far:\n\n \nSet up HubSpot CMP using their native cookie banner with separate categories for marketing, analytics, functional, etc.\nConfigured GTM with a Consent Initialization Tag to run before any other tags:\njavascript\nCopyEdit\ngtag('consent', 'default', { 'ad_storage': 'denied', 'analytics_storage': 'denied', 'functionality_storage': 'denied', 'personalization_storage': 'denied', 'security_storage': 'granted' });\nEnabled “Respond to Global Privacy Control” in the HubSpot banner settings to respect user browser signals.\nTested behavior in GTM Preview Mode and confirmed:\nConsent values are initially set correctly when the page loads.\nBut once a user interacts with the banner and accepts cookies, the values are being overwritten instead of updated according to category selection.\nThis happens even when no GTM tags are firing at the moment of consent.\nChecked for firing tags and no conflicting tags or triggers seem to be running when the overwrite occurs.\nConfirmed U.S. visitors should be opted in by default, per agency recommendation—but this doesn’t appear to be happening. The defaults are still being treated as denied.\n\nQuestions:\nHas anyone else seen HubSpot CMP override Consent Mode values after interaction?\nHow can I stop consent states from being overwritten when a user accepts?\nIs there a recommended way to intercept or preserve the values during/after banner interaction?\nCould this be a sequencing issue between HubSpot and GTM tags?\n\nAny help would be hugely appreciated—thank you in advance! ",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1k61sqc/issued_with_hubspot_cmp_config/",
        "num_comments": 2,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Could you share a preview link of your container?",
                "author": "zombiekop",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1742034483.0,
        "title": "[Help Needed] Google AdSense CMP Not Passing Consent to Google Analytics 4 (GA4) via GTM",
        "author": "Feeling-Baker-2430",
        "id": "1jbs6vg",
        "selftext": "Hey everyone,\n\nI’m facing an issue with Google’s Consent Management Platform (CMP) provided via AdSense and the European regulations settings page. I want to ensure that consent choices from the CMP are properly passed to Google Analytics 4 (GA4) using Google Tag Manager (GTM), but right now, GA4 always shows consent as \"Refused\" by default, even when users accept cookies.\n\nBefore going any further, does the AdSense tool works for what I need (which is managing consent and track users on my website) ?\n\nHere is my setup:\nI’m using Google’s built-in CMP via AdSense (not a third-party CMP like OneTrust or Cookiebot).\n\nI haven’t manually added any scripts to my site—I want to handle everything through Google Tag Manager (GTM).\n\nI have enabled Consent Mode in GTM and activated Consent Overview in the container settings.\n\nI have no pre-existing GA4 tag in GTM.\n\nSo far:\nThe CMP is displaying correctly on my site and allows users to accept or reject cookies.\n\nHowever:\nEven after a user accepts cookies, Google Tag Assistant and GA4 DebugView still show:\n\nanalytics_storage: refused\nad_storage: refused\nOther consent categories also remain denied.\n\nThis suggests that GTM isn’t receiving updated consent signals from the CMP.\n\n\nQuestions:\nHow do I ensure that Google’s own CMP correctly updates GTM with the user’s consent choices?\n\nDoes Google AdSense’s CMP automatically send consent updates to GTM, or do I need to manually configure something?\n\nIs there a way to force GTM to listen for consent updates from Google’s CMP?\n\nAny insights or guidance would be greatly appreciated 🙏\n\nThanks !\n\n ",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1jbs6vg/help_needed_google_adsense_cmp_not_passing/",
        "num_comments": 5,
        "comments": [
            {
                "body": "Please provide the regions that your struggling with and what settings you have set in your CMP. \n\nIf possible provide the URL of the websites that your trying to fix so we can see what is going on and advise you on possible fixes (understandably not always possible).\n\nGA4 being \"denied\" even after accepting cookies means there is some kind of disconnect between your CMP platform and your website, because what should happen is:\n\n1. Default settings should happen on each page (e.g. US all settings should be denied by default)\n\n2. A call to your CMP needs to be made at this point that needs to store your users settings (if they accepted cookies the settings should be over ridden to accepted).\n\n3. Now that the settings are accepted, your page load/whatever load event needs to happen that triggers your GA4 tags/marketing tags needs to happen. \n\nSounds like potentially its the order of tags thats the issue.\n\nUse your GTM preview mode to diagnose.\n\nMake sure you put your CMP tags to load first to make this happen.",
                "author": "Mysterious_Swan_9941",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Hi, thanks for your answer, how can I be more precise in order to have a concrete answer ? What information should I add ?",
                "author": "Feeling-Baker-2430",
                "score": 1
            },
            {
                "body": "I have a multiple clients who have been threatened with lawsuits (6 figures) around this in the US. I think there are companies in the US that are just fishing for victims who violate.",
                "author": "Mysterious_Swan_9941",
                "score": 1
            },
            {
                "body": "This is a very new industry and even established players like OneTrust haven't got it right. Your post is too general for you to get a concrete answer.",
                "author": "Mysterious_Swan_9941",
                "score": 0
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1743792546.0,
        "title": "consent: personalization_storage, functionality_storage && security_storage - can be granted in EU? require CMP question?",
        "author": "bytepursuits",
        "id": "1jrjgs7",
        "selftext": "Guys - does anyone know how these should be setup for CMP+GTM conesnt mode combo integration?    \n  \nCan I just set these as allowed in EU?  \n- personalization_storage        \n- functionality_storage        \n  \nI've setup Additional Consent Checks for one of the GTM tags like this:   \n- personalization_storage        \n- functionality_storage        \n  \n  \n\n  \n  \nHowever tag does not trigger -> becase CMP is typically only requesting these: \n- ad_storage   \n- ad_user_data  \t  \n- ad_personalization\t   \n- analytics_storage\t    \nhttps://support.google.com/tagmanager/answer/10718549?hl=en   \n\nAre - personalization_storage and functionality_storage supposed to be configurable in CMP?  \nare they legally required in EU?    \nis the problem in my raptive cmp?  anyone knows? ",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1jrjgs7/consent_personalization_storage_functionality/",
        "num_comments": 2,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "You've added consent categories to a tag. That implies you believe that tag writes or reads at least one cookie (or localStorage or sessionStorage value) that belongs in each of those consent categories.\n\nYour CMP will likely need to be configured to recognise that cookie / those cookies as belonging in those categories in order to allow users to opt-in to those categories.",
                "author": "DigitalStefan",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1738254461.0,
        "title": "One trust cmp",
        "author": "Shot-Appointment3569",
        "id": "1idqu7o",
        "selftext": "Hi, please let me know if I need to add more detail, but I've added the onetrust cmp template and it's set up and running correctly. However since putting it live in tag manager our consent banner no longer shows. \n\nI then read that the template from onetrust creates it's own banner and needs to run by itself, so we paused the existing onetrust cookie banner but the new banner still didn't show up.\n\nWhen pausing the cmp tag, our old banner shows up again...I'm not sure what to do and can't currently get through to their support team.",
        "score": 4,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1idqu7o/one_trust_cmp/",
        "num_comments": 4,
        "comments": [
            {
                "body": "Could you share the website? So i can take a look",
                "author": "zombiekop",
                "score": 2
            },
            {
                "body": "First advice: Get a staging server to validate things before pushing them live\n\nSecond advice: Currently for some reason (in some cases) Microsoft Edge is blocking OneTrust banners/security center from loading (so if your workplace uses that be aware.)\n\nThird advice: OneTrust CMP template should be inserted via GTM for maximal efficiency (they offer a template that you can download from the library and you can manipulate when it loads), If you hardcode it there can be issues with the timing/loading of cookies (if the firing trigger for marketing/analytics loads before OneTrust you have a problem).\n\nFourth Advice: Make sure you add the additional consent required on all your GTM cookies.",
                "author": "Mysterious_Swan_9941",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "We just implemented this ourselves in a different onetrust environment. How long ago did you make it active? In onetrust? When you did a preview with tag manager did the banner show when it the tags are live on the site? Sometimes onetrust has issues with other cookie banners and will different aspects to not show if they are not completely taken off the site. We used only tag manager to implement the scripts to our 15+ sites.",
                "author": "Ok-Establishment618",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1734516442.0,
        "title": "A tag read consent state before a default was set intermittent error. - GA4 form submission tag, using CookieYes CMP",
        "author": "ben_bgtDigital",
        "id": "1hgyiqe",
        "selftext": "Hi, I have a container that is using CookieYes CMP, and I get an intermittent error when the GA4 event tag for form submission fires. 'A tag read consent state before a default was set'As mentioned, this doesn't happen every time.  \n  \nCan anyone shed some light on this? Not sure if this is a CookieYes / CMP issue or something different. I took this container over with most of this in place, but can verify that the basics are set up just fine and mirroring other setups I've done.  \n  \nScreenshot link here: [https://loom.com/i/72e6c5df78d4414382535e2688e7a6cb](https://loom.com/i/72e6c5df78d4414382535e2688e7a6cb)  \nThanks",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1hgyiqe/a_tag_read_consent_state_before_a_default_was_set/",
        "num_comments": 3,
        "comments": [
            {
                "body": "Hello from CookieYes!\n\nWe’re happy to look into this for you. Could you please share the details with us?\n\nIt seems you’re already in touch with our support team. You can simply reply to the existing thread with the details, and we’ll work on resolving this for you right away.",
                "author": "cookieyesHQ",
                "score": 2
            },
            {
                "body": "Great, doing that now thanks",
                "author": "ben_bgtDigital",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1716050709.0,
        "title": "CMP for a SPA - Google Consent Mode v2",
        "author": "puk789",
        "id": "1cv1gt1",
        "selftext": "After multiple implementations of Consent Mode v2 via GTM (and having tried multiple different CMPs), I'm finding that it's quite a pain in the ass to work with SPAs (Single Page Apps).\n\nThe CMPs often don't send any data layer push when user chooses to change their consent after initially having accepted (e.g. for only a specific cookie category, not all), making it really difficult to update the consent in real time using GTM, and what's worse, potentially leading to non-compliance. \n\nOr, other CMPs don't work with SPAs in a sense that the Privacy trigger (the button with which user can change preferences that's meant to be visible at all times) disappears when navigating to a different page (again, hello non-compliance). And I'm not talking any CMPs here... but the big names like CookieBot or CookieScript.\n\nI have a skilled developer friend who has built his own cookie tool that can communicate the consent signals to Google on a regular website as well as SPAs and we're playing with an idea to build a simple CMP that would be easy to work with using GTM (would provide all the necessary data layer pushes, etc.) and would support not only regular pages, but also SPAs.\n\nWould there be anyone interested in helping us beta test when ready and potentially having a say in the tool's features? Or are y'all satisfied with the CMP(s) that you're using?",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1cv1gt1/cmp_for_a_spa_google_consent_mode_v2/",
        "num_comments": 11,
        "comments": [
            {
                "body": "I’d be interested. Though I have to ask, isn’t it possible to use JS to listen to the changes in consent and send them to the datalayer?",
                "author": "KalaBaZey",
                "score": 2
            },
            {
                "body": "I'm interested too",
                "author": "analyst_bappy",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Funny, me and my team have built exactly this recently and we have just made it publicly available.",
                "author": "Yallone",
                "score": 1
            },
            {
                "body": "In my experience, the popular CMP's always send a data layer event when consent is either established during page load (user previously granted / denied) or when a user makes any change to their consent.\n\nCookieBot, CookieYes, OneTrust CookiePro.\n\nDo you have an example where e.g. CookieBot is not sending the correct signal?",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "Yeah, you can listen to clicks based on e.g. classes, or do other similar workarounds, however, I wouldn't vouch for the reliability of this approach. I'll DM you more info about the testing tomorrow!",
                "author": "puk789",
                "score": 1
            },
            {
                "body": "great, sending you a DM! u/analyst_bappy",
                "author": "puk789",
                "score": 1
            },
            {
                "body": "For anyone interested: the link is [https://consent.studio](https://consent.studio)",
                "author": "Yallone",
                "score": 1
            },
            {
                "body": "u/DigitalStefan for example, I'm working on a SPA that's using InstantClick, which is interfering with the CookieBot's privacy trigger, which disappears on the next page load. Also, for some reason it doesn't emit the cookie\\_consent\\_update data layer pushes and I often need to do workarounds and my own listeners, which isn't a very reliable long-term setup.   \nAlso, CookieScript and some other CMPs that I've worked with don't work well with SPAs, only pushing the data into the data layer for all categories, but not when users accept/deny just some of them.",
                "author": "puk789",
                "score": 1
            },
            {
                "body": "I’ve not come across this behaviour at all. If you have any URLs you can share where there are problems I would like to dig a bit deeper into that.\n\nCookieBot certainly has not always been perfect but I’ve never had to fight with it in the way you describe.",
                "author": "DigitalStefan",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1711789811.0,
        "title": "CMP integration with GTM",
        "author": "danielpaulme",
        "id": "1brdjwg",
        "selftext": "I'm looking to integrate [CookieChimp](https://cookiechimp.com) (CMP) with GTM. The only way we have to trigger a consent change is based on a custom trigger event and mapping tags to fire based on that. Is this the best way to implement tags with consent management platforms? \n\nThis is the current implementation docs on setting up a custom event: [https://cookiechimp.com/docs/block-scripts-cookies/block-tags](https://cookiechimp.com/docs/block-scripts-cookies/block-tags) ",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1brdjwg/cmp_integration_with_gtm/",
        "num_comments": 6,
        "comments": [
            {
                "body": "There does not seem to be much documentation from Google side on how to do this. Without the custom trigger the consent only takes effect after a full page reload and no in the same page view action after consent. Is there a documentation on how to do the implementation correctly on Google that a CMP should implement?",
                "author": "danielpaulme",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Tge way you have followed is right.",
                "author": "analyst_bappy",
                "score": 1
            },
            {
                "body": "Yet another CMP with poor documentation!\n\nThey show Google Consent Mode intergration being included, but then they tell you not to fire your Google Tag until \"cookie\\_consent\\_update\".\n\nThat's not how Google designed Google Consent Mode to work. Unfortunately, I don't know enough about CookieChimp to say whether it will work properly if you implement tags and triggers the way Google intended.\n\nKnowing how to test and QA a consent management system is key.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "I don’t think Google document this because their responsibility is to say how Consent Mode should work, it’s the consent platform provider’s responsibility to say how their platform should work.\n\nThe classic “consent doesn’t update until the next page load” problem was solved years ago by the big name consent platforms. I’ve dealt with numerous of them and whilst some still have quirks, they have all honed in to a specific solution and way of operating that it is by now an effective standard.\n\nEdit: The real answer here is “pick a popular, well supported content platform”.\n\nThe big name platforms are not necessarily expensive. Except TrustArc. They are expensive and have recently made some errors in what they are telling their clients to do, so I can’t even argue they are providing excellent support.",
                "author": "DigitalStefan",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1710350374.0,
        "title": "Open source Consent Management Platform (CMP) compatible with Google Consent Mode v2 (GCMv2)?",
        "author": "vppromoter",
        "id": "1bdx21q",
        "selftext": "Hi, in recent past I have setup quote some CMPs with GTM and right now I'm facing a tricky case. Maybe you will help with your ideas or experience.   \nThere is a website with data flowing into GTM (Enhanced ecommerce, conversion events etc.) but there is no Cookie Consent Banner. If I would need to use compatible extension, I would need to remove current working extension and go through a lot of customization work which is not a solution at this point. Let's not consider it for this thread.  \n3rd party CMPs with free plans are also not in the radius. Let's not consider it.  \nBecause of that I'm thinking to implement 3rd party solution and then use Consent mode template inside GTM which can catch consent mode v2 states.  \nSo the missing part is a cookie consent banner which can generate calls to data layer with consent states.  \nDo we have something in open source space for this? From what I've checked, most of the solutions are really poor in functionality and/or outdated.  \nIt would be great to get your valuable input.  \n",
        "score": 6,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1bdx21q/open_source_consent_management_platform_cmp/",
        "num_comments": 5,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "I'm not aware of any that are completely open source, but I'm interested to follow this post if anyone does know of one.\n\nThe difficulty with open sourcing would be how does the cookie scanning work? It's one of the significant costs of running a CMP due to the traffic and computation involved. Looking up a cookie name for one page on a website isn't taxing. Looking up 100 cookie names across 10k pages on a site starts to become a significant resource usage.\n\nYou can't just have a cookie banner and not an accompanying page that lists all of the cookies, their category and their reason for existing.\n\nNot open source, but I have recently signed up for the absolute lowest tier service from OneTrust. It works just fine for what I need.",
                "author": "StefanAtWork",
                "score": 1
            },
            {
                "body": "I have built a CMP that is based on open-source and has all the back-end features required for geo-targeting, etc. Checkout the docs here: https://cookiechimp.com/docs/overview",
                "author": "danielpaulme",
                "score": 1
            },
            {
                "body": "You can try out [c15t.com](http://c15t.com) — it’s an open source CMP built with TypeScript, Node, and React. It supports Google Consent Mode v2 and lets you push consent states to the data layer via GTM. It’s still early days, but we’re working hard to bring it up to the level of the bigger players. Would love any feedback if you give it a spin!",
                "author": "aburnedchris",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1709123487.0,
        "title": "Consent mode (CMP) requirment in United Arab Emirates",
        "author": "ibraheemn73",
        "id": "1b24yr5",
        "selftext": "Hi All,\n\nI'm a newbie in the CMP user privacy topic, and I have a few questions that I couldn't find answers to on the internet:\n\n&#x200B;\n\n* Is activating Consent Mode recommended in UAE, or is this requirement specific to the EU GDPR regulations?\n* Are we anticipating a decline in revenue or reach following CMP implementation?\n* What is the deadline for enabling CMP on our client's website?\n* Is CMP applicable only to the specific Google products mentioned (Google AdSense, Ad Manager, or AdMob) in the following [article](https://support.google.com/adsense/answer/13554116?hl=en) ?\n\nThanks!",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1b24yr5/consent_mode_cmp_requirment_in_united_arab/",
        "num_comments": 4,
        "comments": [
            {
                "body": "It is required in the EU, but it will be better to implement it.",
                "author": "Brave_Mission_4682",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "What do you mean 'decline in revenue'? If you are selling stuff you will continue to sell stuff with a CMP installed. If you are generating/ collecting leads you will continue to do so with a CMP. A CMP impacts measurement by honoring people's consent choices. But your site will continue to work.",
                "author": "Humble_Elderberry_25",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1758281071.0,
        "title": "Banner cookiebot",
        "author": "elmahdi001",
        "id": "1nl0wth",
        "selftext": "I set up Cookiebot through GTM, but the problem I’m facing is that in the preview the cookie banner shows up, while when I enter the website directly nothing appears. Since I have a Shopify store that provides a native cookie banner, I thought that might be blocking Cookiebot from working, but even after disabling Shopify’s banner I still don’t see it. Can anyone help me with this?",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1nl0wth/banner_cookiebot/",
        "num_comments": 8,
        "comments": [
            {
                "body": "sounds like one of three things is happening in live but not in preview. either the banner is being suppressed because consent is already stored, the script is not actually loading on the live theme, or the load order is wrong so cookiebot never initializes.\n\ndo this quick check in order. open the site in an incognito window and on a different browser. if the banner appears there, you already had a consent cookie on your normal browser and preview was bypassing it. if it still does not appear, view source on the live site and search for your cookiebot id. if you do not see it, the tag is not shipping to production. make sure you published the gtm container and that the tag fires on all pages.\n\nnow fix load order. in gtm set the cookiebot tag to fire at consent initialization on all pages. do not use dom ready or page view for this one. only one banner should exist on the site, so remove shopify’s native banner completely and also remove any cookiebot snippet hard coded in the theme. keep just one copy via gtm.\n\ncheck domain and region settings. in your cookiebot account include every hostname the shop uses like root and www and any market subdomains. if you restricted the banner to specific regions it will not show outside them, so test from an eea or set it to show to all for a quick sanity check.\n\nrule out css or app conflicts. temporarily add a tiny inline test in the console like window.Cookiebot and press enter. if it returns undefined, the script never loaded. if it returns an object, the banner might be hidden. look for display none or a z index issue in your theme styles.\n\non shopify specifically, confirm you installed gtm on the live theme and not a draft. if you recently switched themes, re add the gtm snippet. also clear any theme cache by saving the theme once, then hard refresh.\n\ncommon combo that resolves this. cookiebot tag at consent initialization on all pages. only one banner on the site. include all hostnames in the cookiebot domain group. test in a totally clean session. if it still fails, share your site url and i can point to the exact blocker.",
                "author": "DigMundane5870",
                "score": 2
            },
            {
                "body": "I used GTM",
                "author": "elmahdi001",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Hey,  which cookiebot banner platform you used for setup cookiebot?\nDid you set it up correctly?",
                "author": "arif_emon",
                "score": 1
            },
            {
                "body": "Did you publish the GTM? And when you enter the website directly, before that did you delete the cookie?",
                "author": "Living-Big-1567",
                "score": 1
            },
            {
                "body": "Do you use Usercentrics Cookiebot CMP on Shopify using GTM?\n Did you configure the GTM on Shopify using Customer events - custom pixel feature?",
                "author": "svkmndl97",
                "score": 1
            },
            {
                "body": "This usually happens because cookiebot is either being blocked from loading on the live site or is being suppressed by another consent script. preview mode in GTM forces the tag to run, so it looks like it’s working — but on the live site something is preventing it from showing. here’s what you can check:\n\nfirst, make sure you actually published your GTM container after adding cookiebot. you’d be surprised how often people forget this step and only see it in preview.\n\nsecond, confirm that the cookiebot script is not firing conditionally. check your trigger if it’s set to “page path contains /something” it might not match your homepage or certain templates.\n\nthird, open the live site in an incognito window and look in the browser console (f12 → network tab). search for cookiebot resources (usually scripts from consent.cookiebot.com). if you don’t see them, GTM may not be firing or another script is blocking it.\n\nfinally, since you disabled shopify’s native banner, make sure there are no remnants left in theme.liquid or app embeds. native banners can override third-party ones or block them entirely until removed.\n\nif all else fails, you can manually inject cookiebot script into theme.liquid just to rule out a GTM trigger issue. if it shows up when hard-coded, you know the GTM tag configuration needs fixing.",
                "author": "AdhesivenessLow7173",
                "score": 1
            },
            {
                "body": "I ask for which cookiebot platform? Need to check your configuration.",
                "author": "arif_emon",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1752218256.0,
        "title": "Advanced Consent Mode Issue: Google Ads Tags Not Loading Without Accept",
        "author": "wardogfufu",
        "id": "1lx0imd",
        "selftext": "Hello,  \nI am currently using the CookieYes banner on two of my websites.\n\nGoogle Tag Manager (GTM) is installed, and the CookieYes banner is implemented via GTM using a Consent Initialization trigger.\n\nI have enabled Advanced Consent Mode, but I am facing issues:\n\n* When users do not interact with the banner, Google Ads tags do not fire.\n* Even when users reject marketing cookies, Google Ads tags still do not fire.\n* Tags are only firing after users accept marketing cookies.\n\nHowever, since I am using Advanced Consent Mode, Google Ads tags should still load in \"default\" mode (with limited functionality) even if consent is not given.\n\nAm I missing anything?  \nDo I need to change any settings in the CookieYes CMP, or apply any updates to GTM?",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1lx0imd/advanced_consent_mode_issue_google_ads_tags_not/",
        "num_comments": 18,
        "comments": [
            {
                "body": "u/wardogfufu by the looks of it, it seems like the auto blocking feature is causing issues. Have you tried turning it off?",
                "author": "puk789",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Check cookies auto blacking. https://www.cookieyes.com/documentation/implement-prior-consent-using-cookieyes/\n\nIn general this problem was generated by auto blocking CMP feature.",
                "author": "enrico-chiolo",
                "score": 1
            },
            {
                "body": "Hey OP, can you screenshot or list the exact reason for condition failure, i.e. what conditions aren't met according to your triggers at the point you expect the Tag to fire (window or container or DOM).",
                "author": "Tagnetica",
                "score": 1
            },
            {
                "body": "Cool, then I think you are good but are you sure the tag isn't sending any consentless or anonymised pings at all on fire?\nIf you check your browser dev tools, go to network tab and see if there is anything sent that contains \"ads\" or \"collect\" for example.\n\nIt doesn't help you in terms of reporting but it does supposedly help with modelling or conversion modelling for Ads/GA4.",
                "author": "Tagnetica",
                "score": 1
            },
            {
                "body": "Hi, tags will only fire if the **\"Allow Google tags to fire before consent\"** setting is enabled in the CookieYes web app. If you've turned it on and still face issues, reach out to us at [support@cookieyes.com]() and we’re happy to help troubleshoot.",
                "author": "cookieyesHQ",
                "score": 1
            },
            {
                "body": "Yep its disabled.",
                "author": "wardogfufu",
                "score": 1
            },
            {
                "body": "* Before accepting consent, the **Google Ads tag fires**, but **no data is sent** to Google Ads (verified via Omnibug).\n* After accepting consent, the same tag fires and **data is successfully sent** to Google Ads.",
                "author": "wardogfufu",
                "score": 1
            },
            {
                "body": "Nope it doesn't share cookie less pings even.\nNetwork tab shows no logs.",
                "author": "wardogfufu",
                "score": 1
            },
            {
                "body": "Hello,  \nYes, the \"Allow Google tags to fire before consent\" setting is enabled in CookieYes. We also reached out to [support@cookieyes.com](mailto:support@cookieyes.com), but unfortunately, we did not receive a satisfactory response.",
                "author": "wardogfufu",
                "score": 1
            },
            {
                "body": "So to confirm:\n\nIs it:\n\"When users do not interact with the banner, Google Ads tags do not fire..\"\n\nOr:\n\"Before accepting consent, the **Google Ads tag fires**, but **no data is sent** to Google Ads\"\n\nIf it's the latter, this would be expected behaviour for advanced consent mode which is the default consent behaviour unless you have taken steps to actively block tags\n\nIf it's the former, it's a trigger issue which is why I asked if you can confirm the trigger conditions are met.",
                "author": "Tagnetica",
                "score": 1
            },
            {
                "body": "Hi,  \nWe're sorry to hear you had that experience with us. \n\nCould you please share your support ticket number? We’ll prioritize this internally and get it checked right away. Appreciate you flagging this.",
                "author": "cookieyesHQ",
                "score": 1
            },
            {
                "body": "Hi, did you find the solution for it maybe? Facing the same problem.",
                "author": "Infamous_Chart",
                "score": 1
            },
            {
                "body": "Its the latter one.  \nAnd yes to confirm the triggers conditions are met fully.",
                "author": "wardogfufu",
                "score": 1
            },
            {
                "body": "No i did not :(",
                "author": "wardogfufu",
                "score": 1
            },
            {
                "body": "I am facing similar issues, i am using cookiebot, when i reject cookies, no hits are sent in Google ads, it does send G100 cookieless ping in GA4 tag, but nothing for Google ads.",
                "author": "Maegor_Cruel",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1757496438.0,
        "title": "Server Side GTM and OneTrust - Client to Server Side Handover Problem",
        "author": "These-Tea6804",
        "id": "1nd9hsf",
        "selftext": "I'm trying to set up server side tagging via GTM for our websites, for websites with Onetrust CMP I'm seeing a 70% or higher decrease in the below events in ga4 server side, vs client side.\n\n* session start\n* first\\_visit\n* page\\_view\n* user\\_engagement\n\n  \nWe're not using the OneTrust CMP template to set the defaults, the code is added directly to the sites. In the server side preview I'm seeing it take 20+ minutes to populate the Outgoing HTTP Requests from Server - before the its None and after its 'Unknown' (when gcs is 101). If all cookies accepted and gcs is 111 outgoing http requests from server is Post - 204.\n\nI have checked our set up against this article: [https://my.onetrust.com/s/article/UUID-d81787f6-685c-2262-36c3-5f1f3369e2a7](https://my.onetrust.com/s/article/UUID-d81787f6-685c-2262-36c3-5f1f3369e2a7) and it matches, testing shows dataLayer updates are correct too. \n\nIn the client side preview I'm seeing the dma\\_cps parameter is - but the gcs parameter (which also indicates consent) is g101 (analytics accepted only in this instance), I think this conflict is part of the problem.\n\nI've tried consent granted specific triggers in the server side, I'm using a OneTrustGroupsUpdated trigger in the client side, source, medium etc. are being sent from the client side and session ID and client ID are also successfully sent.\n\nClient side tags are respecting cookie choice, the problem seems to be in the handover between client side and server side.\n\nHas anyone seen this before? How do I resolve it?\n\nThanks in advance.",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1nd9hsf/server_side_gtm_and_onetrust_client_to_server/",
        "num_comments": 6,
        "comments": [
            {
                "body": "I use a systematic diagnostic approach for tracking issues, and your problem is a Layer 3: Transmission issue.\n\n**Layer 3** focuses on the data journey from client to server - when tags fire correctly but data fails to reach its destination. In your case, events are leaving the client but 70% never make it to GA4 through your server container. This layer specifically deals with network requests, consent handoffs, and the critical handshake between client and server containers.\n\nThe smoking gun in your description: OneTrust shows `gcs=g101` (analytics accepted) but server requests show \"Unknown\" for **20+ minutes**. This delay is the server container timing out waiting for valid consent signals that never arrive.\n\n## Diagnostic for Consent Transmission\n\nRun this to see exactly what's being sent to your server:\n\n```javascript\n// Check what consent signals are being transmitted\n(() => {\n  // Look for server container requests\n  const serverRequests = performance.getEntriesByType('resource')\n    .filter(r => r.name.includes('gtm-server') || r.name.includes('sgtm'));\n  \n  console.log('Server requests found:', serverRequests.length);\n  \n  // Check consent parameters in requests\n  serverRequests.forEach(req => {\n    const url = new URL(req.name);\n    const params = {\n      gcs: url.searchParams.get('gcs'),\n      consent: url.searchParams.get('consent'),\n      gdpr: url.searchParams.get('gdpr')\n    };\n    console.log('Request consent params:', params);\n  });\n  \n  // Check if OneTrust is sending updates\n  const consentEvents = dataLayer.filter(d => \n    d.event?.includes('consent') || \n    d.event?.includes('OneTrust')\n  );\n  \n  console.log('Consent events in dataLayer:', consentEvents.length);\n  return consentEvents;\n})();\n```\n\n## The Root Cause\n\nYour OneTrust CMP is updating consent in the browser but not forwarding it through the client-to-server transport layer. The server container receives requests but can't verify consent state, so it drops them. The article you referenced doesn't cover this specific handoff issue.\n\n## The Fix: Consent State Bridge\n\nYou need an explicit consent forwarding mechanism:\n\n### Client-Side: Capture and Forward OneTrust State\n\nAdd this as a Custom HTML tag in your CLIENT container, triggered on \"OneTrustGroupsUpdated\":\n\n```javascript\n// Add to GTM Custom HTML tag - fires on OneTrustGroupsUpdated\n(function() {\n  // Capture OneTrust consent decision\n  const consentGroups = OneTrust.GetDomainData().Groups;\n  \n  // Map to Google consent types (adjust group IDs to match your OneTrust setup)\n  const consentMap = {\n    'C0002': 'analytics_storage',  // Performance cookies\n    'C0004': 'ad_storage',         // Targeting cookies\n    'C0003': 'ad_user_data',       // User data\n    'C0004': 'ad_personalization'  // Personalization\n  };\n  \n  // Build consent state for server\n  const serverConsent = {};\n  consentGroups.forEach(group => {\n    if (consentMap[group.CustomGroupId]) {\n      serverConsent[consentMap[group.CustomGroupId]] = \n        group.Status === 'active' ? 'granted' : 'denied';\n    }\n  });\n  \n  // Push with server transmission flag\n  dataLayer.push({\n    'event': 'consent_state_sync',\n    'consent_for_server': serverConsent,\n    'timestamp': Date.now()\n  });\n  \n  console.log('Consent forwarded to server:', serverConsent);\n})();\n```\n\n### Server-Side: Receive and Apply Consent\n\nIn your SERVER container:\n1. Create a trigger for the `consent_state_sync` event\n2. Create a tag that reads `consent_for_server` and updates consent\n3. Set this tag's priority higher than your GA4 tags\n\n## Why 70% Loss?\n\n- **30% getting through**: Users who accept all cookies immediately (gcs=g111)\n- **70% lost**: Users with partial consent (gcs=g101) where the handoff fails\n\nThe 20+ minute delay is the server container timeout - it's waiting for consent confirmation that never arrives through the standard OneTrust integration.\n\n## Validation\n\nAfter implementing, you should see:\n- Server-side events matching client-side (minus bot filtering)\n- No more 20-minute delays\n- Consistent gcs parameters between client and server\n- \"Post - 204\" responses instead of \"Unknown\"\n\nThis is a known limitation of OneTrust's standard server-side documentation - they don't properly address the consent state bridge requirement for partial consent scenarios.",
                "author": "vscodr",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "How is your serverside setup? Are you routing via client side GA events?",
                "author": "gnaiz",
                "score": 1
            },
            {
                "body": "Yes, we're routing via client side GA4 events, we're also using AWS, not GCP.",
                "author": "These-Tea6804",
                "score": 1
            },
            {
                "body": "When you debug and send client side event through. Are you seeing 100% reconcile?  I would consider debugging by spinning up another instance to send to from client side onlt and then check your match gaps to see if it can be identified as a pattern",
                "author": "gnaiz",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1751005567.0,
        "title": "Any way to overwrite the 7 days lifespan of cookies in Safari on client side?",
        "author": "Nice_Pen_8054",
        "id": "1llmvbx",
        "selftext": "Hello,\n\nIs there any way to overwrite the 7 days lifespan of cookies in Safari on client side?\n\nThanks.",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1llmvbx/any_way_to_overwrite_the_7_days_lifespan_of/",
        "num_comments": 12,
        "comments": [
            {
                "body": "Have you tried Google Tag Manager Server Side and Stape Cookie Extender? [https://github.com/stape-io/cookie-extender-tag](https://github.com/stape-io/cookie-extender-tag)\n\nThere might be a solution there.",
                "author": "enrico-chiolo",
                "score": 2
            },
            {
                "body": "Pointless to even try it. We (colleague of mine, not me directly) did some experiments with server-side to extend cookie lifetimes. It worked, but it's a huge thing and ultimately it's an arms race that can never be won. Doesn't matter what strategy yuo try, Apple has the ultimate upper hand at all times.\n\nTrying to achieve it solely client side is going to be less effective.\n\nPlaying the game against Apple will just result in wide swings in your collected data as you sidestep and then Apple counters.\n\nJust do all the things you're supposed to do like implement 1st-party data on the platforms you're collecting data for and, if you are able, implement first-party mode with server-side GTM. Then revisit your UTM strategy so that youre reliance on gclid, fbclid and other click identifiers is reduced to minimum.",
                "author": "DigitalStefan",
                "score": 2
            },
            {
                "body": "Too many issues with Shopify + cookie extender in CMP setups. ",
                "author": "Affectionate_Fee_605",
                "score": 2
            },
            {
                "body": "u/Affectionate_Fee_605 Try reaching out to Stape directly. They’ve generally been very open to feedback and eager to improve their product.",
                "author": "enrico-chiolo",
                "score": 2
            },
            {
                "body": "So did ours, but at some point nobody can predict, it won’t.\n\nIt’s also of dubious legality.",
                "author": "DigitalStefan",
                "score": 2
            },
            {
                "body": "Ok, we need to follow what will happend in the future.\nThat's not a reason to give minus on my message.\n\nBy the way are you developer?\n\nI see you wrote \"colleague of mine\" did something.\n\nAlso you wrote \"it worked\" past tense...",
                "author": "Programer_Marktech",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "You can, but not with JS-set cookies. Apple's ITP spec simply won't allow it.",
                "author": "spiteful-vengeance",
                "score": 1
            },
            {
                "body": "I left that company in March. Hence past tense.\n\nI do a little dev work.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "Can you explain how you and your colleague did it?",
                "author": "Programer_Marktech",
                "score": 1
            },
            {
                "body": "probably not, at this point. It was done quite a long time ago and I never revisited it. It was explored as a project for a specific client, but with a view that it had potential to have a wider roll-out, essentially a product that could be sold.\n\nThe gist was to send the content of potentially affected cookies to sGTM and then essentially remember them and restore them back in the browser if they were overwritten (by e.g. Apple ITP).\n\nIt was a \"simple\" task that required some complexity to achieve. I wasn't wholly on board with it because of the ultimate futility. Apple (or privacy browsers, extensions etc) could still figure out how to thwart it.\n\nThe fact that it was never productised spoke volumes, in my mind.\n\nThen Facebook just developed their own option and unearthed it with an innocuous \"extend cookie lifetimes\" tickbox.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "Sorry but I do not agree.\nI ve built inhouse solution and it's working fine.",
                "author": "Programer_Marktech",
                "score": 0
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1734571003.0,
        "title": "Do you re-fire a GA4 pageview tag after consent is granted?",
        "author": "tresslessone",
        "id": "1hhh7jh",
        "selftext": "**Edit:** thanks all. Found the answer (as always) on Simo Ahava's blog: [https://www.simoahava.com/analytics/consent-mode-v2-google-tags/](https://www.simoahava.com/analytics/consent-mode-v2-google-tags/)\n\n>If consent is *granted*, then any hits collected on the same page while consent was *denied* will get automatically **reprocessed** to have the granted status.\n\nHi all,\n\nI have a client with an on-page hardcoded gtag.js implementation of GA4. Since they have a global audience including EU, I have implemented a consent management platform (CookieBot) through Google Tag Manager. This seems to work in that all GA4 hits are fired in consent mode until the user provides consent. However, because all hits before consent approval are fired in consent mode, we end up without a starting page\\_view event on the original landing page, which can screw with source attribution if there's UTM tags etc present.\n\nSo I guess the question I have, is whether it is a good idea to re-fire the GA4 pageview tag through GTM after consent is granted? Or does the gtag consent update call already make sure that previous hits in the same session are re-processed without consent mode?\n\nThe complication I have, is that GA4 is installed on-page using gtag.js, whereas the CMP is installed through Google Tag Manager. So just blanket firing the pageview tag on the cookie\\_consent\\_update datalayer event will result in duplicates in cases where people have already provided consent.\n\nWhat would be a good solution here?",
        "score": 4,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1hhh7jh/do_you_refire_a_ga4_pageview_tag_after_consent_is/",
        "num_comments": 30,
        "comments": [
            {
                "body": "You shouldn't be missing your starting page\\_view event *if* Google Consent Mode is in place. You say \"GA4 hits are fired in consent mode\", so I'm assuming there's a GA4 page\\_view hit with the gcs parameter = G100\n\nYou 100% do not need to retrigger a page\\_view after the user grants consent as long as there is a proper update of Google Consent Mode state to \"granted\"\n\nYou *should* see perhaps a user\\_engagement event at the moment when the user navigates to a new page. That user\\_engagement event should have a gcs parameter = G111 (assuming the user granted full consent).\n\nGA4 backtracks from there to understand \"hey, this user consented. That previous page\\_view event is therefore consented\"\n\nEDIT: Have a look at the GA4 network events when you land and grant consent on [https://www.britishlegion.org.uk/](https://www.britishlegion.org.uk/)\n\nTheir site is a good example of a \"proper\" flow of GA4 events in a Google Consent Mode environment.\n\nBonus: They also use CookieBot.\n\nThis was the first ever consent management project I completed for a client.",
                "author": "StefanAtWork",
                "score": 5
            },
            {
                "body": "Can you remove the hard coded gtag and implement via gtm? Or hard code the cookie bot so gtm doesn’t fire until consent is given? \n\nI’m no expert on consent mode but usually our clients implement in one of those two ways above.",
                "author": "turbopenguin",
                "score": 2
            },
            {
                "body": "Advanced Google Consent Mode makes this not always true. It also makes it much more complicated to understand and validate a working implementation.",
                "author": "StefanAtWork",
                "score": 2
            },
            {
                "body": "Yep, that’s what I mentioned 😉Good to hear it’s fixed 🙂",
                "author": "Pretty-Appearance226",
                "score": 2
            },
            {
                "body": "Some user data can still be sent along with cookieless pings, such as user\\_id, which could be argued is PII. So some companies may still choose to block tags from firing until consent is given.",
                "author": "Etianen7",
                "score": 2
            },
            {
                "body": "Just checked, but the tags fired before the banner interaction keep the G100 value in the network tab and in the gtm debug view. I remember Simo checked this with bigQuery. Just make sure that your page does not reload on banner interaction to prevent duplicates. Also check in GTM preview mode under the consent tab that the moment the Consent update event fires, the On-page update shows granted (if you consent of course)to all categories and you should be fine!",
                "author": "Pretty-Appearance226",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "With advanced consent mode all Google tags are allowed to fire at all times. If consent is given at the same pages; this will retroactively grant consent to all tags that have been fired. However, if a user comes in via a landing page, ignores the cookie banner and than goed to the next page and accepts consent then. Than the first pages does count as a consent declined. So make sure your banner can’t get ignored.\n\nDon’t refresh the page on cookie consent or sent another page view, you will get duplicates.\n\nBut as mentioned above, add the Google config trough GTM instead of hardcoded.\n\n\nBTW, if the default consent state and the update comes from GTM, than you should check carefully whether GTM is loaded before the Google Tag fires.\n\nIn my opinion, use hardcoded CMP and use GA4 config within GTM. If a user has a ad blocker for example, it might block the GTM tracking script which will result in no cookie banner shown if it’s fired trough GTM. And if you’re fully compliant, which almost nobody is, without consent you couldn’t even load like a YouTube vid for example on your website because they automatically set cookies.",
                "author": "Pretty-Appearance226",
                "score": 1
            },
            {
                "body": "Does the gtag send data like a page view, or is that GTM?",
                "author": "Pretty-Appearance226",
                "score": 1
            },
            {
                "body": "So, if a gtag send everything anyway. How would GTM help you than? Every thing you would set up will create duplicates. They must have a solution for this, did you reach out to them?",
                "author": "Pretty-Appearance226",
                "score": 1
            },
            {
                "body": "Are you not able to put any kind of script in the header. How did they get Gtag in the header and how did they get the GTM script in the header. They just need very little adjustments so that everything would work as it should.",
                "author": "Pretty-Appearance226",
                "score": 1
            },
            {
                "body": "You’re stating that consent mode works by the way. If you go to tag manager preview mode. Is consent set to denied before the gtag script triggers the event? If so, and the user interact with the banner, does it show the update statement? As mentioned earlier, with advanced consent mode, all Google tags will still get assigned the consent accepted status if the interaction with the banner is on the same page.",
                "author": "Pretty-Appearance226",
                "score": 1
            },
            {
                "body": "Yeah that’s pretty much how it goes. It does seem like as long as you don’t rename the datalayer, gtag.js and gtm are able to share consent signals.",
                "author": "tresslessone",
                "score": 1
            },
            {
                "body": "Yeah why not just fire the gtag once consent has been provided?",
                "author": "scotty_ducati",
                "score": 1
            },
            {
                "body": "I wish, but it’s a third-party platform and whilst GTM is provided, the hard-coded GA integration provides a lot more data. The datalayer is pretty scant, so it’s not really an option.\n\nHard coding cookiebot also won’t be possible as a result I’m afraid. It’s a bit of a Frankenstein approach but it’s what we got 😢",
                "author": "tresslessone",
                "score": 1
            },
            {
                "body": "I’d like to but this is a third party platform and we don’t have the option to take out gtag, as the GTM integration provides a lot less data than the gtag integration. Shitty but it’s what we’re stuck with.",
                "author": "tresslessone",
                "score": 1
            },
            {
                "body": "Update: found the answer (as always) on Simo Ahava's blog: [https://www.simoahava.com/analytics/consent-mode-v2-google-tags/](https://www.simoahava.com/analytics/consent-mode-v2-google-tags/)\n\n>If consent is *granted*, then any hits collected on the same page while consent was *denied* will get automatically **reprocessed** to have the granted status.",
                "author": "tresslessone",
                "score": 1
            },
            {
                "body": "Yea this is an important point. A popup that forces the user to make a decision is much better than a banner that can easily be ignored",
                "author": "turbopenguin",
                "score": 1
            },
            {
                "body": "gtag. Unfortunately we are stuck with a hybrid solution because it’s on a third-party platform. Their GA4 gtag solution is complete, but the datalayer on GTM is quite bare bones, so yeah… GA4 through gtag, CMP through GTM.",
                "author": "tresslessone",
                "score": 1
            },
            {
                "body": "GTM is literally only there so that I can run the consent management platform at the moment, but in the future will be used for other pixels such as FB. Luckily the gtag and GTM use the same datalayer, so the CMP is able to communicate with the gtag setup.\n\nNote that I found the answer to my problem (as always) on Simo Ahava's blog: [https://www.simoahava.com/analytics/consent-mode-v2-google-tags/](https://www.simoahava.com/analytics/consent-mode-v2-google-tags/)\n\n>If consent is *granted*, then any hits collected on the same page while consent was *denied* will get automatically **reprocessed** to have the granted status.",
                "author": "tresslessone",
                "score": 1
            },
            {
                "body": "Yes, consent mode works. The tags fire but they are in consent mode (G100). Only the tags that fire after cookie acceptance fire in 'full' mode (G111).",
                "author": "tresslessone",
                "score": 1
            },
            {
                "body": "Update: found the answer (as always) on Simo Ahava's blog: [https://www.simoahava.com/analytics/consent-mode-v2-google-tags/](https://www.simoahava.com/analytics/consent-mode-v2-google-tags/)\n\n>If consent is *granted*, then any hits collected on the same page while consent was *denied* will get automatically **reprocessed** to have the granted status.",
                "author": "tresslessone",
                "score": 1
            },
            {
                "body": "All Google tags may be fire at any time as long as default consent is set to declined. If you don’t fire your Google tags prior consent you will never benefit from the moddeling features. It will use cookieless pings to fill in the gaps.",
                "author": "Pretty-Appearance226",
                "score": 1
            },
            {
                "body": "But as far as I can see in the Preview mode, my GA4 Google Tag doesn't get fired again after I update the consent. It fired before but at that time I had \"denied\" for all consents. Then I updated and there is not GA4 Google Tag at the top (Initialization event). \n\nDid you solve this somehow? Is it working for you?",
                "author": "MapeSVK",
                "score": 1
            },
            {
                "body": "In that case, if consent update is on the same page, as the landing page. Google will still set them to G111. I’m at work in about an hour, I’ll test if it applies G111 to the tags with the debugger or not, I don’t remember that. But, if it works like you described it should retroactivly set them to G111, I’ll have a check if it shows in tag manager. If it does with my inplementation than you would probably still have to adjust something in GTM to make it work. I’ll get back to you in 1-2 hours.",
                "author": "Pretty-Appearance226",
                "score": 1
            },
            {
                "body": "Thanks!\n\nNote that Simo Ahava is pretty clear on this: [https://www.simoahava.com/analytics/consent-mode-v2-google-tags/](https://www.simoahava.com/analytics/consent-mode-v2-google-tags/)\n\n>If consent is *granted*, then any hits collected on the same page while consent was *denied* will get automatically **reprocessed** to have the granted status.\n\nWill be good to get this tested though, so please do get back to me. I'm currently using GA debugger and it doesn't allow me to inspect retroactive changes like this. Not even sure the GTM debugger will do this, but worth checking.",
                "author": "tresslessone",
                "score": 1
            },
            {
                "body": "Thanks. Yeah I guess I could look in BQ once we get some data but I pretty much take Simo’s word for gospel in this space.\n\nI think all is well in my client’s setup but I’ll monitor for any weirdness in attribution and / or (not set) landing page instances.",
                "author": "tresslessone",
                "score": 1
            },
            {
                "body": "What Simo says is a 100% correct for sure, no doubt. He’s a legend haha. But because you’re not having the usual setup it’s always good to check. If you have bigQuery connected you can test it yourself which is also documented in Simo’s article!",
                "author": "Pretty-Appearance226",
                "score": 1
            },
            {
                "body": "Yeah we have a BQ setup so I’ll have a poke around there",
                "author": "tresslessone",
                "score": 1
            },
            {
                "body": "EU regions usually has GDPR rules and we cannot fire any tags without user consent. So it's better to fire the tag only after user approve cookies.",
                "author": "zenrayman",
                "score": 0
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1747475025.0,
        "title": "Problem with tag too low",
        "author": "Then-Strike9205",
        "id": "1kop6ks",
        "selftext": "After installing CookieYes I now have an “urgent” warning in GTM that my tag is too low. I’m sure it has to do with CookieYes, but is there a way to fix this? Will this reduce my sessions and if the tag is higher will my site no longer be GDPR compliant? Thanks in advance ",
        "score": 5,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1kop6ks/problem_with_tag_too_low/",
        "num_comments": 11,
        "comments": [
            {
                "body": "I would not install both codes separately but rather install CookieYes via GTM. In that case GTM would practically fire first and a default consent (wich you set) is given. \nFind more [here](https://www.cookieyes.com/documentation/getting-started-with-google-tag-manager-and-cookieyes/#How_to_ins_0)",
                "author": "globelol",
                "score": 5
            },
            {
                "body": "A clean install via GTM will fix the problem.\nIt also allows you to have better control over consent and signals.",
                "author": "Chemouel_Dgx",
                "score": 3
            },
            {
                "body": "Hey! The “tag too low” warning in GTM means the CookieYes tag isn’t firing early enough to manage consent.\n\nHere’s how to fix it:\n\n* Ensure that the CookieYes tag is set to trigger **Consent Initialization – All Pages**  \n* Then, check your tag order. CookieYes should fire **before** any other tags.\n\nThis won’t reduce your sessions; in fact, it boosts GDPR compliance by making sure consent is handled before tracking kicks in.\n\nIf you still need help, you can write to [CookieYes GCM Support](https://www.cookieyes.com/gcm-support-center/). Hope this helps!",
                "author": "cookieyesHQ",
                "score": 2
            },
            {
                "body": "Hey, really sorry to hear that. Just wanted to check in and see if things are resolved now. If not, feel free to DM me your CookieYes support ticket, and we’ll make sure someone follows up ASAP to help you get this sorted.",
                "author": "cookieyesHQ",
                "score": 2
            },
            {
                "body": "Glad to hear the issue is fixed!",
                "author": "cookieyesHQ",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Thanks for the help!",
                "author": "Then-Strike9205",
                "score": 1
            },
            {
                "body": "Thanks. I’ve been working with a member of your support team and my host BigScoots to try to get this fixed. Without the sessions being tracked properly I’m practically at square one all over again. It’s stressful.",
                "author": "Then-Strike9205",
                "score": 1
            },
            {
                "body": "I believe the problem is now fixed. Thanks for the follow-up. Now it’s just a matter of waiting for my sessions to start going back up. I suspect it will take months.",
                "author": "Then-Strike9205",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1748501067.0,
        "title": "Re-evaluated Ketch after 2 years... oh boy",
        "author": "DigitalStefan",
        "id": "1ky40mi",
        "selftext": "I was recently invited to evaluate Ketch, which positions itself as a competitor to OneTrust as a CMP.\n\nThe tl;dr is it is still not in a state where I would recommend it to a client. It's not that it doesn't work or it doesn't have some good features, it is because it still has a poor GTM integration.\n\nThe premise is actually good. You have the option (and it seems like a default \"do it this way\") to directly link a GTM container to the Ketch service and it will automatically manage your tags for consent.\n\nWhere it falls down is when you want to do the \"advanced\" GTM implementation, because the guidance for dealing with 3rd-party tags (Facebook etc) is to use a trigger group based on page view and a specific data layer event emitted by Ketch.\n\nWhy a trigger group? That's because Ketch haven't solved the problem that practically every other CMP has solved, which is to provide a data layer event that can be used as a direct replacement for an All Pages trigger, but it fires after consent is established and also after Google Consent Mode has updated its state. Effectively, Ketch is advising to use a non-optimal and fairly old fashioned method to control consent for 3rd-party tags.\n\nIf you've used GTM for any length of time, you have probably used a trigger group. If you've tried to use a trigger group for anything interesting, you'll have discovered that it has a major limitation of a trigger group never being re-evaluated, meaning if any part of the group fails to fire you have zero opportunity for the group to fire until the next page load, no matter what events occur. Trigger groups are not an \"and\" condiion for triggers!\n\nThe other major failing is there is no native tag template for the main Ketch script. There's a required tag template to manage Google Consent Mode integration... there's a version in the community gallery, but it's not the same version as the one they want you to download and then import.\n\nYou can do a Custom HTML tag with the Ketch script, but this is not great in terms of timing.\n\nSo... sadly, the recommendations are still CookieBot, CookieYes, Enzuzo, UserCentrics and OneTrust, depending on features and budget.",
        "score": 4,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1ky40mi/reevaluated_ketch_after_2_years_oh_boy/",
        "num_comments": 9,
        "comments": [
            {
                "body": "That’s an interesting idea. \n\nI know a GTM template can use `addConsentListener` but I didn’t think there was a way to do that from outside the ecosystem.\n\nI’m struggling to find anything bout it. Do you have any links please?\n\nEdit: or maybe you meant as a callback from the OneTrust consent update? I believe they do have event listeners you can bind.",
                "author": "iamfuzzydunlop",
                "score": 2
            },
            {
                "body": "Yes. I have full access to change the site push code. That’s no problem. I’m end to end here, so can make any changes necessary to try to get this stuff easier to maintain and understand.",
                "author": "iamfuzzydunlop",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "What approach are you using for OneTrust? My experience is that their events tend to be late enough that I still need to use a trigger group for something like a purchase to ensure that the consent update has arrived.",
                "author": "iamfuzzydunlop",
                "score": 1
            },
            {
                "body": "It depends on how you are recording a purchase event. If you’re doing it based on a page view, the easy answer is to use the OneTrustGroupsUodated event, which is guaranteed to be immediately after consent is updated (including Google Consent Mode).\n\nIf you have a plugin or a hand coded “purchase” event, the plugin providing that event should be smart enough to understand consent or if you have your own purchase event from your dev resource, they should make sure the event fires at the right time so you don’t have to worry about it.\n\nBut… if you really have no control over the timing, your example is actually one that fits the use case of a trigger group so long as one of the triggers in the group is guaranteed to fire late enough that consent is established, but early enough that you’re not losing the data due to user quickly navigating away from the page.\n\nA trigger group can work in that instance because you don’t want to measure more than one event on that page.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "I have e-commerce events that are pushed into the datalayer in the source of the page. \n\nWhile it’s possible to delay them, you can’t reliably be sure they are going to come after OneTrustGroupsUpdated because the OneTrust loading is asynchronous. \n\nI’ve always felt that the real solution is for Google consent mode to be cleverer. If it held back the tags that don’t meet consent until a consent update call, everything would be trivial.\n\nI’d really love to lose the trigger groups as they cause so much pain when trying to get event deduplication working for server side.",
                "author": "iamfuzzydunlop",
                "score": 1
            },
            {
                "body": "If you need to have a data layer event fire after a consent update, you can run the code for the DL push as a callback from the update.\n\nThis is actually the one thing I haven’t done myself, so I’m going to have a crack it it over the next week and write up a how to.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "This would be an actual amend to the on-site code responsible for the DL event push.\n\nThis is where that kind of thing *should* be.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "I had to poke around in the OneTrust API today and rediscovered the facility to put code inside an OptanonWrapper() function on site.\n\nI need to test it (which may take a while... I have a busy few days ahead), but in theory placing code to generate your purchase event data layer push inside OptanonWrapper() should mean that code runs after consent is established.\n\nI'm sure there are other ways to achieve it, but that seems the more straightforward.",
                "author": "DigitalStefan",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1748699589.0,
        "title": "Google Tracking has stopped working - is consent being denied?",
        "author": "Andkeep100",
        "id": "1kzxmtj",
        "selftext": "Hi. So we've got an issue where Google Ads and GA4 has stopped tracking conversions. We have a custom pixel doing the work from Shopify set up by the team at [fueled.io](http://fueled.io) . It's worked fine for a couple of years until the last 5 days. Can anyone tell me if the output below from the Google Tag Assistant would suggest why the tracking is failing i.e. wait\\_for\\_update being set to Denied?\n\nThank you :-)\n\n|Type|On-page default|On-page update|\n|:-|:-|:-|\n|ad\\_storage|Granted|Granted|\n|analytics\\_storage|Granted|Granted|\n|ad\\_user\\_data|\\-|\\-|\n|ad\\_personalization|\\-|\\-|\n|wait\\_for\\_update|\\-|Denied|\n\n  \n",
        "score": 5,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1kzxmtj/google_tracking_has_stopped_working_is_consent/",
        "num_comments": 7,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "You need to transition over to the new Shopify checkout events.",
                "author": "FigSpecific6210",
                "score": 1
            },
            {
                "body": "You are missing important consents. Since the consent signals are incomplete, you no longer see your conversions increase. Normal. I have this case with many clients.",
                "author": "Chemouel_Dgx",
                "score": 1
            },
            {
                "body": "u/Andkeep100 this table looks weird :D wait\\_for\\_update is a numeric parameter, it definitely shouldn't be 'Denied'... also, your default and update commands are apparently incomplete, which can definitely cause issues... not to mention the on-page default should be denied, if you have visitors from EEA countries... You can read more on best practices setting up Consent Mode with Shopify's Custom Pixels & GTM [in this article I wrote](https://karolkrajcir.com/post/ga4-consent-based-conversion-tracking-on-shopify-with-custom-pixels-cookifi-gtm).",
                "author": "puk789",
                "score": 1
            },
            {
                "body": "Thanks - where do I set this?",
                "author": "Andkeep100",
                "score": 1
            },
            {
                "body": "There is a decent explanation here: https://stape.io/news/shopify-checkout-extensibility-upgrade",
                "author": "Amazing_Cod6382",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1748778751.0,
        "title": "Session Cookies & Google Consent Issue",
        "author": "ReadingMaleficent121",
        "id": "1l0n3sg",
        "selftext": "I have setup Cookiebot with GTM and it is working fine and updating the consent with no issues. However, when someone adds a product to their cart and it takes them to the cart page, the cart is then empty. It seems as though the consent initialisation is loading before the default consent or not remembering prior consent. Any help appreciated",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1l0n3sg/session_cookies_google_consent_issue/",
        "num_comments": 7,
        "comments": [
            {
                "body": "Do you mean that the user's actual shopping cart on the site is empty because the cookie that holds the items in it is being blocked on page load?\n\nI'm not sure about your region, but I would expect that a shopping cart cookie would be considered strictly necessary, and wouldn't require you to ask for permission or allow users to opt out. \n\nOr, even if you have to allow opt outs for it, could you set the consent default for functionality_storage to allowed, so it only gets blocked once consent settings are checked?\n\nIf you're talking about an ecommerce tracking issue, it's not possible to answer without seeing your site. Make sure that you've set everything up exactly as the documentation says.",
                "author": "winless",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Could you share your website url?",
                "author": "zombiekop",
                "score": 1
            },
            {
                "body": "u/ReadingMaleficent121 have you checked all cookies detected by CookieBot? Verify the specific checkout/cart cookie hasn't been incorrectly classified as 'marketing' or 'analytics'.",
                "author": "puk789",
                "score": 1
            },
            {
                "body": "Perhaps the problem is resolved with another CMP. Try Axeptio, OneTrust, Consent Studio or others too, I'd say.",
                "author": "Yallone",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1749210181.0,
        "title": "Microsoft Bing Stopped Tracking Conversions, UET or Cookie Issue?",
        "author": "Different-Goose-8367",
        "id": "1l4qaqp",
        "selftext": "I've been through a few posts on here and tried to apply the solutions but I cannot get my tracking issue fixed.\n\nBing used to track fine up until the end of 28th May, when tracking stopped working.  Events are still being recorded, but the data is not being passed back to the Bing dashboard. Going off what I've read, this is down to recent changes in the EEC now requiring ad\\_storage granted before allowing any tracking.\n\nI've used the UET tag helper in Chrome with no luck, so I reverted to using the dev tools.  \n\nOn page load asc=d, I click allow all cookies, a ping fires and asc=g.  I go to another page and asc=d appears.  It's like the cookie is not being read by Bing, only the click is registered, but then forgotten on the next page.\n\nCan anyone offer any insight??\n\n",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1l4qaqp/microsoft_bing_stopped_tracking_conversions_uet/",
        "num_comments": 6,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "You have to send the positive consent signal on every page. If you have Google Consent Mode set up already, the native Microsoft UET tag does include an option to integrate with that.\n\nWhat trigger are you using for the tag?",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "The trigger is set to all pages and the two experimental settings below are ticked;\n\nEnable consent updates from GTM \nInherit initial consent from GTM",
                "author": "Different-Goose-8367",
                "score": 1
            },
            {
                "body": "Do you have a CMP / Cookie Banner implemented (and which one, if so)?",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "I use Tag Concierge Consent Mode Banner in GTM",
                "author": "Different-Goose-8367",
                "score": 1
            },
            {
                "body": "It doesn’t work with al consent managers, for ours it didn’t. Follow this guide and you’ll be set up in a couple of minutes. You’ll just need a template to send Microsoft ads the consent signal! https://www.analyticsmania.com/post/microsoft-consent-mode/",
                "author": "Pretty-Appearance226",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1737654684.0,
        "title": "GA4 not recording page_view",
        "author": "popLand72",
        "id": "1i89atx",
        "selftext": "In my \"real time pages\" report i have a list of pages that have active users but no pageviews  \nalso in my real time report i see \"people on the map\" i see custom events that i send, but very often no page view  \nI'm implementing GA4 via GTM, i \"manually\" send page\\_view events to GA4 (i send a lot more events manually to GA4 that looks they go in correctly)  \nif i preview the GTM (even in incognito mode to start from a blank consent) the page\\_view event is correctly fired and recorded by GA4, also if i navigate the published site  \nIt looks like my page\\_view are going correctly to ga4, but most of the other users page\\_view are not fired\n\nI'm using consent mode and integrated consent control, and everything looks correct  \ncontextually to GA4 page\\_view event i send a page\\_view evento to a Matomo instance too, and it looks like the Matomo one is arriving correctly, so it seems that GTM send the page view witht the user but without the effective view\n\nTo be complete, i fire the page view \"on history change\" and i disabled the page\\_view event from the TAG configuration which is fired once on \"Initialization - All pages\"\n\nalso the GTM receive an event ad\\_impression that automatically forward to GA4, but since few days GA4 is no longer receiving it",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1i89atx/ga4_not_recording_page_view/",
        "num_comments": 19,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Do you see your page view event firing in the GTM debugger? And did you also check the GA4 debugger? If it’s working as expected if you’re navigating trough your website then it should for others to, except if you didn’t publish your container.",
                "author": "Pretty-Appearance226",
                "score": 1
            },
            {
                "body": "If it’s due to consent being declined then the other events wouldn’t show either. Are you using a cookie consent platform? If you’re missing over 50% due to consent declined than that would be a lot. Make sure they can’t avoid your banner. So, not like one of those banners that’s like 2 cm high and on the bottom of the screen 😜\n\nBy the way. How long ago did you publish the container?",
                "author": "Pretty-Appearance226",
                "score": 1
            },
            {
                "body": "What is your reporting identity in ga4? Do you also fire ga4 page_view event on gtm incialization? Because history change is not fired on the first page of Single page application.",
                "author": "Quirky-Cookie-8931",
                "score": 1
            },
            {
                "body": "If users haven't given consent, GA4 might not track page views properly. Check if the consent signals (like ad\\_storage and analytics\\_storage) are set correctly.  \n  \nAlso, since you're firing page views on \"history change,\" make sure the default page view tag in GTM is enabled, as it could be affecting how data is tracked.  \n  \nFor the ad\\_impression event issue, check if anything changed recently in your GTM or GA4 setup that could be blocking it.  \n  \nIf things keep getting tricky, I’d recommend trying Qwestify. It's much easier to use and gives more accurate results compared to GA4.",
                "author": "the-fire-in-me",
                "score": 1
            },
            {
                "body": "Yes, it fires in debugger, yes im tracked in GA4 debugger, with all the events i send  \nAlso i'm tracked on \"live\" since the container is published  \nI guess that at least 50% of the traffic is not tracked by GA4 due to browser privacy and third party cookies blocking (in fact i can track custom events but page\\_view is probably blocked due to browser)  \nMy traffic (in debug and live) is probably coming because i accepted all the privacy and allow all cookies and everything",
                "author": "popLand72",
                "score": 1
            },
            {
                "body": "using a consent mode enabled provider for the banner, so it can be viewed correctly....   \ndue to privacy regulation in EU consent must start to \"denied\" to almost evertyhing, so if people close the banner + keep the browser privacy on (especially on mobile where it's difficult to manage these kind of options for a normal user)... loosing a lot of analytics data... that's a reason i added a Matomo self hosted analytics, i have more freedom on it (i can log easily anon data)",
                "author": "popLand72",
                "score": 1
            },
            {
                "body": "As for reporting identity i have Blended but it says the Modeling is not active for the property\n\nYou are right, i simplified a bit my setup:\n\ni send the GTA Config (Google Tag with GA4 ID) on \"Initialization - All Pages\" whithout the page\\_view event (send\\_page\\_view -> false)  \nI send the page\\_view GA4 Custom Event on a custom event (pageview) that my site send every time the route change\n\nIn addition to page\\_view events i send some performance event (CLS FCP LCP and so on) and these are correctly forwarded and showed in real time report  \nthe page\\_view is also sent to GA4 because in the real time page report i have the accessed page with active users and 0 views",
                "author": "popLand72",
                "score": 1
            },
            {
                "body": "I would try to use device-based anyway to be sure. You can switch it any time. Do you use advanced consent mode (with anonymous hits)? In data streams settings, did you turn off “page views based on history changes”?",
                "author": "Quirky-Cookie-8931",
                "score": 1
            },
            {
                "body": "Are you only validating this thing on real time reports? Maybe i would try to valide it in explore section for previous days. Sometimes ga4 UI just do weird things and evaluate data for previous days. So i would look back 2days+",
                "author": "Quirky-Cookie-8931",
                "score": 1
            },
            {
                "body": "Switching to device based right now\n\nDisabling the history change too\n\nim using google consent mode v2 (my 'banner' provider is compatible), from what i read it looks like the ga4 are sent anonymous at beginning and reprocessed once the user accept/deny the policy\n\nCheckiing the past too... but what it looks weird is that when i test (or navigate) my page\\_view is getting ok and all the other events for users are going ok",
                "author": "popLand72",
                "score": 1
            },
            {
                "body": "i have a average of half visitors and 2/3 of page views compare to data in Matomo\n\ni tried a lot of combination, it looks the page\\_view is not sent, i see the first time the pageview is invoked it is sent to ga4 (seeing it in debug tag manager view) with consent to denied, but in ga4 debug mode it does not arrive (it should arrive with anon data!), when updating the consent (using gtag(\"update\"...) the page\\_view is still not sent, i dont really understand how to make it work\n\n  \nit looks like that when i send the update to consent on the first page i view, the hit is not reprocessed the way i expect, also the page\\_view that is sent before the consent (any ind of consent) is not recorded",
                "author": "popLand72",
                "score": 1
            },
            {
                "body": "Do you have any progress? You can use user explorer in expore sections to debug. You will find out, if user made page_view or not. Or you can create 2 user segments and compare how many users had pageview and how many not.",
                "author": "Quirky-Cookie-8931",
                "score": 1
            },
            {
                "body": "Im thingking my cmp (depsite the fact they say is fully compatible) its not relly consente mode v2 enabled  \nwhen i visit a page in incognito the \"page\\_view\" is triggered but not sent to ga4 (it should be sent with anonimous data until i accept the policy)  \nonce the policy is accepted i send a gtag(\"update\"...) that shoud force the reprocessing of data with new data according to granted policy...  \nBut in my case nothing happen despite all the consent a correctly configured and update in the correct way; google products should automatically rely on this from what i have read",
                "author": "popLand72",
                "score": 1
            },
            {
                "body": "There will be some weird configuration of cmp i quess. I would check settings of CMP.",
                "author": "Quirky-Cookie-8931",
                "score": 1
            },
            {
                "body": "If you can share the URL of your site, I can tall within a minute whether your have any issues with your Consent Mode implementation. If you would rather not share it here, send me a message, but I would like to share the results here (without identifying your site, if that's your wish).",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "Tried a lot o CMP in these days, it looks none of them seems to record the first page view even after the consent is given",
                "author": "popLand72",
                "score": 1
            },
            {
                "body": "a fun thing is that i have a bunch of other custom event (with same permissione as page\\_view) that are sent correctly and shown in debug mode, it looks like that page\\_view sent as custom event got some problem",
                "author": "popLand72",
                "score": 1
            },
            {
                "body": "Then there must be some mistake in your GTM configuration. Can you share preview?",
                "author": "Quirky-Cookie-8931",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1740855919.0,
        "title": "Consent Mode Template Tag",
        "author": "jen25854",
        "id": "1j171f2",
        "selftext": "Hello everyone,\n\nI have implemented Consent Mode V2 in my website. I created the Tag Template according to Google's Create a consent mode template. It gathers data and I thought everything was OK, but I was checking Page Views, Exits and Entrances for pages in GA4 and they all have the same numbers. Example, Page 1, has 40 Views, 40 Exits, 40 Entrances. This is not right and this change in data started after implementing CM2.\n\nDoes anyone know what I'm doing wrong with the Tag?\n\nThank you",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1j171f2/consent_mode_template_tag/",
        "num_comments": 13,
        "comments": [
            {
                "body": "Why don't you just use a template from the community gallery? There are tons of ready-made consent mode templates.\n\n\n> Does anyone know what I'm doing wrong with the Tag?\n\n\nThis is impossible to answer unless you share the template with us.",
                "author": "brannefterlasning",
                "score": 2
            },
            {
                "body": "Yes but this is just boilerplate. Without details on what you've added or changed and without any type of test results I can only speculate on why it's not working in your specific situation.",
                "author": "brannefterlasning",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "What CMP are you using to solicit / collect the user consent? CookieYes? CookieBot? CookieHub? OneTrust? Osano? Use the consent tag template for your particular CMP. Following the installation instructions for that CMP.",
                "author": "Humble_Elderberry_25",
                "score": 1
            },
            {
                "body": "It's this one, as explained by Google\n\n[https://developers.google.com/tag-platform/tag-manager/templates/consent-apis](https://developers.google.com/tag-platform/tag-manager/templates/consent-apis)\n\nI want to do it myself, don't want to use from the comm.galley",
                "author": "jen25854",
                "score": 1
            },
            {
                "body": "I have created the template myself, as explained by google in https://developers.google.com/tag-platform/tag-manager/templates/consent-apis.\n\nI don't use any CMP and don't want to use any.",
                "author": "jen25854",
                "score": 1
            },
            {
                "body": "I have made very small, customizing, changes to the template. What can be edited, otherwise everything is done as explained.  I don't understand if the issue lies in the template or the tag setting. The template is a copy the one fro google. I don't have ads data redaction and passing through URL parameters.",
                "author": "jen25854",
                "score": 1
            },
            {
                "body": "Can you share the template you made or screenshots of your setup? What is triggering the consent change? What do you see in the GTM preview consent tab?",
                "author": "brannefterlasning",
                "score": 1
            },
            {
                "body": "I'm unable to put screenshots. The consent change is triggered when a someone clicks Accept All in the banner for example. And I see the consent change in GTM preview, can see the real time user in Analytics and thought it was OK. The collected Data doesn't look OK. I have the same numbers on Page Views, Page Exits and Page Entrances in Analytics. The \"Consent\" Tag fires once per event (GTM event).",
                "author": "jen25854",
                "score": 1
            },
            {
                "body": ">I see the consent change in GTM preview\n\nDo you also see that all required consent types have a value of `granted`? Additionally, what value does the `gcs` parameter have in your GA4 events?\n\n\n>The \"Consent\" Tag fires once per event (GTM event)\n\nThis does not sound right. Normally the consent tag should only fire on 2 occasions. First for setting default consent, which should be fired on the `\"Consent Initialization\"` event. The second is when consent is updated, which really only happens on interactions with the consent banner or if you're unable to read existing consent as early as the `\"Consent Initialization\"` event and need to update it at a later time.",
                "author": "brannefterlasning",
                "score": 1
            },
            {
                "body": "Yes, I can see the changes of consent state (for any of the 4 consent types), when consent is given fully or only for some.\n\ngcs parameter has the value G100, when consent is denied, G111, when both Analytics (analytics\\_storage) and Ads Consent (ads\\_storage) is given, or all 4 (ad\\_user\\_data, ad\\_personalization) and G101 or G110 if only Analytics or only Ads Consent is given.\n\nTag fires once per GTM event is exactly what you have explained. Firstly on default consent and then on update consent.",
                "author": "jen25854",
                "score": 1
            },
            {
                "body": "Well, from your explanation it seems like it's all set up correctly on the front end. Have you checked the \"Consent settings\" under \"Property settings\" in GA4? Does it all check out?",
                "author": "brannefterlasning",
                "score": 1
            },
            {
                "body": "Yes, everything in GA4 is correct under \"Consent Settings\"",
                "author": "jen25854",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1732614340.0,
        "title": "Problem with GA4 e-commerce tracking on Shopify via Google Tag Manager",
        "author": "No-Support-1091",
        "id": "1h086xd",
        "selftext": "Hello everyone,\n\n\n\nI'm having a problem setting up advanced e-commerce tracking on a Shopify site using Google Tag Manager (GTM) and Google Analytics 4 (GA4).\n\n\n\n**Description of the problem:**\n\n**Missing events**: When I use GTM's preview mode to test my implementation, I find that when adding a product to the cart, specific events such as add\\_to\\_cart or view\\_item are not fired. Instead, only the form\\_start and form\\_submit events appear. I don't have any events related to ‘item’ or the expected e-commerce tracking.\n\n**Intermittent loading of the GTM container:** In addition, I've noticed that when browsing the site during preview, the GTM-XXXXX container sometimes loads and sometimes doesn't, even when remaining on the same home page. This inconsistency makes diagnosis even more difficult.\n\n\n\n**What I've already checked:**\n\n**Presence of GTM code:** The GTM container code is present on all pages, placed immediately at the end of the <head> tag in the theme.liquid file.\n\n**Cache and extensions:** I've cleared my browser's cache, tested in private browsing mode, and disabled any extensions that might block scripts (such as ad blockers), but the problem persists.\n\n**Cookie Consent:** There is no cookie consent banner or CMP that could prevent the GTM from loading.\n\n\n\n**Additional information:**\n\n**Shopify Theme**: The site uses a custom theme. I have not made any recent changes to the theme that would explain this behaviour.\n\n**Third-party applications**: No third-party applications or scripts have been added or modified recently.\n\n**Other working site:** On another Shopify site I manage with a similar configuration, e-commerce tracking is working correctly, including add\\_to\\_cart and view\\_item events.\n\n\n\n**My questions :**\n\n**Missing e-commerce events:** Why are specific e-commerce events such as add\\_to\\_cart or view\\_item not being triggered when the corresponding actions are taken on the site?Do I have to manually configure the data layer for these events on Shopify? If so, how do I go about this?\n\n**Intermittent GTM loading:** What could be causing the GTM container to load randomly, even on the same page? Are there any specific settings to check or known Shopify issues that could explain this behaviour?\n\n\n\nI would be very grateful for any help or advice you could provide. Thank you in advance for your time and expertise!",
        "score": 7,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1h086xd/problem_with_ga4_ecommerce_tracking_on_shopify/",
        "num_comments": 19,
        "comments": [
            {
                "body": "I was struggled on this today, my case was my GTM couldn't get fired in the checkout page, therefore no events were recorded. \n\nThen I find a solution, which is the best practice now I guess? Instead of implementing the gtm code into theme.liquid. I put in into custom pixel which is located at shopify>setting>customer events>add custom pixel>(add your GTM code without html script here)  \n  \n Save it, and then test it with the test button you will see on the top. You should able to see GTM is fired on every page and ecomm events you set in the script.",
                "author": "Complex_Raspberry_24",
                "score": 3
            },
            {
                "body": "Shopify new checkout extensibility has eliminated the old way of pushing ecommerce events from theme.liquid files to GTM and then Ga4. \n\nThis method is no longer works.\nSame like in case of adding the Facebook pixel.",
                "author": "Yasirshah313",
                "score": 3
            },
            {
                "body": "I was in the same situation as you, and I was really losing my mind. Now, day by day, I’m starting to make sense of it, and this video and article have really helped me a lot with custom data layer implementation via custom pixel: [https://feedarmy.com/kb/adding-adwords-conversion-tracking-to-shopify/](https://feedarmy.com/kb/adding-adwords-conversion-tracking-to-shopify/)",
                "author": "Significant_Split342",
                "score": 2
            },
            {
                "body": "It looks like the issue might be with the missing data layer events like add\\_to\\_cart and view\\_item. You’ll need to manually configure those events in Shopify or use an app to push the data to GTM.  \n  \nAs for the GTM container not loading consistently, it could be a caching or script issue. Try testing in incognito mode, and ensure the GTM code is placed correctly in the theme.  \n  \nFor a smoother tracking experience, I recommend using Qwestify for easy setup and accurate event tracking. It’s simple and helps optimize your GA4 data.",
                "author": "the-fire-in-me",
                "score": 2
            },
            {
                "body": "You are not enabling the data layer without datalayer GTM give you the automatic events like form start, form submit, container loaded, dom loaded, or something like that\n\nInstalling GTM code to the header is not enough, you need to enable the dataLayer from the theme or sandbox (custom pixel)",
                "author": "motiur_ak07",
                "score": 2
            },
            {
                "body": "It works alright for those who only cares about receiving some data. It is however limitted in what you are collecting in GA4. In my experience, it does not measure the whole ecommerce journey, just a couple main ones like view item, add to cart, remove from cart, begin checkout and purchase. And some of the values you measure will not look the same as what you can see in Shopify.\n\nThe way with custom web pixel combined with GTM allows for a broader way to measure all the events and how you want to receive the data in GA4. (More control)\n\nAlthough you will require some good knowledge to implement it. Or pay someone who knows his way around it.",
                "author": "Tenshichi",
                "score": 2
            },
            {
                "body": "Why would anyone use an app to upload their data layer when they could leverage Shopify’s new custom pixel feature? You can find more information in the Shopify documentation here: https://help.shopify.com/en/manual/promoting-marketing/pixels/custom-pixels. Custom pixels might be a bit more complex to set up, but they offer a lot of flexibility and customization. I started with this tutorial, which might be helpful for you: https://youtu.be/GflbZL2wyK8.",
                "author": "Significant_Split342",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Have you set up anything in Customer Events?",
                "author": "Taca-F",
                "score": 1
            },
            {
                "body": "Just use the “Google & YouTube” sales channel for ecomm tracking. Works great and all you have to do is drop in your GA ID.",
                "author": "scotty_ducati",
                "score": 1
            },
            {
                "body": "We have written a guide on this with Julius from Analyticsmania: \n\nhttps://www.analyticsmania.com/post/install-google-tag-manager-and-ga4-on-shopify/",
                "author": "puk789",
                "score": 1
            },
            {
                "body": "You can use [this app from addingwell](https://docs.addingwell.com/en/shopify/shopify-application?ref=data-marketing-school) to push all e-commerce dataLayer events.",
                "author": "lucas-dms",
                "score": 1
            },
            {
                "body": "I'm gonna do that, thanks a lot !",
                "author": "No-Support-1091",
                "score": 1
            },
            {
                "body": "So to do that, I need to exclude de snippet inserted in \"theme.liquid\" right?",
                "author": "ImaginationNo7830",
                "score": 1
            },
            {
                "body": "Thanks for the link",
                "author": "No-Support-1091",
                "score": 1
            },
            {
                "body": "Thanks, I'm going to try it out!",
                "author": "No-Support-1091",
                "score": 1
            },
            {
                "body": "There's already the facebook pixel but I'm going to test it for the GTM as I said above.",
                "author": "No-Support-1091",
                "score": 1
            },
            {
                "body": "Everyone is not a dev/has access to dev resources + this app does leverage the custom pixel,",
                "author": "lucas-dms",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1734014048.0,
        "title": "Does Google Ads audit or check your Google Tag Manager settings?",
        "author": "trucker-123",
        "id": "1hcmdwo",
        "selftext": "So a lot of of conversions are being lost in Google Ads because \"Default Consent (Global)\" is being set to \"Denied\" for the tag that I setup for my consent banner in GTM (Google Tag Manager).  I advertise globally.  Originally, what I tried to do was only display my consent banner for EU & UK, and not display it for the rest of the world.  The problem with this is, because \"Default Consent (Global)\" is being set to \"Denied\" in GTM, it doesn't seem to give customers outside the EU & UK a chance to accept the cookies (because the consent banner doesn't come up) and there is a loss of conversions being counted in Google Ads for customers outside the EU & UK. \n\nNow when I asked the CMP Partner of the consent banner I am currently using on what configuration I should use in GTM, the CMP Partner told me that I should set \"Default Consent (Global)\" to \"Granted\" and then in \"Default Consent (Region-specific),\" I should add UK and add each country in the EU and set them to \"Denied.\"  I then asked Google Ads support about this, and they contradicted the CMP Partner and said \"Default Consent (Global)\" should be set to \"Denied\" in GTM.  Mind you, I think I am in the lowest tier of support for Google Ads and at times, it seemed like the staff I was interacting with were not trained well.\n\nFast forward two months later, I am considering using a completely different consent banner with a completely different CMP Partner, that also offers the option to bring up the consent banner only for EU & UK customers.  When I asked this second CMP Partner what the GTM configuration should be if I only show their consent banner to EU & UK customers, they said the same thing as my current CMP Partner and repeated the same GTM settings! \n\nThat's two different CMP Partners, who recommend if you only display their banner in the EU & UK, to set set \"Default Consent (Global)\" to \"Granted\" and then in \"Default Consent (Region-specific),\" I should add UK and add each country in the EU and set them to \"Denied.\"  Ergo, that is two different CMP Partners who are recommending the settings I make in GTM, go against what Google Ads support is saying.\n\nWhat I care about is whether my Google Ads account gets banned, if I follow the two CMP Partner instructions as outlined above, since it goes against the Google Ads support instructions. So my question is,  does Google Ads audit or check your GTM settings?  Or is GTM firewalled and Google Ads will never check my GTM settings?",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1hcmdwo/does_google_ads_audit_or_check_your_google_tag/",
        "num_comments": 18,
        "comments": [
            {
                "body": "How I dealt with this for a US client :-\n\nHardcoded gtag consent default script on site with two sections to it. One that did not include a region definition that denied all consent by default. The second defined the region as 'US' and set default consent to granted.\n\nThis is probably not the perfect consent policy, but it reflects their policy as defined within OneTrust.\n\nTheir CMP (OneTrust) script is also hardcoded on site.\n\nYou don't have to do it this way and I've recently done a similar thing but instead using Simo's \"Consent Mode\" tag template in GTM. Not as neat, but it works.\n\nSo.... the point is it's possible to set the defailt consent differently based on geolocation. In your case, I would set all consent to granted by default but also define the list of regions where consent is denied by default. You can likely easily find the list of 2 letter country codes. Don't forget the UK. Not part of the EU now, but GDPR still applies.",
                "author": "StefanAtWork",
                "score": 2
            },
            {
                "body": "I would definitely go with the set up your CMP advised. It’s actually also stated in Googles documentation so whoever helped you from Google is wrong. They state that you should set default consent for regions where consent banners are required. So global should be granted and region (eu and uk) should be denied so you’re a 100% sure that anyone outside of the eu and uk will have consent granted. The list is more manageable as wel since you only have to add the EU and UK country codes instead of 200+ other countries.\n\nAbout your worries of getting banned.\nThe documentation also states what is best practice and not as the only way it should be done. In the end, all that matters is that the EU and the UK do have default consent set to denied so you’re compliant.\n\nLike a month ago I got a message from Google that my cookie notice didn’t meet there requirements and I had to change it within like 90 days or they are allowed to stop the partnership. They can’t give legal advice so they don’t say what’s actually wrong and they had to recheck like 30 times before they chose to just tell me what I had to change 😂 I think they where truly done with me hahah. So, no they won’t ban you so easily. They would contact you, give you plenty of time to change it, and they will recheck as many times as needed until your compliant. But if you follow your CMP’s implementation, you will be fine.",
                "author": "Pretty-Appearance226",
                "score": 2
            },
            {
                "body": "Trust CMP partners to know their products. Have a look at many popular Google Ads forums to gain some insight on how useful people are finding Google Ads support!",
                "author": "StefanAtWork",
                "score": 2
            },
            {
                "body": "“It is best practice to scope the default consent settings to the regions where you are surfacing consent banners to your visitors. This helps with preserving measurement in regions where consent banners are required and Google tags adjust their behavior accordingly. You also prevent any loss of measurement where there are no consent banners or consent banners don’t apply. See Region-specific behavior.”\n\nhttps://developers.google.com/tag-platform/security/guides/consent?consentmode=advanced",
                "author": "Pretty-Appearance226",
                "score": 2
            },
            {
                "body": "When they contacted me about our cookie banner notice not being compliant it was kinda funny. They said we have to refer to Google’s privacy and terms documentation while this was already done and is literally added by cookie script, which is an official partner, by default if you don’t erase it. But they also gave another vague answer of something that needed fixing. After like 20 tries and constantly getting declines, I changed my banner to the first version where they commented on that it was incorrect. Guess what, they approved it 😂 Sometimes they don’t know what they are doing I guess",
                "author": "Pretty-Appearance226",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Do you use the tag manager template from your CMP? And which CMP?",
                "author": "Pretty-Appearance226",
                "score": 1
            },
            {
                "body": "Default state should be all be denied then consent should updated by the CMP based on region or past consent. This allows proper update event to be triggered. From last we checked, update event is not triggered if there is no consent state change. Update event needs to be triggered so that everyone knows that the CMP has finish processing.\n\nDont think that Google audits the partner CMP integration with Consent Mode v2. If you look at their templates, some do not have the same flow.",
                "author": "appfromlab",
                "score": 1
            },
            {
                "body": "I created a FREE tool to create documentation for each tag, trigger, variable etc. Will be useful to decide which assets to let go of.\n\nYou can check the video of the tool in use over here - [https://youtu.be/MIFWMDZZJ6g](https://youtu.be/MIFWMDZZJ6g)\n\nThe tool can be accessed here - [https://mangoblogger.com/apps/gtm\\_audit/](https://mangoblogger.com/apps/gtm_audit/)\n\nLet me know if there is anything extra you would like to see in the audit and I can add it.",
                "author": "RipGroundbreaking470",
                "score": 1
            },
            {
                "body": "Thanks! I am wondering if I do this by script like you are doing, it makes it harder for Google Ads to track what I am doing because I am no longer using GTM to setup the consent banner. \n\n(it's crazy that the 2 CMP Partners are giving me instructions that contradict Google Ads support instructions in the first place and I have to do a workaround like this)",
                "author": "trucker-123",
                "score": 1
            },
            {
                "body": ">It’s actually also stated in Googles documentation so whoever helped you from Google is wrong. They state that you should set default consent for regions where consent banners are required. So global should be granted and region (eu and uk) should be denied so you’re a 100% sure that anyone outside of the eu and uk will have consent granted.\n\nHwy, thanka for your reply! Do you have a link to the documentation where they state this? I would love to see that document so that I have some backup in case I get in a dispute with Google Ads. Thanks!",
                "author": "trucker-123",
                "score": 1
            },
            {
                "body": "Cookie-script. They recommended that I change the template to set \"Default Consent (Global)\" to \"Granted\" and then in \"Default Consent (Region-specific),\" I should add UK and add each country in the EU and set them to \"Denied.\"",
                "author": "trucker-123",
                "score": 1
            },
            {
                "body": "> Default state should be all be denied then consent should updated by the CMP based on region or past consent. This allows proper update event to be triggered. From last we checked, update event is not triggered if there is no consent state change. Update event needs to be triggered so that everyone knows that the CMP has finish processing.\n\nI agree with what you say if the Consent Banner is shown to the customer. What I want is for the Consent Banner to not be shown to the customer if they are outside the EU & UK.  And that's where \"Default Consent (Global)\" being set to \"Denied\" is causing problems because some conversions are not being counted for customers outside the EU & UK if the Consent Banner is not being shown.\n\n(ie. the CMP should not even become a factor outside the EU & UK if the Consent Banner isn't being shown)",
                "author": "trucker-123",
                "score": 1
            },
            {
                "body": "Before the CMP decides whether to show the banner, it will determine the visitor’s location, then if said location does not need consent, CMP will update the consent state from the default denied state to granted which then triggers the consent update event. Without consent update event, tags may not get fired.",
                "author": "appfromlab",
                "score": 1
            },
            {
                "body": "Thanks for that link! I can use that link as a backup source in case I have a dispute with Google Ads.  Also, I noticed this in the documentation link that you provided:\n\n> If two default consent commands occur on the same page with values for a region and subregion, the one with a more specific region will take effect. **For example, if you have ad_storage set to granted for the region US and ad_storage set to denied for the region US-CA,** a visitor from California will have the more specific US-CA setting take effect. For this example, that would mean a visitor from US-CA would have ad_storage set to denied.\nRegion \tad_storage \tBehavior\n>\n>US \t'granted' \tApplies to users in the US that are not in CA\n>\n>US-CA \t'denied' \tApplies to users US-CA\n>\n>Unspecified \t'granted' \tUses the default value of 'granted'. In the example, applies to visitors that aren't in the US or in US-CA \n\nEven in their example for the US, they are setting \"Granted\" to everyone in the US, and then setting \"Denied\" for people in California.",
                "author": "trucker-123",
                "score": 1
            },
            {
                "body": "Nice catch! It’s an example of course, but it does back up our logic I guess 😉\n\nI think if consent mode is correctly installed, like the CMP advises, the chances of Google reaching out to you about this is close zero.",
                "author": "Pretty-Appearance226",
                "score": 1
            },
            {
                "body": "Hi, some conversions won't be counted in Google Ads for customers outside the EU & UK if I do it your way.\n\nAs I mentioned in the original post, both CMP customer support representatives told me I should set \"Default Consent (Global)\" to \"Granted\" to get the conversions for customers outside the EU & UK counted in Google Ads.  So it's the CMP themselves telling me this is the right setting to get it work for their banner - setting \"Default Consent (Global)\" to \"Granted.\"  It's their words, not mine.\n\nThe crux of the problem is that their advice is contradicting Google Ads support advice.",
                "author": "trucker-123",
                "score": 1
            },
            {
                "body": "There are CMP partners who use the default denied state even for regions which does not require consent. Because their GTM template is able to update the default state from denied to granted after determining the location.",
                "author": "appfromlab",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1733481766.0,
        "title": "Freelancers with Consent Management Platform (CMPs) experience - help please",
        "author": "puk789",
        "id": "1h7ymqb",
        "selftext": "As a freelancer and CMP implementor, I’ve had countless frustrating experiences implementing various CMPs - hacks, workarounds, and support that’s clueless about anything remotely technical. So, I decided to develop my own CMP, tailored specifically for freelancers, to make our day-to-day tasks easier. It’s designed to handle all the necessary data layer pushes, GTAG consent commands, and more, so the GTM implementation of consent mode is as seamless as possible.\n\nNow, I’m stuck on a name and could use your input! I’m deciding between:\n\nkukie\n\nkookie\n\ncookiwarden\n\ncookify\n\n\n\nWhich one do you think fits and resonates best? Let me know in the comments - your feedback would mean a lot!",
        "score": 0,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1h7ymqb/freelancers_with_consent_management_platform_cmps/",
        "num_comments": 17,
        "comments": [
            {
                "body": "Cookify",
                "author": "zombiekop",
                "score": 3
            },
            {
                "body": "Can i sqew you away from focusing on  cookie  in the name when your adventage  is focused on GTM integration? Go with Taggie CMP or something like that",
                "author": null,
                "score": 3
            },
            {
                "body": "I’m not creative so I’m not going to suggest a name, but I would be interested to test out your CMP when you’re ready to share.\n\nExtensive experience with most of the top 10 CMPs.",
                "author": "DigitalStefan",
                "score": 2
            },
            {
                "body": "Tagalong\n\nIt's the name of a girl scout cookie and it has a \"this is an addition to tag manager\" vibe.",
                "author": "youareseeingthings",
                "score": 2
            },
            {
                "body": "Hmm, fair point!",
                "author": "puk789",
                "score": 2
            },
            {
                "body": "Feedback from experienced users like you will be invaluable for us :) We are currently working hard on releasing the beta version in the near future. In the meantime, feel free to submit the beta testing form:\nhttps://karolkrajcir.com/\nYou can find it by scrolling down. Looking forward to collaborating soon",
                "author": "puk789",
                "score": 2
            },
            {
                "body": "Thanks for sharing. I’ll take a look at it tomorrow.",
                "author": "zombiekop",
                "score": 2
            },
            {
                "body": "Interesting. I see what you did there (kreechr domain / starlight).\n\nWhat I would say is currently missing...\n\n1. A list of identified cookies and their purposes. This is where you start to incur costs, but this one of the selling points of e.g. CookieBot, OneTrust etc.\n2. A quick \"opt out\" and \"opt in\" when users bring up the config dialog by clicking the floating cookie widget. It's not obvious you can click the \"back\" arrow to get to the basic cookie banner.\n\nEDIT: One thing, quite important... [https://thehackernews.com/2022/01/german-court-rules-websites-embedding.html](https://thehackernews.com/2022/01/german-court-rules-websites-embedding.html)\n\nI'm guilty of not doing best practise related to this ruling, but it will be important if you start to get more interest in your CMP.\n\nI pulled apart someone else for doing a similar thing many months ago, except in their case they were also genuinely tracking visitors without consent and when I pointed it out they said \"shhh, keep it quiet\"!\n\nTheir CMP, as far as I know, did not (successfully) launch.",
                "author": "DigitalStefan",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "We use iubenda for consent that play well to gtm. Same as cookiebot but I have experience with iubenda. \n\nTrigger groups are you freind.",
                "author": "FullSpare1352",
                "score": 1
            },
            {
                "body": "How do you make it work with Google Consent Mode that is easier than other CMPs? Most of the setups I've done include installing a template, a bunch of config to setup, custom code to setup defaults, etc. This pretty much describes my usual setup that I have to do to setup most CMP: [https://www.cookieyes.com/documentation/implementing-google-consent-mode-using-cookieyes/](https://www.cookieyes.com/documentation/implementing-google-consent-mode-using-cookieyes/)\n\n  \nHow will your solution make this process simpler?",
                "author": "RandomUsername749",
                "score": 1
            },
            {
                "body": "You're more than welcome to check out Consent Studio. We're a relatively new player in the world of CMPs. We're a Certified Partner with Google and our public offering is only a straightforward €7/month. We do not have tiers and no limit on page count.",
                "author": "Yallone",
                "score": 1
            },
            {
                "body": "We’ve just launched Cookifi into beta and are looking for testers! 🚀\n\nIt’s completely free during beta - give it a try here: [admin.cooki.fi](http://admin.cooki.fi)\n\n📖 Docs: [docs.cooki.fi](http://docs.cooki.fi)\n\n💬 Join our Slack community: [https://join.slack.com/t/cookifi/shared\\_invite/zt-2yv939ymv-KX5nJxqajMEg3MkLRDQ\\_Rg](https://join.slack.com/t/cookifi/shared_invite/zt-2yv939ymv-KX5nJxqajMEg3MkLRDQ_Rg)\n\nWe’d love your feedback!",
                "author": "puk789",
                "score": 1
            },
            {
                "body": "Thank you!",
                "author": "puk789",
                "score": 1
            },
            {
                "body": "u/zombiekop we’ve just launched Cookifi into beta and are looking for testers! 🚀\n\nIt’s completely free during beta - give it a try here: [admin.cooki.fi](http://admin.cooki.fi)\n\n📖 Docs: [docs.cooki.fi](http://docs.cooki.fi)\n\n💬 Join our Slack community: [https://join.slack.com/t/cookifi/shared\\_invite/zt-2yv939ymv-KX5nJxqajMEg3MkLRDQ\\_Rg](https://join.slack.com/t/cookifi/shared_invite/zt-2yv939ymv-KX5nJxqajMEg3MkLRDQ_Rg)\n\nWe’d love your feedback!",
                "author": "puk789",
                "score": 1
            },
            {
                "body": "This is super cool actually, but the domains are already taken :/",
                "author": "puk789",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1716299790.0,
        "title": "How do you deal with Shopify Checkout Update & GTM Tracking?",
        "author": "Megaboy5000",
        "id": "1cx8ikv",
        "selftext": "Hey there,\n\nas far as I know there is some kind of update coming to the Shopify checkout, which basically disables the field under Settings -> Checkout that was used up until now to add the GTM container, all kinds of scripts (dataLayer, consent tool...) and other tracking codes.\n\nAccording to Shopify, if you still want to use Google Tag Manager to set up tracking in that way, you'd have to use this relatively new feature called Customer Events, which basically implements the scripts via a sandbox environment, which means you cannot just copy/paste the whole script. Depending on what type of script you want to add you have to modify the javascript (remove script tags, add a few lines here and there...).\n\nThis is the documentation for implementing the GTM container and dataLayer events:\n\n[https://help.shopify.com/en/manual/promoting-marketing/pixels/custom-pixels/gtm-tutorial](https://help.shopify.com/en/manual/promoting-marketing/pixels/custom-pixels/gtm-tutorial)\n\nI tried this two times on two different shops. While it was possible to add the GTM container in this way, I was just not successful with getting the dataLayer events implemented into the website even though I was exactly following the instructions.  \n\nWhat are your experiences with this whole issue? Does anybody have- or know of a code piece that I could add as a custom pixel that'll implement the GTM container and the whole e-ecommerce dataLayer? Would be greatly appreciated. In principal, I think it's great to have a possiblity of adding the e-comm. dataLayer without being dependent on a developer or buying an expensive plugin like Analyzify. Unfortunately it doesn't seem to work as expected.\n\nThanks a lot and best regards!\n\n",
        "score": 8,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1cx8ikv/how_do_you_deal_with_shopify_checkout_update_gtm/",
        "num_comments": 31,
        "comments": [
            {
                "body": "[removed]",
                "author": null,
                "score": 3
            },
            {
                "body": "Hey, one of the issues we see most commonly when people are setting up GTM is they use GTM's preview mode to test their tags, and get no results. Unfortunately, GTM's preview mode isn't working with the sandbox at this time. Not as convenient, but for now some console.log statements can help you validate things are working.\n\nAlso, any dataLayer.push calls in your theme liquid files will need to be replaced by Shopify.analytics.publish so that the events can be pushed into the sandbox. Then, in the sandbox, subscribe to those events and push them into GTM using GTM's dataLayer.",
                "author": "Patient_Coconut_6773",
                "score": 2
            },
            {
                "body": "So you added GTM container via Customer Events (I was also successful in doing that) and then you added the e-comm. dataLayer via analytics.subscibe... and it worked, except for DebugViewer not working? When I added the analytics.subscribe... code to a custom pixel it didn't work. Did you make a lot of customizations or did you just copy/paste what's in the Shopify docs?\n\nDid you experience any issues with attribution, with Google Ads f.e., like some comment above suggested? Have you tried implementing a script with a source-attribute that loads a cookie consent tool on the thank-you page?\n\nMy problem at the moment is: I cannot accept any new projects for setting up tracking on Shopify if I cannot say with certainty that there is a way to implement all these scripts that before could be easily integrated via Settings -> Checkout and now might not work properly or at all because of the new sandbox environment. I also don't have the time to study the technicals of the sandbox environment in order to come to my own conclusion. Very annoying situation.",
                "author": "Megaboy5000",
                "score": 2
            },
            {
                "body": "When you talk about server-side tracking as an alternative, you're thinking about a setup that doesn't include a client-side GTM container at all, right? \n\nThe way I implement server-side tracking for my clients at the moment is that in which you set up GA4 tags in the client-side container, send them to a server-container (via transport\\_url parameter) and then from there, via GA4 Client + server-side tags, they get sent to the respective tool like GA4, Meta, Google Ads and so on. \n\nIn a world where GTM client-side tracking for Shopify isn't working anymore, this kind of server-side tracking probably work anymore either, right?\n\nI'd assume that Shopify did all this not because of security issues (although I have no insides into how often the field in Settings -> Checkout was used for hacks or fraud) but rather to kill a very well established and working method for implementing tracking that doesn't make them money and now they're basically supporting apps like Elevar from which they certainly benefit financially in various ways (dont' know if this is also true for the sales channels of Google, Meta and so on). If that's true, it's again one of these cases where a good product dies because there's a worse way of doing it that's more aligned with corporate interests - sad.",
                "author": "Megaboy5000",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Yeah, the documentation is slightly lacking, so I also developed my own code template that has worked reliably so far. Feel free to share your code example that isn't working or DM and we can take it from there",
                "author": "puk789",
                "score": 1
            },
            {
                "body": "What Shopify did actually makes a lot of sense, basically they don't allow you to run arbitrary scripts on the checkout page now which can undermine security and affect page performance. The problem is that currently most major platforms expose their functionality via a script you run on the page through GTM like Meta Ads, Google Ads, Google Analytics etc (basically all tags in GTM parlance) This will just stop working now. The sandbox alternative Shopify provides does not support all browser APIs so naturally even if you somehow manage to include GTM, a lot of tags would silently break. \n\nUnfortunately there is no complete solution on the client anymore for Google tag manager. You may be able to implement some tags but like I said, some functionality would silently break and a lot of tags would just not work anymore. \n\n The solution is to implement server side tracking and subscribe to important events like checkout, purchase etc on server side, then you can implement all the tags on server side to process these events. This is a bit more complex than the client side setup but it is (nearly) a 1 to 1 replacement with client side GTM setup. It also has the benefit to track important events which are not generated on website, for example order cancellations, refund etc. You could forward these events to Google Analytics 4 to get a complete picture of customer journey. \n\nHope this helps.",
                "author": "GullibleEngineer4",
                "score": 1
            },
            {
                "body": "Yeah Checkout Extensibility nukes the scripts in Settings -> Checkout on the Order Status page, where a lot of people dropped snippets and GTM container code.🧑‍💻\n\n  \nThe way you linked in your OP is the correct approach.  You have to create a custom Pixel in Customer Events for GTM, and then add the GTM container code and the push events you want to tap into.  Then you need to update your GTM triggers and variables to match the data in those DL push events.\n\n  \nGTM preview mode won't work - which sucks.  But it does work - we've implemented it with a few clients already.",
                "author": "brett_fish",
                "score": 1
            },
            {
                "body": "I've already integrated 10+ stores recently with my dataLayer and it supports the checkout extensibility also session source are perfectly receiving to GA4, let me know if you need me to fix yours",
                "author": "analyst_bappy",
                "score": 1
            },
            {
                "body": "Is there a tutorial for the implementation? I am using GTM and and load Meta & Google Ads / Analytics via GTM.\n\nThanks",
                "author": "dekuSTAR",
                "score": 1
            },
            {
                "body": "We’ve created a free Shopify Data Layer app to address this. It resolves the issue of placing the data layer on the thank you page and simplifies the implementation process, even with sandboxed customer events. While Web preview mode no longer works, Server-Side preview mode still does.\n\n(We are creating Data Layers plugins / addons for al CMS platform so everyone can have a good data layer.)\n\nVideo how To Solve Checkout Extensibility Problem For GTM: [https://www.youtube.com/watch?v=9xuC88irWII&t=6s](https://www.youtube.com/watch?v=9xuC88irWII&t=6s)",
                "author": "TAGGRS_io",
                "score": 1
            },
            {
                "body": "hi, i know i'm kinda late to the thread, but i'm having huge issues with consent mode, we are using simo ahava's consent mode tags to set the statuses, but they seem to break (?) and i see all the networks request sent with no gcs and gcd=13l3l3l2l1l1. it kinda breaks the whole tracking, any insight would be extremely usefull, thanks!",
                "author": "Longjumping-Smile796",
                "score": 1
            },
            {
                "body": "Hey, I wrote an article explaining how to setup GTM dataLayer in Shopify: [https://data-marketing-school.com/en/blog/google-tag-manager/shopify-datalayer/](https://data-marketing-school.com/en/blog/google-tag-manager/shopify-datalayer/)",
                "author": "lucas-dms",
                "score": 1
            },
            {
                "body": "u/Megaboy5000 \n\nIf you're still struggling, feel free to read this comprehensive tutorial: [https://www.analyticsmania.com/post/install-google-tag-manager-and-ga4-on-shopify](https://www.analyticsmania.com/post/install-google-tag-manager-and-ga4-on-shopify)\n\nIf you also want to handle consent on Shopify (including Google Consent Mode v2), checkout this one out: [https://karolkrajcir.com/post/ga4-consent-based-conversion-tracking-on-shopify-with-custom-pixels-cookifi-gtm](https://karolkrajcir.com/post/ga4-consent-based-conversion-tracking-on-shopify-with-custom-pixels-cookifi-gtm)",
                "author": "puk789",
                "score": 1
            },
            {
                "body": "Thanks for your reply: I just saw there is another thread on this: [https://www.reddit.com/r/GoogleTagManager/comments/166qdgi/comment/l50vgny/?context=3](https://www.reddit.com/r/GoogleTagManager/comments/166qdgi/comment/l50vgny/?context=3)\n\nSomeone over there told me that even if you're successful in adding the GTM container via Customer Event (I was able to do that) and make the dataLayer events work (that didn't work when I was briefly trying it according to the docs) then f.e. a simple thing like Google Ads conversion tracking wouldn't work because of the sandbox environment messing up attribution. If this is true, GTM tracking on Shopify is basically dead. What are your thoughts on this?",
                "author": "Megaboy5000",
                "score": 1
            },
            {
                "body": "I found this video very informative:  \n[https://youtu.be/krFHfkiANjc](https://youtu.be/krFHfkiANjc)\n\nThe speaker, Benjamin, also alludes to this issue. Do you know if this preview mode issue is documented anywhere? I believe it is due to pixel sandboxing, but I am not sure.\n\n  \nedit: nvm, I found more about it here: [https://www.analyticsmania.com/post/install-google-tag-manager-and-ga4-on-shopify](https://www.analyticsmania.com/post/install-google-tag-manager-and-ga4-on-shopify)",
                "author": "xorlop",
                "score": 1
            },
            {
                "body": "I am dealing with the same issue here and its been driving me crazy! Having our web dev tweak the code to test it in preview mode.....NOTHING IS WORKING. I sent you a dm lol",
                "author": "Man-Zoe",
                "score": 1
            },
            {
                "body": "[deleted]",
                "author": null,
                "score": 1
            },
            {
                "body": "Please tell me how to create custom pixel for elevar chechkout,is there any additional code to be added or it works out of the box?",
                "author": "Safe-Building3185",
                "score": 1
            },
            {
                "body": "hello how can I contact you?",
                "author": "Maximum-Asparagus940",
                "score": 1
            },
            {
                "body": "hi, how can i contact you for the solution?",
                "author": "Human_Advantage_8548",
                "score": 1
            },
            {
                "body": "u/dekuSTAR  this is the most comprehensive tutorial on this topic out there: [https://www.analyticsmania.com/post/install-google-tag-manager-and-ga4-on-shopify](https://www.analyticsmania.com/post/install-google-tag-manager-and-ga4-on-shopify)\n\nIf you also want to handle consent on Shopify (including Google Consent Mode v2), checkout this one out: [https://karolkrajcir.com/post/ga4-consent-based-conversion-tracking-on-shopify-with-custom-pixels-cookifi-gtm](https://karolkrajcir.com/post/ga4-consent-based-conversion-tracking-on-shopify-with-custom-pixels-cookifi-gtm)",
                "author": "puk789",
                "score": 1
            },
            {
                "body": "what CMP are you using?",
                "author": "puk789",
                "score": 1
            },
            {
                "body": "Yeah I guess but most major platforms have app integrations for Shopify that you can use to track purchases. And GTM would still work outside the checkout process so you can track clicks & forms etc just fine. Do wonder how server side would work if you cannot use GTM for purchases.",
                "author": "KalaBaZey",
                "score": 1
            },
            {
                "body": "u/Man-Zoe \n\nThis is the most comprehensive tutorial on this topic out there: [https://www.analyticsmania.com/post/install-google-tag-manager-and-ga4-on-shopify](https://www.analyticsmania.com/post/install-google-tag-manager-and-ga4-on-shopify)\n\nIf you also want to handle consent on Shopify (including Google Consent Mode v2), checkout this one out: [https://karolkrajcir.com/post/ga4-consent-based-conversion-tracking-on-shopify-with-custom-pixels-cookifi-gtm](https://karolkrajcir.com/post/ga4-consent-based-conversion-tracking-on-shopify-with-custom-pixels-cookifi-gtm)",
                "author": "puk789",
                "score": 1
            },
            {
                "body": "I am assuming OP wanted to use Google Tag Manager to centralize tag management. It's a more customizable setup as well, for example let's say you want to redact PII from a URL or IP address before forwarding the hit to Google Ads or Google Analytics 4 for compliance, I don't think functionalities of this kind will be easy to implement with the direct integration. \n\nSecond is tracking server generated events like refunds, order cancellations which can't be tracked client side.",
                "author": "GullibleEngineer4",
                "score": 1
            },
            {
                "body": "I pinged you",
                "author": "analyst_bappy",
                "score": 1
            },
            {
                "body": "Hi, we are using iubenda, to my knowledge it has been adapted to the new checkout by another agency, but unfortunately they are non collaborating on the matter. the cookie is transferred fine, but it does not seem to help",
                "author": "Longjumping-Smile796",
                "score": 1
            },
            {
                "body": "u/Longjumping-Smile796 not sure about Iubenda, but we've developed Cookifi, which works seamlessly with Shopify and custom pixels. You can reference this article: [https://karolkrajcir.com/post/ga4-consent-based-conversion-tracking-on-shopify-with-custom-pixels-cookifi-gtm](https://karolkrajcir.com/post/ga4-consent-based-conversion-tracking-on-shopify-with-custom-pixels-cookifi-gtm)",
                "author": "puk789",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1732989873.0,
        "title": "Fully server side tracking",
        "author": "Developer_Track",
        "id": "1h3ie7b",
        "selftext": "I’m trying to implement a fully server side tracking solution to get around all the cookie blocking going on and was looking for an in depth conversation about this but haven’t found anything so thought I’d start one. \n\nFirst, my biggest problem at the moment is being able to read the ga4 cookie so I can pass the proper client id and session id. Anyone know how to achieve this? I’m using Drupal 10 which uses php and symfony. \n\nIn the interim, I tried creating my own ids and passing those over instead but they keep changing on every request. The goal is to track an anonymous user through to a signed up user with my own user id. ",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1h3ie7b/fully_server_side_tracking/",
        "num_comments": 14,
        "comments": [
            {
                "body": "Use stape.io and save yourself some heartbreak.",
                "author": "Frosti11icus",
                "score": 6
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "When you say 'fully', do you mean a Google Tag Manager server container? Do you think that you can run it without a web container?",
                "author": "Taca-F",
                "score": 1
            },
            {
                "body": "have you looked into using GA Measurement Protocol? It is a client in sGTM that is designed for server-to-server communication.\n\nGenerating your own client id and session id seems possible but certainly you need to ensure they stay consistent across multiple events.",
                "author": "small_foot_2490",
                "score": 1
            },
            {
                "body": "Like a full full SST solution? So that'd be outside of Google I reckon. Something like JENTIS, maybe Tealium (but I guess you need to buy their CDP too). I don't know many other companies offering a full end-to-end SST solution at this point that is data/GDPR compliant.",
                "author": "manciteh1",
                "score": 1
            },
            {
                "body": "From how I understand it, SST is not a work around for consent and cookies. Setting it up won't solve the problem of someone denying consent. It can improve data quality which can help out, but you will still have gaps from users who do not accept consent.\n\n  \nReally our best chance as marketers to mitigate the effects are predictive models. However you need a certain amount of data points for it to be applied to your account [https://support.google.com/analytics/answer/9846734?hl=en](https://support.google.com/analytics/answer/9846734?hl=en)",
                "author": "NegativeStreet",
                "score": 1
            },
            {
                "body": "Does this need to be integrated with a CMP as well to get user consent?",
                "author": "RandomUsername749",
                "score": 1
            },
            {
                "body": "Founder of Aimerce here – a server side tracking solution for Shopify. Happy to walk you through how to go about building this. You can also just install an out of the box solution. Eg. Aimerce just takes 10 min to install from the Shopify App Store. There are a few on the market and it's becoming a pretty mature space. You're definitely right in that going full server side tracking is a surefire way to go around the cookie deprecation problem. I've seen hundreds of brands see 10-30% revenue lift from their email/ads marketing, simply by fixing this problem and feeding their marketing platforms more accurate data.",
                "author": "Green_Database9919",
                "score": 1
            },
            {
                "body": "You 100% have the right idea. But I would just use an existing app instead to do this. There are a lot of mature options on the market now – I've tried Stape and Aimerce. Recommend Aimerce. Stape's setup is a bit annoying and I wasn't 100% happy w my results.",
                "author": "No_Intros_Needed",
                "score": 1
            },
            {
                "body": "No, I just meant no need for client side tags so the tracking is resilient regardless of a user’s browser privacy settings. I would still have the client there to track other things like scrolling or client side behaviors. But these would only augment the server side tags which should reliably handle every page view and purchase.",
                "author": "Developer_Track",
                "score": 1
            },
            {
                "body": "I've got it setup with [stape.io](http://stape.io) and [cookiechimp.com](http://cookiechimp.com) recently and it just worked without any issues. Both the teams are super helpful (any go beyond expected support) in getting you up and running.",
                "author": "RandomUsername749",
                "score": 1
            },
            {
                "body": "I would think very carefully about how you'll go about ensuring the user's consent choice for tracking is always respected. This is much harder to do, especially in the EU GDPR zone, if not managed client side.",
                "author": "Taca-F",
                "score": 1
            },
            {
                "body": "And is there a specific reason why you wouldn't respect users privacy settings?",
                "author": "mar1_jj",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1723633588.0,
        "title": "GA Cookie not deleted after consent is withdrawn in Cookiebot",
        "author": "Denalovicz",
        "id": "1erysgz",
        "selftext": "I've recently started using GTM and have integrated the Google Tag on my website. For consent management, I use Cookiebot. My Google Ads and Analytics accounts are linked with GTM/Google Tag. The default consent state I've set in the Cookiebot CMP Tag is set to \"denied\" for all options. When I visit my website for the first time, no cookies are set. If I select \"accept all\" in the cookie banner, some cookies are set, which are automatically deleted when I withdraw consent. However, one cookie is not deleted and remains stored. The cookie starts with *ga* and has the target ID of the Analytics account attached. Does anyone know why this cookie isn't being deleted and how to fix it? I'm happy to provide more information if needed. Thanks!",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1erysgz/ga_cookie_not_deleted_after_consent_is_withdrawn/",
        "num_comments": 23,
        "comments": [
            {
                "body": "I live in France and am a legal expert (GDPR) for my company; there is no need for cookies to be deleted when consent is withdrawn, very few tools do this. The law requires that tools no longer use them, so that means that as long as your Google analytics returns to denied and is no longer triggered, it's OK. On the other hand, the advanced consent mode v2 (hit denied and triggered even when no consent is given) is legally \"restricted\" to date because the legislative organisms have said nothing about it. But consent mode v2 standard is rgpd friendly.\nLet's put that aside: Cookiebot does have the ability to delete cookies, it's pretty top-notch in this respect, and it's one of the only ones to do so (which proves that if the others don't do it, it's because it's not compulsory).\n As far as the ga cookie not being deleted is concerned, it's probably only because cookiebot can't delete it if you're connected to a Google account on your browser (especially if it's Google Chrome with the Google account linked to the browser). A ga cookie remains persistent on all the sites you visit. Try using private browsing, it should no longer be there ;)\nMore info :\nhttps://complianz.io/withdrawing-consent/",
                "author": "Fun_Ad_2011",
                "score": 4
            },
            {
                "body": "I’m not familiar with German specific laws, but GDPR does not require cookies to be actively deleted when a user withdraws consent.",
                "author": "DigitalStefan",
                "score": 4
            },
            {
                "body": "I would assume this is caused by the user_engagement event that triggers when you leave the page. Once you revoke consent the mentioned cookie is probably deleted with all the others but since your GA script has already loaded it sends an automatic user_engagement event when the page is unloading. Since there is no ga-cookie at that point a new one is set.\n\n\n\n\nThis is tricky to get around unless you are using a server-side implementation as you would have to manually delete the cookie as proposed by /u/DigitalStefan",
                "author": "brannefterlasning",
                "score": 3
            },
            {
                "body": "Can you show where GDPR or any law mandates removal of cookies in this scenario?\n\nTo my knowledge, GDPR does not mandate cookie deletion if a user grants consent and then revokes it. Any cookies that are left are essentially just artifacts and no longer are used as the associated tags in GTM are not firing them or in the case of GA4 only using cookieless pings.\n\nI think you're overthinking this and I would not bother. Other CMPs I've seen behave this exact way, like OneTrust. If this was a requirement, the CMPs would handle it or provide guidance for it.",
                "author": "nakfil",
                "score": 3
            },
            {
                "body": "The solution would likely be to fire a Custom HTML tag containing a script to manually delete the cookie.\n\nA little of of JavaScript to identify any cookie name beginning _ga and setting it to expire at the date and time of the UNIX epoch (1 second past midnight GMT, Thursday 1st January 1970)",
                "author": "DigitalStefan",
                "score": 3
            },
            {
                "body": "Please can you quote the specific regulation mandating the deletion of cookies?",
                "author": "Taca-F",
                "score": 3
            },
            {
                "body": "I live in Germany and run the website under the GDPR/DSGVO compliance. When a user withdraws all consent every tracking cookie has to be deleted, I guess.",
                "author": "Denalovicz",
                "score": 2
            },
            {
                "body": "looks like some CMPs have introduced tools to help remove cookies actually after consent is withdrawn:\n\n  \n[https://complianz.io/introducing-the-cookieshredder/](https://complianz.io/introducing-the-cookieshredder/)\n\nProbably to address your exact concern",
                "author": "nakfil",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Why would it need to be deleted?",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "Ok, will try! Thanks.",
                "author": "Denalovicz",
                "score": 1
            },
            {
                "body": "Also on an unrelated not, try to steer away from CookieBot, they're one of the worst in the business.",
                "author": "zenith66",
                "score": 1
            },
            {
                "body": "Hello! For the best support, reach out directly to our team at [support@cookiebot.com](). We’d love to help and get everything running smoothly!",
                "author": "UsercentricsOfficial",
                "score": 1
            },
            {
                "body": "Have you received any guidance that cookies must be deleted once consent is withdrawn? In most implementation for a cookie consent solution or CMP solution once the consent is withdrawn, the third-party vendor script is no longer loaded and any previously set cookies cannot be used by such script (since it's no longer loaded).\n\nIf it's a third-party domain cookie, you may not be able delete third-party domain cookies. See https://developer.mozilla.org/en-US/docs/Web/Privacy/Third-party\\_cookies , https://stackoverflow.com/questions/52775617/how-to-delete-third-party-domain-cookies-from-gdpr-compliant-website",
                "author": "termsfeed",
                "score": 1
            },
            {
                "body": "I‘m definitely overthinking this, since I don’t wanna be fined for unallowed user tracking. It’s probably the pings because the tags sending g100 values when the consent has been withdrawn. Still, I read that the pings don’t need a cookie to send info about events. Other than that I find it weird that all cookies are being deleted automatically except for this one. The GDPR says, that the removal of cookies must be as easy as accepting them so I assumed they have to be deleted automatically as well. I implemented the GA script directly into my HTML and not via the GTM.",
                "author": "Denalovicz",
                "score": 1
            },
            {
                "body": "Could you please elaborate on this? We are web developers from the Netherlands that have built their own CMP and we want to steer clear of any pitfall, so I figured it would be interesting to pick your brain on this.",
                "author": "Yallone",
                "score": 1
            },
            {
                "body": "huh, interesting. Is there a reason you're not deploying GA through GTM? That might be part of your issue, but I'm not sure.\n\nAlso to clarify GDPR says the *withdrawal of consent* should be as easy as giving consent, not the removal of cookies, which is an important distinction here. If a script is blocked from firing by a CMP user data can not be processed / used regardless if there is a cookie set.  It's a useless artifact.",
                "author": "nakfil",
                "score": 1
            },
            {
                "body": "They have horrible business practices. They count pages multiple times. Every tag or category a post is in counts as a new page for them. Like tag1/page1, tag2/page1, category1/page1 is the same page counted 3 times.\nThey count pages that are not public or published.\n\nWhen you cancel the subscription after they bill more on this overcounting, they completely cut access to the account even though they already took money for an entire month.",
                "author": "zenith66",
                "score": 1
            },
            {
                "body": "Thanks for the link. I forgot to mention that the GA tracking is implemented in the Google Tag which I put into my website. I found some articles about a special GA configuration tag but couldn’t find it in the tag list.",
                "author": "Denalovicz",
                "score": 1
            },
            {
                "body": "Yes, they have to be automatically deleted. All cookies are being deleted automatically except for the _ga_ cookie. Do you have a solution for this?",
                "author": "Denalovicz",
                "score": 1
            },
            {
                "body": "Ah. I see. Are you looking for an alternative?",
                "author": "Yallone",
                "score": 1
            },
            {
                "body": "It GTM if you just use the \"Google Tag\" and fire it on Initialization trigger that is the \"config.\" It automatically fires a `page_view` event as well. And, it automatically inherits the consent mode categories like `analytics_storage` etc so it should work well with CookieYes and your existing configuration right out-of-the-box.",
                "author": "nakfil",
                "score": 1
            },
            {
                "body": "If you have Consent Mode V2 enabled GA will send an anonymous ping. It's GDPR compliant as far as I know.\n\nTry using Consent Mode V1 and see if the cookie still persists.\n\nAlthough cookies shouldn't be deleted, it's enough if the tags don't load when consent is denied.",
                "author": "zenith66",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1732025092.0,
        "title": "Problem with Conversion Tracking in Google Ads\n",
        "author": "Longjumping_End5693",
        "id": "1guxvp2",
        "selftext": "Hello everyone,\n\nI am seeking your expertise regarding a recurring issue with conversion tracking on Google Ads. We are using Google Tag Manager (GTM) to send conversion events when our customers submit forms after clicking on a Google Ads advertisement. Despite verifications from Google and a service provider, no conversions are being reported to Google Ads (GADS) and the various objectives. Tagging errors have been ruled out. We use OneTrust as a Consent Management Platform (CMP) - could this be related to a configuration? Is it a setting in Google Ads? Or in GA4? Do you have any leads?\n\nThank you for your help. \n\nPS: The site is a WordPress site with WooCommerce.",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1guxvp2/problem_with_conversion_tracking_in_google_ads/",
        "num_comments": 12,
        "comments": [
            {
                "body": "The issue with the Consent Mode could be a reason. Among onther things, probably.  \n\\- Clear the cookies and run the \"preview\" (in the upper right corner of your dashboard) in the GTM (having tag assistant browser plugin installed won't hurt). Open the ladnign page.\n\n\\- the new tab will open (if not, make sure you don't block the poping windows)\n\n\\- accept (or don't) consents and convert as a user would (submit the form)\n\n\\- go back to the previous tab, in the left menu you have a \"summary\" with all steps that was recorded. Click one by one from buttom to up, and look what tags triggered and what didn't trigger.\n\n\\- When you find one that you think should but didn't, click on it to investigate one. If it's a consent setting, it'll be pretty explicit \"Tag blocked by consent mode\", or something like that.",
                "author": null,
                "score": 5
            },
            {
                "body": "Okay, have to got Google Consent Mode set up in both Google Tage Manager and OneTrust?",
                "author": "Taca-F",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "What are you based?",
                "author": "Taca-F",
                "score": 1
            },
            {
                "body": "Check if your version of GTM container is submited and make sure in „Versions” tab it’s actually live. \n\nRecently I had similar issue and ended up with not enough high level of access to publish changes to the live state… wasted like 20 hours debugging it",
                "author": "Cotusie",
                "score": 1
            },
            {
                "body": "Thanks for your feedback. All my tags are triggering correctly but nothing is coming up in Gads. Conversions remain at 0. But the paid ads coming from GA4 are going up with the conversion. I can't find the root of the problem.",
                "author": "Longjumping_End5693",
                "score": 1
            },
            {
                "body": "Europe",
                "author": "Longjumping_End5693",
                "score": 1
            },
            {
                "body": "Thanks for your reply. My version of the GTM container is submitted and the version tab is online...",
                "author": "Longjumping_End5693",
                "score": 1
            },
            {
                "body": "\"Conversions remain at 0. But the paid ads coming from GA4 are going up with the conversion\"\n\nI didn't get this part. The 0 conversions is in the Google Ads reports, but the in the Google Analytics you see the conversions going up? For the same conversion?",
                "author": null,
                "score": 1
            },
            {
                "body": "Damn, Europe is hard on consent.\n\nLuckily I am in the US and don't need consent.",
                "author": "fappingjack",
                "score": 1
            },
            {
                "body": "I am in Europe and wondering about consent in US. The rules are changing over there right? As in, \"politics are looking into it?\" Or is just one or two states?",
                "author": "MisterMarcoo",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1738336848.0,
        "title": "Serverside GTM shows less data than Client Side GTM?",
        "author": "Pure_Quarter_4711",
        "id": "1ieh4eq",
        "selftext": "I checked Google and Facebook ads data for the serverside and clientside GTM and saw that the serverside data is much less than that of the client side. It should be the opposite. Did anyone encounter such a thing? Any advice? \\[We are not using any CMP yet\\]",
        "score": 5,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1ieh4eq/serverside_gtm_shows_less_data_than_client_side/",
        "num_comments": 5,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Hi, not sure I understand correctly, are you saying that you see more conversions in facebook ads/Google adwords than what you actually get? Because this is happening to me as well, I see more conversinos in the ads platforms that what I have in my CRM, it's been a month and I can't figure out why, as you said it should be the opposite!",
                "author": "MarieLigier",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1726604373.0,
        "title": "Tag Manager Code Placement",
        "author": "bicycleVSCARtoo",
        "id": "1fj9oeh",
        "selftext": "When adding the code to the website for TM, the instructions split the code into 2 chunks - one it says to place in the header and one it says to place in the body. It says to do this for every page. \n\nI've read elsewhere that as long as your header appears on every page, all you need to do is add the code to the head and it will automatically be on every page. My question is do you put BOTH parts of the code in the head (even the one that says body) if you're trying to make sure it appears on every page? Or how do I make sure that both parts are on every page, and every new page, that we create without having to go in and manually add that every single time? Is the body also usually present on every page? ",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1fj9oeh/tag_manager_code_placement/",
        "num_comments": 15,
        "comments": [
            {
                "body": "One of the risks of putting code in the <head> section designed for placement in <body> is you confuse the heck out of the browser.  I've seen a client inadvertantly put a <p></p> tag pair in the <head> section and it broke just about everything because the browser interpreted it as \"well, I guess you meant to put a <body> tag above this, so I'm going to do that for you\".\n\nStrongly not advisable.",
                "author": "StefanAtWork",
                "score": 2
            },
            {
                "body": "Well, theoretically we would be rolling this all out to clients who don't already have GA set up on their site, so it might be a variety of CMSs. I suppose I can just work with the web dev in that case and/or Google specific CMS instructions if I can. \n\nOn our site, which uses Duda, I think they Dev actually said the best practices was to place it all in the body? But yea I guess that make sense that it kind of varies from platform to platform. Thanks for the info!",
                "author": "bicycleVSCARtoo",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "It depends on what you are using. Are you using Wordpress, Drupal, Joomla, Shopify, etc.? \n\nIf you’re using Wordpress, you should be good placing both the main code (header) and the no JavaScript code (body) both in your theme header file. But it really depends on how that file is configured.",
                "author": "growthiqdigital",
                "score": 1
            },
            {
                "body": "[removed]",
                "author": null,
                "score": 1
            },
            {
                "body": "As long as the 1st part is in the <head>, the 2nd part is not strictly necessary. Dont worry too much about it. The more important is the placement of the GTM snippet relative to your cookie management platform (CMP). If you are using something like OneTrust, make sure that GTM is AFTER your CMP.",
                "author": null,
                "score": 1
            },
            {
                "body": "Ah, yea I can see how that might be a problem lol. Thanks for the advice!",
                "author": "bicycleVSCARtoo",
                "score": 1
            },
            {
                "body": "I'm really wondering whether the body code provides any benefit especially on sites where users must opt-in to tracking.\n\nHow is the GTM body code of any relevance in modern browsers, where the intention of that code is to still enable some ability to collect data when JavaScript is disabled?",
                "author": "StefanAtWork",
                "score": 1
            },
            {
                "body": "I don't think it's critical, honestly. OneTrust (and others) and the GTM scripts both launch asynchronously and GTM is going to wait for OneTrustGroupsUpdated (for 3rd-party tags) and potentially for Google Consent Mode updates as well, so the timing becomes non-critical.\n\nI do still recommend exactly the same as you though, purely to avoid clients thinking they can place the script just anywhere.\n\nIt absolutely is critical to place the GTM script after any hardcoded Google Consent Mode 'default' script, in the case where CoMo is not being managed entirely from within GTM.",
                "author": "StefanAtWork",
                "score": 1
            },
            {
                "body": "In general, the best practice is to load Google Tag Manager as early as possible on your website. The reason for this is that you want GTM to effectively be loaded and available before other DOM elements to prevent conflicts. Additionally, if any of your clients use consent mode through GTM, loading it as early as possible will make consent mode work without any conflicting events firing beforehand.\n\nPlace the script tag as high in the head as possible and the noscript directly after the body tag",
                "author": "growthiqdigital",
                "score": 1
            },
            {
                "body": "Yea getting all of that set up ASAP is my goal for sure. We contract a developer to build sites for clients that don't have one, so it's easier to do it then. But some clients already have a site, so just have to work with what we got. \n\nAnother question though if you don't mind: Regarding consent, if I go into my data stream options and click on \"Consent Settings> Manage default consent settings for data collection\" there is a setting that says \"Do you want to automatically mark data collected through your Google tag as consented?\" with two available options: No and Yes. No, which is the default, says \"Google will not use personal data if consent has not been granted by end users.\" My question is, what data is not actually being collected if that setting is on \"No\"? We still have plenty of information coming through on GA, so I guess I'm not really sure what is defined as \"personal data\" or how that is distinguished from...the other data we are collecting. \n\nThanks very much for your help!",
                "author": "bicycleVSCARtoo",
                "score": 1
            },
            {
                "body": "If you select No, you will be solely relying on GA4’s modeling data, which will definitely cause issues with your own data (highly inaccurate) since users won’t be tracked with the standard GA4 cookie.\n\nI would select Yes and then either make sure you have a clear privacy policy page on your site or a cookie banner that states you collect user data for use of remarketing, web analytics, etc.\n\nNo problem at all! Glad to help.",
                "author": "growthiqdigital",
                "score": 1
            },
            {
                "body": "Finding the best practise way to insert GTM across a varity of CMS can take up a bit of time. There's seemingly no consensus on what's \"best\" in any case.\n\nTook me more than a weekend to figure out \"best\" just for WordPress and even then it's still open to debate based on use case. Google Consent Mode has made this quite a bit more complicated.",
                "author": "StefanAtWork",
                "score": 1
            },
            {
                "body": "Oh boy.... please *do not* do this if the sites are accessible in jurisdictions where this would be illegal.\n\nThat includes the UK and all of the EU.\n\nAlso... personal opinion... I find it rude to have a policy that tells users \"we collect your data. Here's a way to opt out, but we already collected enough data to tell which ad you clicked on and we won't tell you until page 83 of our privacy policy how you can request for this to be deleted. We might not delete it when you ask because we think we don't actually have to. Probably. Whatever. Sue us\".\n\nObviously an exaggeration, but .. still though.",
                "author": "StefanAtWork",
                "score": 1
            },
            {
                "body": "Yeah, this is correct. My assumption was that you weren’t including visitors in the UK or EU. \n\nIf you are operating in those jurisdictions, you will need to comply with a full consent banner that allows for users to opt out prior to you collecting their data.",
                "author": "growthiqdigital",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1733822181.0,
        "title": "Google Ads Remarketing - Tag",
        "author": "Jake_hero2636",
        "id": "1haxw67",
        "selftext": "Hi all,\n\nMy Google Ads Remarketing tag when fired in the tag assistant seems to say 'failed' by it. I thought it want something to do with the CMP settings but this isn't the case.\n\nAny advice\n\nThanks ",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1haxw67/google_ads_remarketing_tag/",
        "num_comments": 5,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "How do you know that \"this isn't the case\"?\n\n\nWhat does the console and network calls tell you? Also, do you see any errors flagged in the GTM preview errors tab?",
                "author": "brannefterlasning",
                "score": 1
            },
            {
                "body": "Can you share the url?",
                "author": "MisterMarcoo",
                "score": 1
            },
            {
                "body": "The rest of the container and tags are firing fine. If it was a CMO issue it would affect the other tags right?",
                "author": "Jake_hero2636",
                "score": 1
            },
            {
                "body": "Not necessarily. Also, if you want help please address the questions asked.",
                "author": "brannefterlasning",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1730485605.0,
        "title": "Shopify Custom Pixel || Consent Mode",
        "author": "Objective-Rub9543",
        "id": "1ghca3g",
        "selftext": "Hi everyone,\n\nAs you may know, Shopify recently introduced custom pixels ([https://help.shopify.com/en/manual/promoting-marketing/pixels/custom-pixels/gtm-tutorial](https://help.shopify.com/en/manual/promoting-marketing/pixels/custom-pixels/gtm-tutorial)). We encountered an issue we haven’t been able to resolve, even after consulting Shopify support:\n\nPreviously, we managed CMP consent mode through Google Tag Manager (GTM), leveraging an update event from the CMP as a trigger to update consent settings. However, with the new custom pixel implementation, GTM no longer interacts with the datalayer but instead relies on events from the Shopify sandbox, which require \"subscribing\" to the specific events.\n\nGiven this change, how are you handling consent mode updates?",
        "score": 5,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1ghca3g/shopify_custom_pixel_consent_mode/",
        "num_comments": 7,
        "comments": [
            {
                "body": "Hi, The way I resolved this was to add a javascript click listener to the theme.liquid file that monitored clicks on the cookie consent banner. When a user clicked the banner I published a custom event (https://shopify.dev/docs/api/web-pixels-api/emitting-data#publishing-custom-events) called 'consent\\_update' which I then subscribed to via the Custom Pixel. The Custom Pixel then pushed a dataLayer event that GTM could pick up to run consent as normal.\n\n  \nI'd be happy to explain in more detail if you want to message me directly.",
                "author": "Additional-Low2301",
                "score": 3
            },
            {
                "body": "That sound unreliable. Why listen for clicks when you could listen for the consent change event instead?",
                "author": "brannefterlasning",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Where are you based?",
                "author": "Taca-F",
                "score": 1
            },
            {
                "body": "u/Objective-Rub9543  I think this is what you're looking for: [https://karolkrajcir.com/post/ga4-consent-based-conversion-tracking-on-shopify-with-custom-pixels-cookifi-gtm](https://karolkrajcir.com/post/ga4-consent-based-conversion-tracking-on-shopify-with-custom-pixels-cookifi-gtm)\n\nYou're welcome :)",
                "author": "puk789",
                "score": 1
            },
            {
                "body": "Italy",
                "author": "Objective-Rub9543",
                "score": 1
            },
            {
                "body": "Okay, so assuming your CMP is implemented through GTM and this is how consent mode I operating then you need to turn off anything to do with cookies and consent in Shopify, because otherwise the customer event will be looking for consent through Shopify and won't be able to get it.",
                "author": "Taca-F",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1730730887.0,
        "title": "Cookies being set to \"Denied\" for Default Global Consent in Google Tag Manager may be impacting my Google Ads conversion count?",
        "author": "trucker-123",
        "id": "1gjfobn",
        "selftext": "Hi.  I am using the Cookie Script consent banner (Cookie Script is a certified Google Ads CMP partner) only in the UK and EU for my website.  This means that for countries outside the UK and EU, the Cookie Script consent banner is not being shown on my website. I installed the Cookie Script consent banners with a tag in GTM (Google Tag Manager).\n\nNow the problem is, in Google Ads, the conversion count column on the Campaign Report is not counting some conversions for customers outside the UK and EU.  In fact, I did a test and I clicked on my own ad in Google outside the UK/EU (so I was not given the consent banner), registered on my own website, and I was not counted as a conversion in Google Ads.\n\nI asked Cookie Script support about this and they recommended in GTM, that I set \"Default Consent (Global)\" for my Cookie Script consent banners settings to \"Granted\", and then under \"Default Consent (Region-specific),\" I should add UK and add each country in the EU and set them to \"Denied.\"  \n\nI took a screenshot of Cookie Script support's answer, gave it to Google Ads customer support, and then asked Google Ads customer support if I could do this, and they said no, I can't do it, because setting \"Default Consent (Global)\" for my Cookie Script consent banners settings to \"Granted\" could violate customer privacy outside the UK and EU.  I then asked Google Ads support again if setting \"Default Consent (Global)\" being set to \"Denied\" in GTM is causing some of my customers to not being counted as conversions in Google Ads outside the UK and EU, but they repeated the same customer privacy issue and wouldn't answer my question.\n\nSo given that my consent banner only appears for customers inside the UK and EU, but the consent banner won't appear for customers outside the UK and EU, I have a few questions:\n\n1) Does anybody know if \"Default Consent (Global)\" being set to \"Denied\" would cause conversions to not be counted for customers outside the UK and EU, if my consent banner isn't shown to customers outside the UK and EU? (this is the question that Google Ads customer support refuses to answer directly)\n\n2) Is there a way in GTM where I can have the Cookie Script consent banner tag suppressed outside the UK and EU, so that the issue of consent isn't even on the table outside the UK and EU (would this make it legal outside the UK/EU if consent isn't even on the table like the old days?), and would this work with Google Ads conversion counting?  Before the Cookie Script consent banner and before I transitioned to GTM, I was just using the old Google Ads conversion tag script and conversion counting was working fine in Google Ads - I assume with the old Google Ads conversion tag script, the issue of consent isn't even on the table for outside the UK and EU, so I assume nothing is even violated?",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1gjfobn/cookies_being_set_to_denied_for_default_global/",
        "num_comments": 7,
        "comments": [
            {
                "body": "When you say you registered, do you mean you completed the cookie banner? Without a cookie banner or other consent mechanism, it's odd that the consent would change.\n\nIf you click on the 'container loaded' and 'DOM Ready' events in Tag Assistant, is your consent set to 'Denied' at those stages? If it's granted, this might not be affecting your tracking. Make sure you're clearing your cookies if you've already accepted tracking on the EU version of the site.\n\nNow, I obviously can't tell you this for certain, but it's very unlikely that Google would take action against your account for consent related stuff outside the European Economic Area, which is where they're mostly worried about. And they would most likely warn you before banning you. \n\nI've seen Google Ads threaten accounts in the past for accidentally collecting email addresses in URLs, and they gave the client a couple of months to fix it before they would disable the account. \n\nThat being said, if you were to implement the cookie banner for other regions, you could set it to opt-out rather than opt-in and you'd be fine under the majority of global privacy laws (disclaimer: this is not legal advice). Many users just ignore it completely, so it won't affect your tracking nearly as much as an opt-in banner.\n\nGoogle Support just can't risk recommending something that might violate some country's law, and it's pretty much impossible to know all of them.",
                "author": "winless",
                "score": 3
            },
            {
                "body": "Hey, thanks for your help. It's really appreciated. And thanks for your advice - maybe I'll see if it's possible to put up the consent banner for other regions outside the UK/EU and set it \"opt-out.\" You gave some good information and I'll have to digest the information you gave me over the next few days. Cheers!",
                "author": "trucker-123",
                "score": 3
            },
            {
                "body": "Yes, if your consent banner isn't being shown in some regions, then that could cause conversions not to be counted depending on how it's implemented. \n\nIf it's using Google Consent Mode and sending 'default' to set everything denied but 'update' never happens because the banner doesn't load then that would block cookies. \n\nYou could verify this in preview mode/tag assistant, assuming that you can view the non-EU version of the site. Just check to see if there are values in the Consent tab. \n\nTo your second question, it's theoretically possible but difficult (GTM doesn't inherently know where users are and consent values load before anything else) and I don't think there would be a legal difference between defaulting to granted vs not sending any consent values at all (though I'm not a lawyer).\n\nI'm guessing Google doesn't want to tell you to default to granted while not showing a banner because it would technically violate some privacy laws like CCPA (which requires a way for users to opt out). But whether cookies are granted in GTM just affects tag functionality; you're not using those values as a consent log or anything like that. \n\nI would go with Cookie Script's recommendation, and also consider showing the banner with opt-out defaults in other regions to make sure that you're generally compliant with other privacy laws.",
                "author": "winless",
                "score": 2
            },
            {
                "body": "Hey, thanks for your answer!  I did a test on my own where the consent banner did not appear (because I was outside the UK and EU so I was viewing the non-EU version of the site) using the Google Tag Assistant debugger, and the cookies were all set to \"Denied\" at the beginning, but when I registered, all the cookies were set to \"Granted\" at the very end.  \n\n> I would go with Cookie Script's recommendation\n\nYeah, I wanted to go with Cookie Script's recommendation, but Google Ads support told me not do that (even when I showed them the snapshot of Cookie Script's response) so I probably won't, because it may get my account suspended.",
                "author": "trucker-123",
                "score": 2
            },
            {
                "body": ">When you say you registered, do you mean you completed the cookie banner? Without a cookie banner or other consent mechanism, it's odd that the consent would change.\n\nI meant I did a test registration on my website. I did a test registration just now without the consent banner. I am outside the UK/EU so the consent banner does not pop up for me.  When I did the test now with the Google Tag Assistant debugger, \"Container Loaded\" shows all the cookies start out as \"Denied\" (\"DOM Ready\" shows the same thing - that is all cookies are \"Denied\"):\n\nhttps://i.imgur.com/iLW1gWy.png\n\nAnd by the last \"Consent Update\" event, it shows \"Granted\" for the cookies in under the \"On-page Update\" column:\n\nhttps://i.imgur.com/yCDK6v3.png\n\n\n> Without a cookie banner or other consent mechanism, it's odd that the consent would change.\n\nYeah, it does change as you can see in the photos above, in the Google Tag Assistant debugger, even though the consent banner doesn't come up for me (because I am outside the UK/EU). I also cleared the cookies for my website before I did this test just now in the Google Tag Assistant debugger.",
                "author": "trucker-123",
                "score": 2
            },
            {
                "body": "Odd. I wonder what's causing the consent update. If they're still denied at container loaded then it's going to initially block a lot of tracking (anything that fires on page view), but if there is an update on the same page then any Google tags that were initially blocked should resend hits saying that they now have consent. \n\nMaybe it's some fallback in your CMP if the banner doesn't load.\n\nBasically, if that same thing happens for every non-EU user, then at least for Google tags it should be functionally the same as setting default to granted. \n\nBut for any tags that you manually set up consent checks for (e.g. if you have a Meta pixel), they won't typically know to send an update and the tag would have been blocked.",
                "author": "winless",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1711120818.0,
        "title": "Experience with trustarc?",
        "author": "mar1_jj",
        "id": "1bl1s94",
        "selftext": "Hi all,\n\ndid anyone implement trustarc for CMP - especially for new consent mode?\n\nCompany decided to buy trustarc so it means we have to implement it as well, but can't find many reviews, and what I find, it says experience is not really intuitive and it is harder to implement.\n\nHow does ti work compared to cookiebot or onetrust? Cookiebot is rather straight forward to implement, but onetrust is very tough, especially because their support is useless.",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1bl1s94/experience_with_trustarc/",
        "num_comments": 22,
        "comments": [
            {
                "body": "If you Google “TrustArc GTM integration” you’ll find a Reddit post and some code that will help.\n\nAlso, TrustArc now have a native tag template and they implement consent mode as well, which is a recent addition.",
                "author": "DigitalStefan",
                "score": 2
            },
            {
                "body": "They have promised miracles so I asked for trial period, will check soon. Might have more info in a couple of days.",
                "author": "mar1_jj",
                "score": 2
            },
            {
                "body": "Worth mentioning... the last time I saw the official \"how to implement\" documentation from TrustArc, it did *not* mention their tag template and didn't mention the Google Consent Mode integration.\n\nHopefully they've updated it by now, because otherwise their documentation wasn't too bad.\n\n[https://gist.github.com/stefanatcroud/cd103ecfabf7dbe37d6a13d01557775f](https://gist.github.com/stefanatcroud/cd103ecfabf7dbe37d6a13d01557775f) \\- Implement as a CHTML tag, All Pages and you'll get \"OneTrust style\" data layer pushes on consent events. Suitable for replacing All Pages trigger for 3rd-party tags.\n\nI'd definitely at least experiment with their tag template though, because you should be able to get excellent results.",
                "author": "StefanAtWork",
                "score": 2
            },
            {
                "body": "thank you, I have call with them this week so will push for access asap. If I find anything useful, will reply here.",
                "author": "mar1_jj",
                "score": 2
            },
            {
                "body": "Hi, finally coming back. Been using it now for a couple of weeks, it works fine. It's not the nicest implementation and it would be a lot of work if I had 10 websites or clients but for one website and with their premium support it was pretty straightforward.\n\nTheir documentation is getting better so that helped.",
                "author": "mar1_jj",
                "score": 2
            },
            {
                "body": "Please do! Quite interested to see how you approach this.\n\nI still like \"hardcode your CoMo script and your CMP\", but I've recently come around to thinking that implementing a CMP using a tag template isn't a bad idea so long as CoMo is also handled by the same tag.",
                "author": "StefanAtWork",
                "score": 2
            },
            {
                "body": "Hi, finally coming back. Been using it now for a couple of weeks, it works fine. It's not the nicest implementation and it would be a lot of work if I had 10 websites or clients but for one website and with their premium support it was pretty straightforward.\n\nTheir documentation is getting better so that helped.",
                "author": "mar1_jj",
                "score": 2
            },
            {
                "body": "Alright. Thank you for your replies this morning. This is what makes Reddit great: sometimes it’s trolling, other times it is actually insightful!",
                "author": "Yallone",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Our company currently uses TrustArc for CMP.  \n\nMy experience has been brutal and I would advise to try another provider if not in contract. \n\nThey have updated their guidance but I found their GTM template to be faulty. Apparently their engineering team are looking in to it with no estimated date for resolution. \n\nI would be very interested to hear your experience with TrustArc.",
                "author": "data_analytics_dude",
                "score": 1
            },
            {
                "body": "We're a web agency from The Netherlands that were a bit fed up with Cookiebot. Especially their pricing, but also the amount of code and missing multi-tenancy. If you want to, I can hook you up with our in-house developed CMP. We have it running on about 15 sites now, mostly of our own make, but are looking for ways to help others as well.",
                "author": "Yallone",
                "score": 1
            },
            {
                "body": "Thank you, will check it out.",
                "author": "mar1_jj",
                "score": 1
            },
            {
                "body": "Can you maybe shortlist some issues? So I keep an eye on that.",
                "author": "mar1_jj",
                "score": 1
            },
            {
                "body": "Honestly, trustarc is working good for us.\n\nAnd having to go through procurement again would be pain in the ass. But thank you for the offer.",
                "author": "mar1_jj",
                "score": 1
            },
            {
                "body": "**Reporting tools are not accurate.** Been an outstanding issue for over 14 months. On one day this month we had an 'opt in' rate of 33340% and an opt out rate of 13340%. \n\nJust starting to get accurate looking data 2 weeks ago. TA still increased our pricing during this time. \n\n\n\n**Consent Mode GTM template doesn't work as expected.** Showing errors and custom events (sent via the template) firing more than expected. No estimated date for a solution. Had to find work around to deploy. \n\n\n\n**Overall support is lower than expected.** No expected turn around time advised on tickets.\n\nHaving to repeat myself 3 or 4 times with details, videos and screenshots of issues. Then tickets are marked as complete for me to review and I notice immediately that the issue still exists.  \n\nIt feels like a delay tactic to avoid long support ticket resolution times. \n\n\n\n**Communication is poor.** I planned to update our consent banner, provided a timeline and blocked off time to coordinate and implement the change. On the date of the change TA were awol. Unable to be contacted.  Arrived in to work the next day to an email saying they made the change at some point overnight...",
                "author": "data_analytics_dude",
                "score": 1
            },
            {
                "body": "Thank you for the friendly answer! I completely understand. I get what you’re talking about from experience 🥲. \n\nEdit: I was about to ask what your company thinks about Google Tag Manager as we also have one client (EU50) that are reluctant to using GTM and have switched to another provider. If that’s common, that would be something to learn from. But since you’re already in the GTM subreddit, I think it’s safe to assume that you’re fine with GTM, haha.",
                "author": "Yallone",
                "score": 1
            },
            {
                "body": "Ok, will hopefully reply soon. If I'm not back in 5-6 days, it's because internal blockers and will share info when I find out more. Thanks for this.\n\nPersonally, I would just use cookiebot selfserve solution but...",
                "author": "mar1_jj",
                "score": 1
            },
            {
                "body": "Send me a dm",
                "author": "mar1_jj",
                "score": 1
            },
            {
                "body": "I just edited my post, the question is in there.",
                "author": "Yallone",
                "score": 1
            },
            {
                "body": "Not sure what the context is, but GTM works great for us.\n\nIf they have some privacy concerns or similar, it is what it is...",
                "author": "mar1_jj",
                "score": 1
            },
            {
                "body": "No worries :)",
                "author": "mar1_jj",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1701013026.0,
        "title": "Struggling to get OneTrust Consent Mode To Work With Google Tags",
        "author": "Key-Mountain-3616",
        "id": "184dbcq",
        "selftext": "Hi folks, I've been trying to implement consent mode with OneTrust & GTM, but running into a few issues.\n\n**My setup is as follows**:\n\n1. Tags set up in GTM (UA, GA4, Google Ads, Bing, Meta)\n2. Triggers set up via page view URL on all relevant tags. conversion actions etc\n3. Consent mode enabled in GTM and tags configured with 'no additional consent required'\n4. Consent mode enabled in OneTrust & Auto blocking turned off.\n5. OneTrust script is hardcoded to the site rather than being set up in GTM, and the OneTrust script is the first one that loads up on my site. We are not using a CMP Template.\n\nFurther info:\n\n**I've added this script before GTM code on my site head:**\n\n    <script>\n  // Define dataLayer and the gtag function.\n  window.dataLayer = window.dataLayer || [];\n  function gtag(){dataLayer.push(arguments);}\n\n  // Default ad_storage to 'denied'.\n  gtag('consent', 'default', {\n    'ad_storage': 'denied'\n  });\n</script>\n\n**And added this to the body:** \n\n    <script>\n  function consentGranted() {\n    gtag('consent', 'update', {\n      'ad_storage': 'granted'\n    });\n  }\n</script>\n\n**Further Info**\n\nIn preview mode, I can see my GTM tags fire, but in the consent section in GTM preview. Ad\\_storage is set to denied as expected for default.\n\nOnce I click on 'accept all' on my site's cookie banner, the 'ad\\_storage' is still denied, meaning the user consent is not updating on GTM.\n\nOn the network tab in chrome, I can see GSC: 100, no matter if consent is given or not, this does not change to GCS: 111 which would show 'consent granted'\n\nWhat am I doing wrong? How do I get this to work properly?\n\nThe odd thing is, even though GTM says consent denied, after accepting cookies, I can see a pageview on UA, meaning that the cookie banner is working as it should, but why is it the case that GTM say's its not granted?\n\nBased on what I'm seeing in GTM, would this mean that no conversions would this mean that no conversions would be reported in Google Ads? And is it true that If you don't see any GCS parameter in the network console, this means that consent mode is not configured? The fact that I can see parameters means consent mode is working somewhat?\n\nThe reason I ask this is we had OneTrust set up before using GTM tags, as we had old gtags on our site and although conversions were still being reported in GA4 & UA, we had 0 conversions coming through in Google ads as consent was not configured at the time. Based on this current set up, if all traffic is being set to denied, would Google ads just only show modelled conversions?\n\nWhat would be the cause of the issues we're seeing? What is the perfect way to set up consent mode?\n\nI would greatly appreciate any feedback on this matter. \n\nThanks!",
        "score": 6,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/184dbcq/struggling_to_get_onetrust_consent_mode_to_work/",
        "num_comments": 28,
        "comments": [
            {
                "body": "This is my area of expertise. It’s early and I haven’t had any coffee, but at first glance this sounds like Consent Mode has not been switched on inside OneTrust. Or, if it has been switched on then the OneTrust config needs to be published to make the change live.\n\nI’ll read your post a bit more carefully after I’m properly awake.\n\nProperly awake edit:\n\nYou say you have CoMo switched on in OneTrust, but can you confirm you've re-published the OneTrust script afterward? This is exactly what a client of mine recently forgot to do and ended up with exactly what you're seeing.\n\nIt might not be 100% criticial, but I would ensure your scripts are in this order:-\n\n1. The Consent Mode \"default\" script. *Please also add* `wait_for_update: 500` *as the final line in that script.*\n2. Any existing data layer pushes for e.g. global variables (you might not have this at all, it's not required)\n3. GTM\n4. OneTrust\n\nI'm more inclined to rely on GTM being able to pick up all of the events OneTrust pushes to the data layer if GTM loads before OneTrust does.\n\nGoogle native tags firing prior to consent / with consent denied is entirely normal with Google Consent Mode. Once it's working and you see the 'update' that sets gcs=G111, look in the network tab and you'll see UA and GA4 both re-sending the previous hit (where gcs was G100) with some subtle indicators to the platform about why the hit was sent i.e. it's not a duplicatation.\n\nYour non-Google tags should not be firing from a standard Initialization, All Pages, DOM Ready or Window Loaded. Facebook, Hotjar, TikTok etc should all move to firing on the OneTrustGroupsUpdated trigger.\n\n&#x200B;\n\nEven **more** awake edit:\n\nI'd missed the part where you added a CoMo update script to the <body>. You should remove that. OneTrust will take care of issuing the correct CoMo update command.\n\nEven with everything else  working as expected, by pushing ad\\_storage: \"granted\" in the update, you would defaulting all users to gcs=G110 without their consent, which is also not enough consent for UA or GA4 to fire (both ad\\_storage and analytics\\_storage must be granted).\n\nYou'll also be interfering with OneTrust's own issuance of the update command, which it does immediately prior to pushing OneTrustGroupsUpdated to the data layer.\n\n&#x200B;\n\nA mostly good example of a working implementation: https://www.magnet.co.uk/",
                "author": "DigitalStefan",
                "score": 5
            },
            {
                "body": "I do have Consent Mode 'turned on' inside OneTrust. However OneTrust does not appear reliable with this, and using the tag templates from 8-bit Sheep seems the best route.",
                "author": "Humble_Elderberry_25",
                "score": 3
            },
            {
                "body": "You're going to need to hire someone to check it out. \n\nUpwork probably has someone that's good at OT",
                "author": null,
                "score": 2
            },
            {
                "body": "Here is my OneTrust implementation \n\nhttps://drewspen.weebly.com/blog/onetrust-with-google-consent-mode-entirely-from-gtm",
                "author": "Humble_Elderberry_25",
                "score": 2
            },
            {
                "body": "Interesting. Getting OneTrust implemented purely from GTM can be a challenge. Thanks for sharing.\n\nWorth pointing out that OneTrust can take responsibility for the Google Consent Mode \"update\" command, which I prefer wherever possible. I've used Simo's tag template for Google Consent Mode implementations, but only as a workaround for when there's no other way.",
                "author": "StefanAtWork",
                "score": 2
            },
            {
                "body": "Just do a job search for onetrust\nLook for the guy with all the certifications. \nThere is only one.",
                "author": null,
                "score": 2
            },
            {
                "body": "I mean... I work in that field but Im not on Upwork or Fiverr.  I can give you my company's website if you want but our packages is better fitted for businesses that has many more things to get done. Such as websites, online marketing (Google/Microsoft Ads), social media management, etc",
                "author": "Apart-One4133",
                "score": 2
            },
            {
                "body": "Your website doesn't have any consent management and neither do the first two of your clients I looked at. The third client had a cookie banner, but was tracking me before I could opt-in.\n\nSorry, but that's not a good portforlio example when we're talking about consent management.\n\nIf you or any of your clients want help with implementing a cookie banner and eiher basic or advanced Google Consent Mode, I'm more than happy to help on a priced outcome basis.",
                "author": "DigitalStefan",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "u/DigitalStefan your good example website collects data and sends it to Google without my consent, including \\_cid which with consent mode v2 correctly implemented should be empty.",
                "author": "Fresh-Excuse8408",
                "score": 1
            },
            {
                "body": "Thanks, we’ve definitely published the OT script, i’ll try with removing the update command",
                "author": "Key-Mountain-3616",
                "score": 1
            },
            {
                "body": "Hi, just wondering if you have any experience of implementing consent mode via Adobe Launch instead of GTM?",
                "author": "Danger_Mouse8",
                "score": 1
            },
            {
                "body": "If anyone does find someone on UpWork (or elsewhere) who has a good understanding of consent management, please let me know as well!\n\nSeems to be a rare skill.",
                "author": "StefanAtWork",
                "score": 1
            },
            {
                "body": "Thanks all for your comments. Upon further testing, I’ve noticed that my tags don’t fire at all unless consent is given. On the gtm preview it can’t pick up the tag unless i click on accept all cookies. \n\nThis is testing after removing cookies and then testing again… \n\nScenario: land on site, click accept all cookies, tags fire, but consent state denied\n\nScenario 2: land on site, don’t accept cookies, nothing being shown in gtm preview. \n\nI’m getting really confused about what’s going on",
                "author": "Key-Mountain-3616",
                "score": 1
            },
            {
                "body": "Note the value of `cid` and then either refresh the page or navigate to a new page if it lets you.\n\nCoMo V1 and V2 *should* randomise the client ID on each load until consent is granted. To my knowledge it is not supposed to be empty, but I’m happy to be corrected on this.\n\nYou should also see gcs=“G100” until consent is granted.\n\nEDIT: I should mention I pushed an update to their GTM this morning (prior to your post) and they've also recently updated their OneTrust script because it was sequencing data layer events incorrectly, but it should all be perfect now.\n\nI've just checked and `cid` is indeed being randomised and gcs=\"G100\", which is CoMo working as intended.\n\nThe context for why I remember this randomisation thing for `cid` is that for SPA's you're expected to take care of this randomisation yourself for virtual pageviews.\n\nFinal edit: Thankyou for taking the time to create an account to comment on my post, B.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "I don't. You might have some luck in /r/adobeanalytics maybe. I don't see a specific Adobe Launch subreddit.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "sounds like onetrust is configured to use the restrictive / opt-out until opted in GDPR template. if your audience is the EU then that is the way it should behave. if not then you may want to look at configuring in the onetrust admin console a different onetrust content template that is appropriate for the location of your audience.",
                "author": "Humble_Elderberry_25",
                "score": 1
            },
            {
                "body": "Here's a sneak peek of /r/AdobeAnalytics using the [top posts](https://np.reddit.com/r/AdobeAnalytics/top/?sort=top&t=year) of the year!\n\n\\#1: [Does Page load time affect Conversion? — Analysis](https://np.reddit.com/r/AdobeAnalytics/comments/13fcdla/does_page_load_time_affect_conversion_analysis/)  \n\\#2: [How to find conversion rate from a particular page?](https://np.reddit.com/r/AdobeAnalytics/comments/16lsd39/how_to_find_conversion_rate_from_a_particular_page/)  \n\\#3: [Is there a course or courses that covers start to finish implementation?](https://np.reddit.com/r/AdobeAnalytics/comments/17ymb52/is_there_a_course_or_courses_that_covers_start_to/)\n\n----\n^^I'm ^^a ^^bot, ^^beep ^^boop ^^| ^^Downvote ^^to ^^remove ^^| ^^[Contact](https://www.reddit.com/message/compose/?to=sneakpeekbot) ^^| ^^[Info](https://np.reddit.com/r/sneakpeekbot/) ^^| ^^[Opt-out](https://np.reddit.com/r/sneakpeekbot/comments/o8wk1r/blacklist_ix/) ^^| ^^[GitHub](https://github.com/ghnr/sneakpeekbot)",
                "author": "sneakpeekbot",
                "score": 1
            },
            {
                "body": "I'd forgotten OneTrust certs existed.\n\nNot sure if those certs actually cover \"get OneTrust working perfectly with GTM\", but that is still interesting. Thanks.",
                "author": "StefanAtWork",
                "score": 1
            },
            {
                "body": "I work in that field :)\n\nI'm the only full-time employee in our company that knows how to \"do\" consent management. We work with some regular freelancers who also have the knowledge, but it's a challenge to find people with this niche.\n\nAlways looking for more freelancers.",
                "author": "StefanAtWork",
                "score": 1
            },
            {
                "body": "I'd maybe reach out to OneTrust support, because I've worked with a number of clients and it has been exceptionally reliable. We had one instance where the client published the script after switching Consent Mode on and it caused odd behaviour, but OneTrust support stepped in and resolved it.",
                "author": "StefanAtWork",
                "score": 1
            },
            {
                "body": "I understand, but isn’t the google tag supposed to fire anyway but under the GCS:100 parameter, and change to GCS:111 once consent is given. It’s not doing that at all",
                "author": "Key-Mountain-3616",
                "score": 1
            },
            {
                "body": "I would take a look. \nPretty sure the freelancer i am thinking of is also a GTM specialist. But it's been awhile since I've checked.",
                "author": null,
                "score": 1
            },
            {
                "body": "Alright our Website is Racedesign . ca (Although we are currently rebranding everything with a new website but that doesnt matter much )  Add us to your list of freelancers and we'll see whats happening going from there.",
                "author": "Apart-One4133",
                "score": 1
            },
            {
                "body": "what consent category have you assigned to your Google Tag? it should be an analytics tag so not firing in accordance with GDPR until opted in",
                "author": "Humble_Elderberry_25",
                "score": 1
            },
            {
                "body": "We didnt do consent on our current website cause we're building a new one currently. And also keep in mind that we do more than web design so if the client hired us for managing his social media, managing their online marketing or designing an app, then it wouldnt be us that would be in charge of that .\n\nAs far as Im concerned, I do Google Ads campaign but I can certainly relay your point to our web designer and see what he says. Thanks for the heads up !",
                "author": "Apart-One4133",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1724082343.0,
        "title": "Implementing Consent Mode on GTM?",
        "author": "RavenGirl12",
        "id": "1ew556z",
        "selftext": "Hi!\n\nWith Google's decision to stop third party cookies, I was looking into implementing Consent Mode on the website. The way I understand this works is that if a person accepts cookies, data will be tracked. If they reject cookies, some non identifiable data will still be tracked. If they don't interact with the cookie banner, no data will be tracked. How do I implement this consent mode via GTM?\n\nWould really appreciate your help! Thank you!",
        "score": 7,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1ew556z/implementing_consent_mode_on_gtm/",
        "num_comments": 10,
        "comments": [
            {
                "body": "Not directly answering your question, but in case you haven’t seen, Google reversed their decision to deprecate third-party cookies (https://privacysandbox.com/news/privacy-sandbox-update/).",
                "author": "dkzfifty",
                "score": 3
            },
            {
                "body": "[https://www.youtube.com/watch?v=yZjGzfWDc0Y](https://www.youtube.com/watch?v=yZjGzfWDc0Y)   \n[https://youtu.be/WhHn9emIKHI?si=UOnCpSR\\_ZWBJpAF-](https://youtu.be/WhHn9emIKHI?si=UOnCpSR_ZWBJpAF-)\n\n  \nThey both do exactly the same, except that loves data has some general explanations in the first bit.",
                "author": "Few_Gate8607",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "How I do it for OneTrust.   \n[https://drewspen.weebly.com/blog/onetrust-with-google-consent-mode-entirely-from-gtm](https://drewspen.weebly.com/blog/onetrust-with-google-consent-mode-entirely-from-gtm)",
                "author": "Humble_Elderberry_25",
                "score": 1
            },
            {
                "body": "How I do it for Osano.  \n[https://drewspen.weebly.com/blog/implement-osano-cmp-in-gtm-with-consent-mode](https://drewspen.weebly.com/blog/implement-osano-cmp-in-gtm-with-consent-mode)",
                "author": "Humble_Elderberry_25",
                "score": 1
            },
            {
                "body": "I saw that many people have shared videos and blogs that should be useful for you. However, if you still need expert assistance, feel free to reach out.",
                "author": "MarketerErfan_",
                "score": 1
            },
            {
                "body": "Are you using wordpress? We finally got complianz working pretty easily. Worth a shot they have decent support also.",
                "author": "lefglag",
                "score": 1
            },
            {
                "body": "Hi, we created a full step by step guide for implementing Consent Mode V2 in Google Tag Manager. [https://taggrs.io/en/consent-mode-server-side-tagging/](https://taggrs.io/en/consent-mode-server-side-tagging/)",
                "author": "TAGGRS_io",
                "score": 1
            },
            {
                "body": "I implemented this on my site using Google Site Kit, WP Consent API (a plugin recommended in Site Kit), and the free version of complianz cookie banner.\n\nBasicaly complianz generates the cmplz\\_functional, cmplz\\_marketing and cmplz\\_preferences cookie choices, and the WP Consent API plugin sets them in the Tag Manager you set in Google Site Kit.   \nThe actions are set automatically (aparently), I tested my setup on some laptops and everything as intended.\n\nI didn't even followed the instructions at 19:54 mark on Leon's video [https://youtu.be/yZjGzfWDc0Y?si=WXBodr2-CwIpWfrW&t=1194](https://youtu.be/yZjGzfWDc0Y?si=WXBodr2-CwIpWfrW&t=1194) and In my case, it worked out of the box like I said earier.\n\nBut if I sugest you watch the whole video to figure out the whats, hows and why it works.\n\nPS: Don't waste your money with the premium services that work on subscriptions for something like this. They simply profit on the lack of information there is out there in this matter. In the \"worst case scenario\", if you want a more premium looking cookie banner, just buy the complianz personal license. (I'm not affiliated with anyone).\n\nif you are good at coding, you could even make your own cookie banner. Or ask GPT to help you out.\n\nGood Luck!",
                "author": "ZmeuraPi",
                "score": 1
            },
            {
                "body": "You can find the software use for Consent Mode in GTM Gallery, you’ll need schema/code from the service provider, if setting it up in GTM there are work arounds for those not opting in.",
                "author": "JoanLockwood",
                "score": 0
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1715624816.0,
        "title": "Adding a tag to the tag template gallery",
        "author": "Yallone",
        "id": "1cr6hom",
        "selftext": "Hi there. I have built my own CMP as an alternative to Cookiebot and CookieYes. Now I want to add our tag template to the gallery as we would like to make it easier for our users to install the GTM tag. I have submitted my Github repository several days ago through Google's submission form, however, I have had no communication from Google or whatsoever. \n\nHow will I know that they have successfully received my submission, as well as when the tag has been accepted or denied? \n\nDoes anyone have experience with this? I look forward to hearing from you how the process has been and also what the common types of feedback are. Any input is appreciated.",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1cr6hom/adding_a_tag_to_the_tag_template_gallery/",
        "num_comments": 14,
        "comments": [
            {
                "body": "I did went through that recently. Same experience, no feedback whatsoever. Few months after the submission they just added few issues on the github repository, pointing out some possible bugs and things to improve regarding consent mode. I fixed those issues and couple of days later it was live in the gallery.\n\nI can check exact timelines, but yeah, it may be tricky to see when I did the submission given no confirmation.",
                "author": "small_foot_2490",
                "score": 2
            },
            {
                "body": "Oh, I looked into your profile and find your tool interesting 😁. Right now we do not have a landing page. If you want to test it, it is on the latest website that we’ve launched: https://vanvulpen.eu. The tool can be found at https://consent.studio. The JS for the banners follows the pattern of https://consent.studio/[site url]/banner.js. Is there anything else that you need?",
                "author": "Yallone",
                "score": 2
            },
            {
                "body": "That’s so cool! I do see exclamation marks for some of the tags but I do not see an explanation as to why that is. And everything works fine. Let me know!",
                "author": "Yallone",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Awesome!\n\nAs I read online, the waiting time for approval is very long. I can’t tell you the exact timeframe, though.",
                "author": "finnrt",
                "score": 1
            },
            {
                "body": "Really cool, good job ! Can we test it somewhere? I looked your profile but did not see a link. Let me know when it's live, I'll add it to [tagstack.io](http://tagstack.io) so you can monitor adoption",
                "author": "RCoffee_mug",
                "score": 1
            },
            {
                "body": "I hope that helps a little I'm not sure if there is any way to speed this up.\n\nI guess you may instruct users to import the template file manually in the meantime.",
                "author": "small_foot_2490",
                "score": 1
            },
            {
                "body": "This input is really valuable. Now I know what to expect. Thank you!",
                "author": "Yallone",
                "score": 1
            },
            {
                "body": "Thanks for sharing anyways. Yeah, it got me wondering especially since after having submitted the link to the Git repo, I was like: is this it? But I got no confirmation whatsoever.",
                "author": "Yallone",
                "score": 1
            },
            {
                "body": "That’s weird! I’ve never tried it out. Did you get a on-page confirmation? I don’t know if you can submit it twice just to double-check.",
                "author": "finnrt",
                "score": 1
            },
            {
                "body": "That's perfect, thank you, detection is now working for your banner! You can check it here: [https://tagstack.io/scan?url=vanvulpen.eu](https://tagstack.io/scan?url=vanvulpen.eu)",
                "author": "RCoffee_mug",
                "score": 1
            },
            {
                "body": "Shoot, sorry for that, could you please DM me the domain you used to search where you saw those strange exclamation marks?",
                "author": "RCoffee_mug",
                "score": 1
            },
            {
                "body": "It was the one you mentioned as well.",
                "author": "Yallone",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1723379075.0,
        "title": "I created a Web-Tool for automatically generating a gtm container",
        "author": "tracking-tiger",
        "id": "1epjjwk",
        "selftext": "You can choose, which Plattforms you want to implement tracking codes for. The tool supports Facebook Pixel, TikTok Pixel, GA4, Google Ads and Pinterest Pixel as of now. Depending on your choices in the form it will generate the necessary tags, triggers and variables. You then need to import the container and just change the Pixel/Datastream ID Variables, thats it.\n\nHere is the Tool:\n\n[https://tracking-tiger.de/](https://tracking-tiger.de/)\n\nYou would need to create a free account, since I want to prevent spam.\n\nThe E-Commerce Tracking works with the GA4 Enhanced Ecommerce Datalayer.\n\nThe premium version also has the capability to modify the triggers to only fire with consent, which could be interesting especially for people in the EU. It also only works, if you have Consent Mode V2 enabled in your CMP.\n\nDo you think this would be interesting for digital marketing agencies to automate the process of implementing standard tracking?\n\nI would appreciate some feedback, also in regards to the pricing.",
        "score": 8,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1epjjwk/i_created_a_webtool_for_automatically_generating/",
        "num_comments": 7,
        "comments": [
            {
                "body": "Can't complain much about the free version (as it is free) but if I'm to be frank, in the time it would take me to visit your page, select the tags, download the JSON and import it to my container, I could have used that time to simply click into the Tag gallery and add these tags myself. On top of that, a lot of sites will still need additional customization added to the triggers so I might as well do that myself from the start.\n\n\n\n\nAs for the premium version. A monthly subscription for 49€ makes no sense in this context and is insanely overpriced for what the tool does. Since the generated container will always be identical (as it assumes ecommerce integration with the dataLayer according to Google documentation) you would only ever need to use this tool once. Either I have one site I want to tag or if I'm a consultant and want to re-use the template for future clients I'll just use the original JSON (or one that I've added additional template tags to after the initial export).\n\n\n\n\nYou would be better off cutting the price down to something like 5€ or less and make it a pay-per-use instead of monthly subscription.",
                "author": "brannefterlasning",
                "score": 5
            },
            {
                "body": "Thank you for taking the time to test it, i really appreciate it. My thinking for the pricing was that there are so many cmps out there so that users would have my tool to quickly implement tracking that listens to the consent signals. You have very good points though, i was thinking about the pricing a lot and this is definitely good input for my considerations. I also want to expand the tool, so that it scans the site first and then creates the container based on the data found, maybe that would be more interesting and could be a paid feature instead. Thanks again!",
                "author": "tracking-tiger",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Looks really helpful, will test it with my team and give feedback!",
                "author": "ppcquestioning",
                "score": 1
            },
            {
                "body": "Language selector doesn't work. At least on Firefox on Android.",
                "author": "brannefterlasning",
                "score": 1
            },
            {
                "body": "Thank you!",
                "author": "tracking-tiger",
                "score": 1
            },
            {
                "body": "Ok, thanks. I’ll check it out",
                "author": "tracking-tiger",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1723827337.0,
        "title": "Struggling to get post-consent tags to fire",
        "author": "tallpaullewis",
        "id": "1etty3l",
        "selftext": "I have a \\`Consent Management\\` template and tag run either by a \\`Consent Initialization\\` trigger (for returning users) or a \\`Consent Banner Interaction\\` trigger (for new users). The template uses an \\`updateConsentState\\` function from GTM which does as it says and triggers an \\`Update Consent\\` event. It all works well, I can see the different consent modes updating in the table with no problem. \n\nThis is where I run into a problem. \n\nI have a few custom HTML tags for injecting MS Clarity and other marketing tools. \n\nThey need to fire AFTER the \\`Update Consent\\` event. To me this seems like the most basic of basic things but I have tried:\n\n1. Using the \\`Consent Banner Interaction\\` trigger, but this is too early since the consent is not set\n2. Created a \\`Consent Update\\` trigger in the hope of catching this event, but this never fires (presumably because of the inner workings of the \\`updateConsentState\\` function\n3. Added a timer event which waits 500ms after the variable which changes with the event which triggers the \\`Consent Management\\` template (why you can't put the timer on a trigger!), but this never fires\n4. Using the \\`Fire a tag after X tag\\` which works, but it only fires a single tag, and I have multiple\n   1. so I made a custom tag which fires another trigger which in turn fires my Clarity and other tags (which is really messy and feels out of control)\n5. Used a custom function in my app which exposes a function to push to the dataLayer and so fire a trigger as 2.1 (but this is even worse)\n\n  \nHow tf do you do this? It should be GTM's bread and butter!",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1etty3l/struggling_to_get_postconsent_tags_to_fire/",
        "num_comments": 7,
        "comments": [
            {
                "body": "How I do it for OneTrust.   \n[https://drewspen.weebly.com/blog/onetrust-with-google-consent-mode-entirely-from-gtm](https://drewspen.weebly.com/blog/onetrust-with-google-consent-mode-entirely-from-gtm)",
                "author": "Humble_Elderberry_25",
                "score": 2
            },
            {
                "body": "How I do it for Osano.  \n[https://drewspen.weebly.com/blog/implement-osano-cmp-in-gtm-with-consent-mode](https://drewspen.weebly.com/blog/implement-osano-cmp-in-gtm-with-consent-mode)",
                "author": "Humble_Elderberry_25",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "consent.studio has a custom event built-in that fires when a visitor updates their consent or when a new page is visited with prior consent. Maybe that helps?",
                "author": "Yallone",
                "score": 1
            },
            {
                "body": "**I suspect that you're trying to fire the custom HTML scripts after much of the page has loaded, and that's why it's failing.**\n\n  \n1) Please verify that HTML is not on a site blocklist: [https://stackoverflow.com/questions/76703170/custom-html-tag-not-fired](https://stackoverflow.com/questions/76703170/custom-html-tag-not-fired)\n\n2) Follow the diagnosis here:  \n[https://www.analyticsmania.com/post/tag-in-google-tag-manager-is-not-firing/](https://www.analyticsmania.com/post/tag-in-google-tag-manager-is-not-firing/) \n\n3) You said that you're using a consent template, but the foolish assumption is that you have a banner to go with it, and you're not artificially creating the signals....or are you?  I've done tests without a banner, and it's really difficult to approximate one.  Just thought i would eliminate this possibility.\n\n4) Why do the custom HTML tags containing the marketing tools need to fire after Consent Update?   This is very unusual practice.   Why are you trying to delay the firing of the HTML tags?\n\nIf you tried to trigger the HTML tags with the various actions described, it's no wonder they failed:  it's likely all of these attempted to inject a script long after the page was finished.\n\nRead up on that HTML tag because you're in for a few surprises: it doesn't work like you think.\n\nYou did an incredible job of trying to diagnose yourself before posting on Reddit.  Love how you tried all those things.",
                "author": "Firm_Sense9730",
                "score": 1
            },
            {
                "body": "Works for me. And I run Downnotifier so I know it is up. And works based on recorded traffic in Google Analytics. I cannot debug your Internet connectivity issues with so little information.",
                "author": "Humble_Elderberry_25",
                "score": 1
            },
            {
                "body": "[deleted]",
                "author": null,
                "score": 1
            },
            {
                "body": "I do not need to \"do better research\" to debug your Internet connectivity considerations. That should be your responsibility.",
                "author": "Humble_Elderberry_25",
                "score": 1
            },
            {
                "body": "[deleted]",
                "author": null,
                "score": 0
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1717404434.0,
        "title": "Cookieless pings. Getting different results.",
        "author": "Agreeable_Anteater21",
        "id": "1d6zsx5",
        "selftext": "Hi there,\n\nI recently landed a job as a data analyst and I take care of the integration with GTM, GA4, Ads, etc. It has been really fun so far, except dealing with cookie management, especially Consent Mode V2.\n\nNow to my question: I have a CMP installed, which supposedly already integrates the \"advanced consent mode\" that is supposed to send cookieless pings with anonymous data from users who do not accept consent. So far, my experiments have returned 0 information in GA4. I've also made conversion tests, and in 1 out of 2 cases, the conversion has shown up in Google Ads but not in GA4.\n\nIs anybody else experiencing such inconsistencies? Has anybody been able to set things up so that it's reliable and actually understands what is going on?\n\nThank you a lot in advance.\n\n",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1d6zsx5/cookieless_pings_getting_different_results/",
        "num_comments": 11,
        "comments": [
            {
                "body": "Are you expecting to see the cookieless pings data in GA4? Correct me if I'm wrong but I think the whole point is that this data won't show up directly in GA4 reporting and will \"only\" be used for data modelling behind blended identity reporting option.",
                "author": "small_foot_2490",
                "score": 8
            },
            {
                "body": "[deleted]",
                "author": null,
                "score": 3
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "You’re correct - hope OP sees this response!",
                "author": "Gullible_Attitude_20",
                "score": 1
            },
            {
                "body": "Thank you u/parkrangerDK , I found the menu in the GA4 admin section. Data modeling shows up as inactive still, probably due to lack of enough visitors.",
                "author": "Agreeable_Anteater21",
                "score": 1
            },
            {
                "body": "It's reasonable considering it's not easy to understand it since it's not really clear how it works, and nobody is getting the cookie banners/gdpr correct.",
                "author": "ResearchScience2000",
                "score": 1
            },
            {
                "body": "Got it. I don’t fully understand that either. I just thought that data analysts are exactly the people I would ask for help if needed.",
                "author": "jakub_curik",
                "score": 1
            },
            {
                "body": "You don't need to thank me. My comment is not related to problem with cookieless pings. Other redditors already answered and they're right.",
                "author": "jakub_curik",
                "score": 1
            },
            {
                "body": "u/jakub_curik thanks for your very useful comment.",
                "author": "Agreeable_Anteater21",
                "score": 0
            },
            {
                "body": "You landed job as a data analyst and still you are asking that? Don't get me wrong. I am happy for you and wish you the best but holy fuck.",
                "author": "jakub_curik",
                "score": -1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1717190300.0,
        "title": "What happens if the default consent is granted?",
        "author": "zestandpunch",
        "id": "1d56hk5",
        "selftext": "I'm in the pricess of adding consent mode V2 to our website using Complianz CMP.\n\nOne of the options in the template is to set the default consent states to granted?  \nOut of professional curiosity, what would happen if I did this and why is it even an option? If I just selected granted for all would that mean no matter what the user would be tracked? ",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1d56hk5/what_happens_if_the_default_consent_is_granted/",
        "num_comments": 10,
        "comments": [
            {
                "body": "yeah, it would work just like user clicks accept all on a consent banner. I guess the reason this is technically possible is that there could be privacy regulations that accept opt out policy - track by default, allow user to opt out",
                "author": "small_foot_2490",
                "score": 5
            },
            {
                "body": "That’s why consent settings can be set per region. Australia for example is opt-out.",
                "author": "tresslessone",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "If you set the default consent to granted then you're violating consent laws this may cause huge fines.",
                "author": "analyst_bappy",
                "score": 1
            },
            {
                "body": "Yeah good point! Just thinking about this whole thing. We've been setting up server-side tracking for GA4 and Facebook using tag manager and a Stape server. \n\nIn my mind, server-side tracking is to combat the limitation of cookie tracking e.g. if someone denies cookies I can't track them. \n\nBut if my server side is set up using GA4 and Google requires consent before it will fire tag manager, how is this any different?\n\nOr does server-side stuff fire regardless of cookie policy?",
                "author": "zestandpunch",
                "score": 1
            },
            {
                "body": "For GDPR yes thats the case but for example CCPA not the case as the user has to give explicit consent for this type of law. Depends on the country and region the user is coming from and which data law you need to respect.",
                "author": "dowmi12",
                "score": 1
            },
            {
                "body": "You have any examples of those fines? I've asked myself the same question.",
                "author": "zenith66",
                "score": 1
            },
            {
                "body": "Regarding consent mode or cookies policies server-side does not bring any benefit. Google tags will behave in the same exact way not web- and server-side. Which means either not fire at all or fire in the anonymous/cookie-less mode\n\nYou can do some risky stuff like override consent state server-side, but not sure if it is the right path.\n\nServer-side brings improvements in overall cookies durability or allows to possibly bypass some adblockers, but can't do anything about explicit objection to data processing.\n\n\nIf you want tracking without consent you would need to look into alternatives that don't use ids.",
                "author": "small_foot_2490",
                "score": 1
            },
            {
                "body": "From what I heard from one agency it can be up to 4% of previous year revenue.",
                "author": "small_foot_2490",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1719933491.0,
        "title": "Need help setting up GTM4WP and consent mode",
        "author": "Dry-Connection9911",
        "id": "1dtod59",
        "selftext": "I have a WooCommerce site where I use GTM4WP for tag implementation. For the past month, data has stopped flowing into Google Analytics and other tools. I believe this might be due to incorrect consent mode settings. Could anyone help me set up consent mode properly to ensure the necessary attributes are tracked for analytics?\n\nIs there a CMP that is compatible with GTM4WP and easy to set up?\n\nI've found this guide from the official GTM4WP page: [WebToffee GDPR Cookie Consent Plugin Setup](https://gtm4wp.com/setup-gtm4wp-features/webtoffee-gdpr-cookie-consent-plugin-gtm4wp-how-to-setup), but I find the mentioned consent plugin expensive. Are there any other alternatives that are easy to implement?\n\nThanks in advance!",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1dtod59/need_help_setting_up_gtm4wp_and_consent_mode/",
        "num_comments": 8,
        "comments": [
            {
                "body": "You could use CMP's like Cookiebot, CookieYes and CookieInformation. If you implement them through their GTM tag templates, they should work out of the box. Just remember to:\n\n* activate consent mode in the CMP tag (if not on by default)\n* (activate 'consent overview' in GTM settings)\n* configure consent settings on the tags (all Google tags are automatically configured)\n* check the consent tab in preview mode\n* check the &gcs parameter on Google requests (value should be 'G100' for unconsented hits' and 'G111' for full consent)\n\nBut obviously also check other possible issues. Maybe the CMP is not the problem? Post the URL here and we can probably help debug the issue a bit more.",
                "author": "Drendo",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Could you tell me where you're located, I may be able to help?",
                "author": "Taca-F",
                "score": 1
            },
            {
                "body": "Send me a pm. I have a company in implementing consent mode.",
                "author": "zombiekop",
                "score": 1
            },
            {
                "body": "Sure u/Taca-F ! Europe, Hungary is the location. Also the website visitors are from here.",
                "author": "Dry-Connection9911",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1706189829.0,
        "title": "Any CMPs that fire consent updates before Initialization?",
        "author": "TheTechLad",
        "id": "19f9i98",
        "selftext": "Hello,\n\nGiven how Consent Mode is a big subject nowadays, I was wondering if there are any CMPs that fire the consent update event before Initialization and/or Container Loaded.\n\nIt feels weird using Trigger Groups or consent\\_update events as triggers, though I might have to get used to it. \n\nSo far, I tested CookieYes, CookieBot and OneTrust.\n\nThanks. \n\n&#x200B;\n\n&#x200B;",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/19f9i98/any_cmps_that_fire_consent_updates_before/",
        "num_comments": 17,
        "comments": [
            {
                "body": "Trigger groups have no place in consent management. They were \"the\" solution before everyone got their act together and settled on a model where the CMP would send a DL event that could be used in place of a Page View trigger.\n\nThere are some aspects of consent management where order of scripts and timing of things is important, but GTM and your CMP can happily run asynchronously and we don't have to worry about it.\n\nThere are a few strategies for implementing consent management, but the ideal is you hardcode Google Consent Mode \"default\" script, followed by GTM and your CMP. Your CMP takes care of issuing both a DL event e.g. cookie\\_consent\\_update (CookieBot) and a Google Consent Mode \"update\" call immediately prior to that DL event.\n\nYou fire Google tags from Initialization, All Pages, DOM Ready etc and you fire non-Google tags on the DL event. Use the additional consent settings for non-Google tags to block them or add exception triggers.",
                "author": "StefanAtWork",
                "score": 5
            },
            {
                "body": "Google Consent Mode takes care of it, or rather your CMP should by sending a CoMo \"update\" command. You won't see the tag fire again in Tag Assistant, but if you keep an eye on the Network tab in dev tools, you'll see a hit get sent to GA4 with gcs=\"G111\" (assuming full consent was granted).",
                "author": "DigitalStefan",
                "score": 3
            },
            {
                "body": "If you fire google tags from initialization, they will fire before the consent\\_update, so they will be blocked. Are you not using the \"required consent\" setting? I believe that's necessary, at least for GDPR. Am i missing something? Thanks!",
                "author": "serious_orangutan",
                "score": 2
            },
            {
                "body": "That's absolutely fantastic. I've been scratching my head about how to do it.",
                "author": "benl5442",
                "score": 2
            },
            {
                "body": "It's a tricky topic. Not helped by misinformation from otherwise reliable or seemingly trustworthy sources.\n\nConsent management has been a major focus for my day-to-day at work for more than 2 years and it's still sometimes challenging. Huge brand name companies are still struggling with this because their internal teams don't have the time avaialble to study consent management as a separate discipline.\n\nIt's really no surprise that most websites suck at user privacy. Even the ones that try will likely not succeed.",
                "author": "StefanAtWork",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "You might find useful my take on Taneli Salonen's technique for implementing OneTrust. https://drewspen.weebly.com/blog/onetrust-with-google-consent-mode-entirely-from-gtm",
                "author": "Humble_Elderberry_25",
                "score": 1
            },
            {
                "body": "\"and you fire non-Google tags on the DL event. Use the additional consent settings for non-Google tags to block them or add exception triggers.\"\n\nThis is where I am having trouble.  I am using CookieYes which sends a cookie\\_consent\\_update DL event right after a Consent event.  You are saying to fire these tags on the cookie\\_consent\\_update DL event, but I don't see how to avoid using a trigger group here.  For example, say I have a custom\\_purchase DL event... now I would need to fire the tag on custom\\_purchase AND cookie\\_consent\\_update right?  So only when both events have happened does it fire.\n\nAnother example would be Bing UET Tag... rather than firing on Initialization All Pages I would fire on cookie\\_consent\\_update DL event?  Can't cookie\\_consent\\_update firing multiple times (say if a user kept changing their consent on the same page) really screw up these tags... firing multiples and what not which could skew analytics for example?",
                "author": "pongohopper",
                "score": 1
            },
            {
                "body": "Thanks for this. Just wondering what you do on first view assuming the ga4 tag is on a page view, someone lands on the page, no consent, so it sends a cookieless ping. \n\nThen when someone accepts, how do you get google to send the page view again with all the information in it?",
                "author": "benl5442",
                "score": 1
            },
            {
                "body": "Here is how to set up consent mode with the Osano CMP\nhttps://drewspen.weebly.com/blog/implement-osano-cmp-in-gtm-with-consent-mode",
                "author": "Humble_Elderberry_25",
                "score": 1
            },
            {
                "body": "When you're in an advanced Google Consent Mode context (which in my experience is 99% of all clients!), Google platform tags (Google Tag, GA4 Event, Floodlight, Google Ads etc) will take care of themselves in terms of consent, in which case you follow established best practise which is to fire Google Tag on Initialization, have a separate GA4 Event tag for page views, include a Conversion Linker (if needed) and generally do nothing specifically to those tags in terms of consent management other than mark them as \"no additional consent required\".",
                "author": "StefanAtWork",
                "score": 1
            },
            {
                "body": "Another question I can't find an answer to.  Say I have a tag set to fire 'once per page'... that tag also has additional consent settings set.  The same tag is used as a setup tag for multiple others.  If the firing is denied due to additional consent settings not granted... does that count as the 'once per page' fire?  In other words... will it continue to 'try' and fire until the additional consent requirements are met?",
                "author": "pongohopper",
                "score": 1
            },
            {
                "body": "The rule for 3rd-party tags is ...\n\nIf the trigger is based on All Pages, DOM Ready, Window Loaded etd (i.e. page view, but at different times), you should replace that with a cookie\\_consent\\_update CE trigger with the same conditions.\n\nIf your trigger is already a custom event (custom\\_purchase), you'll want to test whether the custom\\_purchase event is pushed to the data layer reliably later than the cookie\\_consent\\_update event.\n\nI don't like \"once per page\" and any platform that needs it is just badly coded. Microsoft UET included. I haven't had to play with that in a while and I might be wrong about this, but I think the first failed firing counts as that \"once\" and won't fire again when conditions are met.\n\nPossible solution off the top of my head:-\n\n* Remove all triggers from the main \"run once\" config tag. Use sequencing to make it run prior to all of the supporting event tags. Event tags checked to make sure they fire on or after cookie\\_consent\\_update.\n\nIf the config / setup tag is responsible for sending a page view event to the platform, fix it so that it doesn't and instead figure out an event tag separately to send a page view. I do this with every platform anyway because it's just a good idea all around.\n\nAlso... I am not a fan of trigger groups. They don't work intuitively and they harken back to the bad old days when cookie banners and GTM integration was first invented. A trigger group can save the day in the situation you describe, but far too many people think of them as \"triggers, but with an 'and' rule\" and they really are not that at all!",
                "author": "StefanAtWork",
                "score": 1
            },
            {
                "body": "hey! could please help me, i set up cookieyes banner via gtm. noticed one situation: user accepted cookies, then goes to another page in gm I see container loaded with consent denied then I see update event with consent granted. Is that okay? i thought if user accepts cookies every time he goes to another page consent mode will be granted even on the container loaded level",
                "author": "Unique-Exchange-4075",
                "score": 1
            },
            {
                "body": "There are two way of doing it and both are valid.\n\n1. There is a simple Consent Mode \"default\" of denied consent on every page followed by an \"update\" with the correct consent.\n2. The Consent Mode \"default\" looks for the user's previously given consent and sends that consent status, followed by a Consent Mode \"update\" with the same status.\n\nWhat you're seeing isn't necessarily wrong, as long as there's an \"update\" with consent granted at some time during page load.\n\nOption 1 is the easiest to implement and is robust, because you can hardcode it as a simple script.\n\nOption 2 is a bit more sophisticated and I only use it if there's a clear benefit in doing so.\n\n  \nWorth a mention: Using the CookieYes template in GTM should take care of the CoMo \"default\" for you. I need to run a couple of tests on my own implementation because I've seen some strange behavior recently - but if it's working for you I wouldn't worry!",
                "author": "StefanAtWork",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1719846147.0,
        "title": "Loading conversion linker on DOM ready",
        "author": "mapitchf",
        "id": "1dsv61w",
        "selftext": "Hi,\n\nWondering if anyone knows if it would be a problem in GTM to load the google conversion linker on DOM ready rather than container loaded. We have consent mode enabled but the linker tag is firing before consent so I think we are losing a lot of data\n\nThe recommendation seems to be to load the linker on Container Loaded, but right now we have another problem which means we can't load consent mode before the container is loaded, so as a solution I wanted to try and fire the linker on DOM Ready.\n\n  \nAny thoughts if it would be a problem? Or would the problem persist if we are loading cookie consent after the container has loaded anyway?\n\n  \nThanks for any help.",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1dsv61w/loading_conversion_linker_on_dom_ready/",
        "num_comments": 8,
        "comments": [
            {
                "body": "Thanks both. Yes I know ideally firing it on initialization but that right now is out of our control unfortunately. Working towards it as someone else has implemented CM in a pretty weird way. Thanks though appreciate it",
                "author": "mapitchf",
                "score": 3
            },
            {
                "body": "thanks, good shout I've just done the test and can see the cookie there. Current people have done a custom setup directly on site rather than through GTM and Im sure its causing problems but they are reluctant to roll back and use and easier solution",
                "author": "mapitchf",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "No issues. If you want to make sure a tag fires after a specific event (e.g. consent) , you can use a trigger group with consent and gtm.dom, for example. This works if the consent event is fired on all pages",
                "author": "MariusGMG",
                "score": 1
            },
            {
                "body": "Frustrates me that there's plenty of best practise info out there and people still manage to tie themselves up in knots with the implementation!\n\nIf you have advanced CoMo, firing Conversion Linker \"too early\" is not a risk. As soon as the CoMo 'update' happens, Conversion Linker will do its thing. It won't reflect that in Tag Assistant, but it will e.g. copy gclid into the relevant cookie(s).\n\nYou can test it by manually putting ?gclid=TEST123 in the URL and then searching TEST123 in the Application tab in dev tools.",
                "author": "StefanAtWork",
                "score": 1
            },
            {
                "body": "The practise I follow usually involves a hardcoded consent mode 'default' script on site (assuming there isn't a complex / likely to change consent policy), followed by the hardcoded script for the CMP (Consent Management Platform, i.e. the cookie banner provider).\n\nThe CMP takes care of the CoMo 'update' API call.\n\nGTM is then not an active participant in the set up of CoMo or the CMP, but is able to perfectly respond to everything going on.\n\nImplementing CoMo (and the CMP!) via a tag in GTM can be fine and I've done a setup for my employer's site recently where their main brand site is all hardcoded CoMo setup, but a sister brand on a subdomain uses the OneTrust tag template. Same GTM container on both, just to have something to demo to clients who are undecided on best approach.",
                "author": "StefanAtWork",
                "score": 1
            },
            {
                "body": "[removed]",
                "author": null,
                "score": -1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1710947346.0,
        "title": "'once per page' firing 'counts' even if never fired due to exceptions/consent",
        "author": "pongohopper",
        "id": "1bjfq6i",
        "selftext": "Anyone else notice this and expect different behavior?  I have certain tags which I want to fire only once per page.  Problem is, that 'once' counts even if the the tag didn't fire due to exceptions, consent checks, etc.\n\nI've recently implemented consent mode with a cmp and realizing how beneficial, easier, etc things would be if there was a 'once successfully per page' option for tags.  In other words, that one time would only count if the tag successfully fired including exceptions/consent/etc.\n\nExample, tag is setup to fire once per page and has triggers of all pages and consent\\_update with ad\\_storage required as additional consent.  Page loads, ad\\_storage is not granted, and the tag tries to fire, but fails due to consent not given.  A few seconds later, consent\\_update happens and consent IS now given... the tag does not fire because of the previous failed attempt.\n\nNow, if there was another option like 'once successfully per page', it would try firing again and this time do so successfully... all future attempts on the page would not fire because it already successfully has.\n\nI'm sure someone will say 'use once per event' and do this or that, but it is just not the same behavior that is wanted / expected in this case.  It literally says 'tag firing option' and lets you choose 'once per page'... I think most people would expect that to mean it actually fires once per page... not attempts to do so.\n\nPart of this post is a rant because it would make gtm, consent, and possibly other situations work sooooo much nicer and the other is some weird hope that someone at Google/GTM actually sees this and considers this in a future update.\n\nI've come across many others posting the same 'issue' across the web so if you feel the same please upvote and maybe someone will take notice and do something about this in a future gtm update.",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1bjfq6i/once_per_page_firing_counts_even_if_never_fired/",
        "num_comments": 14,
        "comments": [
            {
                "body": "I agree, but:\n\nIf you're using [Consent Mode](https://developers.google.com/tag-platform/security/guides/consent?sjid=14548113254153007427-NC&consentmode=advanced), there's a wait_for_update setting that is supposed to give the CMP/banner a chance to load before tags fire. It's 500ms by default. If your CMP is setting that itself, there might be a setting somewhere in the CMP config to increase that duration.\n\nOtherwise, you could potentially try using a trigger group as the tag trigger, where one of the triggers in the group is what you actually want the tag to fire on, and the other is that consent_update event.",
                "author": "winless",
                "score": 2
            },
            {
                "body": "You're annoyed at folk focusing on the \"but consent stuff\" element of your post, but they aren't exactly wrong to do so.\n\nIf you set the correct triggers, you don't need to worry about the issue you're focusing on, which *is* an important issue to understand and it catches a lot of people out.\n\nI agree. It would be useful to have a \"once per successful firing\" option. We don't have it. We have to work around it.\n\nThe only tag I've heard of that can be problematic is the Microsoft UET tag. I haven't had a lot of hands-on with Microsoft's platform, but I'm told that if you fire the base tag more that once it causes issues.\n\nTrigger Groups would probably solve it, because despite them also being an often misunderstood feature, they do have a property of only firing once per successful matching of grouped trigger conditions.\n\nHowever.... I've not come across any other situation where I'm dealing with consent management and the lack of \"once per successful event\" has caused a problem.",
                "author": "StefanAtWork",
                "score": 2
            },
            {
                "body": "No, your given example is literally that a tag fires before consent is given and doesn’t fire again once consent is given. The rest of the post is complaining about how there isn’t a built in option to fix this.\n\nWhat I wrote, is a solution to the issue you’re facing in the absence of such a feature. The tag will only fire once consent is updated rather than  on page load, and therefore the once per page functionality will work as you want it to.",
                "author": "ArcaneJP",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Change your trigger so that instead of firing on all pages, tags fire at the point where consent is updated. Depends on which CMP you use, but an example could be a custom event for ‘OneTrustGroupsUpdated’ on all pages",
                "author": "ArcaneJP",
                "score": 1
            },
            {
                "body": "u/pongohopper Ended up here because have just been fighting with the same thing - a tag was set to fire \"once per page\", it was being successfully blocked because of consent permissions, but once consent was granted it wouldn't fire again because it thought that it had already fired on that page. The trigger was a \"consent updated\" event that was being added to the dataLayer from the CMP (OneTrust). Was blaming OneTrust originally, because an implementation I did with cookiebot was working, but then I noticed the \"once per page\" setting was on for the tag.\n\nDid you manage to find an acceptable solution? Because at the moment my solution is to turn off the once per page event and be damned for any extra hits that occur. Don't know why the tag was set to fire only once, might need to put a workaround in place within the script itself - it's a custom html tag that is setting up sharing on element or something like that.\n\nSubjectively, I think it's a bug, because otherwise the consent mode stuff makes implementing a CMP much easier than previous iterations.",
                "author": "mcgern_",
                "score": 1
            },
            {
                "body": "Bumped into the same issue. Did anyone find a solutions for this?",
                "author": "-cm_27",
                "score": 1
            },
            {
                "body": "Yep - aware of all that stuff - not the same thing I’m talking about though.",
                "author": "pongohopper",
                "score": 1
            },
            {
                "body": "Issue with this is the OneTrustGroupsUpdated event fires when the page loads and for each time the permissions change. Before consent mode was a thing, you would hook into this event with specific conditions for which group was made active based on values stored in the cookie which is a bit clunky.\n\nWith the availability of consent mode, it is a lot neater to just check for consent change and let the consent mode setting on the tag do the rest. Problem is that the tag will fire when the CMP kicks in and sends it's first OneTrustGroupsUpdated event, then get blocked by consent checks, but this is counted towards it firing \"once per page\", so when consent changes and the event fires again, the tag does not.",
                "author": "mcgern_",
                "score": 1
            },
            {
                "body": "Doesn’t have to be cookie related. You’re not understanding the post.",
                "author": "pongohopper",
                "score": 1
            },
            {
                "body": "Nobody is reading the post - they see the mention of cookie consent and go from there. Do a legit test for ‘once per page’ based on what I said and get back to me - doesn’t have to be cookie related.",
                "author": "pongohopper",
                "score": 0
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1719163866.0,
        "title": "Trigger tag once per page issue",
        "author": "trp_wip",
        "id": "1dmrfij",
        "selftext": "Let's imagine this scenario: I have a tag that I fire on Initialization - All Pages, but the tag requires consent. The tag is set up to only fire once per page. However, for new users, because it fires before cookie consent banner loads, it gets blocked due to the lack of consent. If I set the trigger both on Initialization - All Pages and Consent update custom event, the tag will not fire since it is set to only fire once per page (Consent update would mean firing the tag for the second time). \n\nI had this problem and I found a solution in my setup. However, my question is: is there a way to set a tag to fire once per page, but to ignore that rule if it was blocked due to the consent in the tag settings? In the case above, I would be able to fire it again on Consent update because it was blocked the first time.",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1dmrfij/trigger_tag_once_per_page_issue/",
        "num_comments": 7,
        "comments": [
            {
                "body": "You could do it the old-fashioned way. Create an exception trigger that blocks your tag from firing unless the proper consent is given. ",
                "author": "brannefterlasning",
                "score": 2
            },
            {
                "body": "Oh wow, that's actually ridiculously simple, but didn't cross my mind. Exactly why I posted this. Thanks for the idea!",
                "author": "trp_wip",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Depending on your CMP platform, use `cookie_cat_necessary` or `cookie_consent_update` as your new `All Pages` trigger, and then use the built-in Consent feature to control triggering.",
                "author": "mbkjeldsen",
                "score": 1
            },
            {
                "body": "There’s no such config option within GTM that achieves what you’re asking. The best way to deal with it is to avoid painting yourself into that particular corner in the first place.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "Yeah, that's what I did basically. Since cookie\\_consent\\_update happens before anything else, I set it to fire on that and also set up tag sequencing on other tags, so Google Tag fires before any other tag if not fired already. I wanted to see if there is another way to solve it.",
                "author": "trp_wip",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1709744697.0,
        "title": "How can I load cookie consent banner for specific region with Server Tag Manager",
        "author": "Dry-Apartment-4923",
        "id": "1b84yvp",
        "selftext": "Hi, I've recently implemented Consent Mode V2. So the cookie banner is enabled for all user. But the marketing team don't want show the banner for all region except EEA & US-CA (California).  \n\n\nServer tag manager does set the region header, but I can't use it from client. Did you guys implement any partial CMP solution. If so how did you do it?\n\n  \nI'd appreciate the help  \n",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1b84yvp/how_can_i_load_cookie_consent_banner_for_specific/",
        "num_comments": 13,
        "comments": [
            {
                "body": "Which consent management platform are you using?",
                "author": "analyst_bappy",
                "score": 3
            },
            {
                "body": "This is the right question. It shouldn't be up to GTM to control banner visibility.\n\nOneTrust will give you the tools to do per-region configuration. Trying to shoe-horn this functionality into GTM is a recipe for disaster, not to mention annoying future maintainability.\n\nLet the consent management platform manage consent! GTM is there to listen to and respond to consent signals.",
                "author": "StefanAtWork",
                "score": 3
            },
            {
                "body": "You need to pass users region in a JavaScript enabled cookie from your app's servers when the page loads. Then, define a variable in client side GTM based on this cookie. Now, you can use this variable to conditionally fire the consent banner. \n\nThis is a bit convoluted but it would solve your problem.",
                "author": "GullibleEngineer4",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Bappy vai, We are using cookieinformation. This CMP provider is quite basic compared to other. But our clients preference",
                "author": "Dry-Apartment-4923",
                "score": 1
            },
            {
                "body": "Thanks for the suggestion , went with something similar",
                "author": "Dry-Apartment-4923",
                "score": 1
            },
            {
                "body": "I agree, i was evaluating options. Went with fronted implementation. We already use Geo-location API in our project & region are well defined. So went with implementing our own solution based on that. We also have good system in place not to leak any analytical events or any other tag before consent resoulution",
                "author": "Dry-Apartment-4923",
                "score": 1
            },
            {
                "body": "There is a way to set default value to eu regions as denied and set default value to other regions as accepted. But the banner of Cookie Information will be shown to all.",
                "author": "analyst_bappy",
                "score": 1
            },
            {
                "body": "What did you go with?",
                "author": "GullibleEngineer4",
                "score": 1
            },
            {
                "body": "Interesting, I couldn't find any option to configure it from cookie information. But they suggest customizing the SDK code to do so, which is bit challenging as cookieinformation doesn't provide geo data",
                "author": "Dry-Apartment-4923",
                "score": 1
            },
            {
                "body": "Used geo-location API to determine whether to show the consent popup or not. Until the Geo-location resolved, blocked all tags & anaytics. The region request header set by server side GTM i used to adjust the consent mode in the server side",
                "author": "Dry-Apartment-4923",
                "score": 1
            },
            {
                "body": "Just make sure your page load does not suffer which  can affect your web vitals.",
                "author": "GullibleEngineer4",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1716979560.0,
        "title": "Tag Still Running - Google Ads Purchase Tag (Not Feeding Data to Google Ads)",
        "author": "TCoxy23",
        "id": "1d397ag",
        "selftext": "Hi guys,\n\n&#x200B;\n\nI'm wondering if anybody could help me out. I cannot figure it out for my life, and neither have I had any problems with any tag manager accounts in the past. I have set up a Google Tag that is supposed to be tracking purchase events. The tag fires when I make a test purchase, although its status is not \"succeeded\" but is in fact \"still running.\"   \n\n\nMy shop is WooCommerce, if that has anything to do with it, and the GTM is installed on the website via GTM4WP.  \n\n\nDoes anybody have any suggestions as to what I could be missing? I'd appreciate any help you can give me so I can resolve this as soon as possible. All suggestions and help are welcome!",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1d397ag/tag_still_running_google_ads_purchase_tag_not/",
        "num_comments": 7,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "I am also facing this issue currently. For now, you can check your AW and Gtag and see if any problem shows within preview.",
                "author": "OldAirport2135",
                "score": 1
            },
            {
                "body": "My understanding is that the usual cause of this is the tag being fired on an event that happens immediately prior to a page (re)load. Thus the tag is triggered, but doesn't complete before the current page is unloaded.\n\nI haven't had to try to fix this one, but I've seen one strategy where you try to delay the next page load. I'm not a fan of that, because it just seems a fraglie way to do things that can be changed by a browser at any time.\n\nThe other strategy is to carry over all of the data you need to the next page and then fire the tag on page load. That seems a more sensible option.",
                "author": "StefanAtWork",
                "score": 1
            },
            {
                "body": "Go and connect the AW- destination to the current Google Tag, or try and combine all tags for that business. See if it still happens.",
                "author": "zenith66",
                "score": 1
            },
            {
                "body": "Using any CMP?",
                "author": "analyst_bappy",
                "score": 1
            },
            {
                "body": "Check consent status. Are you using any CMP plugin?",
                "author": "Low_Inspection6571",
                "score": 0
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1710156500.0,
        "title": "On-page consent update trigger",
        "author": "e0nblue",
        "id": "1bc0yr4",
        "selftext": "I've implemented Iubenda as a CMP on my website and I use Google Tag Manager to deploy most of my tracking scripts.  \nI've configured all my tags to require the right consent before firing.  \nBut when a visitor hits my site, obviously the consent state is set to Denied by default to be GDPR compliant. When my tags such as GA4 fire on an All Page Views trigger, they therefore see a Denied consent state and do not fire. If the visitor accepts the right cookies, I see in GTM's debug/preview mode that there is an on-page consent update but no tags figure. The tags only fire on the 2nd page view.  \nIs there a way to fire my basic tags on All Page Views OR an additional trigger that would fire when the right consent is granted so that I can track the landing page hit?",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1bc0yr4/onpage_consent_update_trigger/",
        "num_comments": 11,
        "comments": [
            {
                "body": "Maybe you can try trigger group?\nI am Still on the way to set consent grant for Facebook pixel in tagmanger.",
                "author": "Charliesue_china",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Have you followed Iubenda's own guide? https://www.iubenda.com/en/help/74198-google-consent-mode-set-up-google-tag-manager-with-iubenda",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "[removed]",
                "author": null,
                "score": 1
            },
            {
                "body": "I have, that was the first resource I checked out.  Unfortunately, like I mentioned, most \"Pageview\" tags will only fire on the 2nd page view.",
                "author": "e0nblue",
                "score": 1
            },
            {
                "body": "Hi, so I added a trigger group that then triggers the Facebook page view. However can I add that trigger group to the GA4 page view as well? So that server side can also send the page view (conversion API)",
                "author": "LocksmithAware4210",
                "score": 1
            },
            {
                "body": "If you've followed that exact guide closely, then you should be seeing GA4 page\\_view events being sent even with consent denied. Google Consent Mode will take care of signaling when consent has been granted and you won't see the tag fire again.\n\nEveryone has jumped into learning how to implement consent since the DMA went into effect, so everyone is now speed-running learning just enough of how consent management works to make their site(s) \"compliant\".",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "Use your CMP dedicated datalayer push events as trigger instead of pageview. This way the tags fire as soon as the event is pushed and will fire in the same page and all following ones.\n\n  \n\n\nIm on mobile but an example would be Cookiebot event called \"cookie\\_conscent\\_update\" event for example.\n\n  \n\n\nUse GTM debug on your website and accept or deny cookies and monitor which event related to the conscent changes and use that one.",
                "author": "TheMagam",
                "score": 1
            },
            {
                "body": "I had this with Cookiebot before realizing I hadn’t set the correct trigger for all base tags, regardless of whether they are Google ones and should have appropriate cosent checks built in or not.\nLooks like iubenda’s custom trigger event is called “iubenda_gtm_consent_event”. I’d start from there.",
                "author": "Kacay",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1708614117.0,
        "title": "Consent Mode: Targeting Consent granted, however, Facebook tags not firing",
        "author": "Affectionate_Golf581",
        "id": "1ax8h7g",
        "selftext": "I am currently using the CookieYes CMP, with a SimoAhava consent update tag as part of the cookie banner implementation. \n\nI have set Facebook tags to require additional consent: ad_storage and have also created a JavaScript variable to listen for this consent have used that within the consent mode update tag. \n\nHowever, when consent is granted, the Facebook tag appears to fire within GTM preview mode, however I cannot see a server call for the tag.  \n\nWould appreciate advice on what needs to be changed ",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1ax8h7g/consent_mode_targeting_consent_granted_however/",
        "num_comments": 12,
        "comments": [
            {
                "body": "Yes! So in the end what happened for my case was that the CMP automatically classified certain cookies under other consent classifications, so some FB cookies were classified under analytics consent within the CMP. As a result, granting analytics consent worked but only targeting did not. So would recommend checking out the classification of cookies within the CMP and rearranging if need be.",
                "author": "Affectionate_Golf581",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Why are you using consent update tag. A Cookieyes CMP should be enough.",
                "author": "zombiekop",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you using this process for your Facebook tag? [https://www.cookieyes.com/documentation/features/integrations/block-third-party-cookies-with-google-tag-manager-and-cookieyes/](https://www.cookieyes.com/documentation/features/integrations/block-third-party-cookies-with-google-tag-manager-and-cookieyes/)\n\nEDIT: Took me 15 mins to register for CookieYes and implement in GTM. Facebook tag works as expected. If you can, please post screenshots of your Facebook tag and trigger configuration.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "Just from a quick look at CookieYes, it does seem to send more than the required number of CoMo update events. I can understand a desire to have more manual control, which a CoMo tag would be useful for.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "No, I am not using that configuration. \n\nThe tag in question is a Facebook base pixel, and the trigger is the all pages trigger. The only thing that has been changed is the required consent, for which I have stated ad_storage. \n\nAdditionally, I have already created a variable that is looking for ad storage and it seems to be working as other marketing tags fire correctly. Only Facebook is not firing, however when I grant consent to analytics and targeting I can see the tags fire correctly",
                "author": "Affectionate_Golf581",
                "score": 1
            },
            {
                "body": "Did you ever find a solution for this? I'm having a similar issue with a LinkedIn tag.",
                "author": "Prestigious_Ad_5155",
                "score": 1
            },
            {
                "body": "Thanks!",
                "author": "Prestigious_Ad_5155",
                "score": 1
            },
            {
                "body": "I think I'm having this problem too,  did you have to start a \"Cookie Scan\" to identify these cookies in the CookieYes CMP?  \n\nMy current issue is since I have now set the Consent Mode settings in GTM (e.g. LinkedIn is set as \"analytics\\_storage\" these are now NOT being picked up by the CMP scan, and thus not firing at all. \n\nI think the CookieYes Scanner and the GTM \"Consent Mode\" settings are conflicting with each other right now.",
                "author": "buzbe",
                "score": 1
            },
            {
                "body": "Let me know if this worked! Happy to look into it and help out if it did not.",
                "author": "Affectionate_Golf581",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1700268822.0,
        "title": "Cookie consent banner and GTM tags",
        "author": "Monado_DaysoftheNew",
        "id": "17xu7tj",
        "selftext": "When setting up any GA4 and advertising tags in GTM, do they need to have any sort of consent attached to them if the website has a cookie consent banner? Or does the cookie consent banner cancel out the GTM tags if a user declines?\n\nAlso, what if the website doesn’t have a cookie consent banner?  \n\nLastly, if consent is needed for the Tags, any good resources/videos you recommend that show how to set this up properly in GTM?\n\nThank you!",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/17xu7tj/cookie_consent_banner_and_gtm_tags/",
        "num_comments": 17,
        "comments": [
            {
                "body": "Here is a CMP implementation example.  https://drewspen.weebly.com/blog/implement-osano-cmp-in-gtm-with-consent-mode",
                "author": "Humble_Elderberry_25",
                "score": 4
            },
            {
                "body": "First thing I would do is check / ask what consent management platform the site Is using, then google like, \"OneTrust Google Tag Manager setup\" or \"CookiePro Google Tag manager setup\"  for example. There is usually clear instructions for that vendor. Also, many of them even have GTM templates already in the GTM template gallery, which you can just import into your GTM container. So, it wouldn't be just one document or video, it would vary by the vendor.",
                "author": "nakfil",
                "score": 3
            },
            {
                "body": "Thank you!",
                "author": "Monado_DaysoftheNew",
                "score": 2
            },
            {
                "body": "sorry I didn't answer all your questions clearly. If there IS a consent banner, you should respect a user's choice if they decline, and NOT fire GTM marketing / analytics tags. In that case you should check if the consent management platform has an integration with GTM.\n\nhowever if you do NOT have a consent banner then no, as long as the tags fired are inline with the website privacy policy, in my opinion.\n\nThat said, the privacy landscape is changing constantly and there state level laws in the US that are being passed regularly. Personally, if it's a small business,  it's probably fine. If it's a larger organization, I always defer to their legal team as there are varying levels of risk tolerance.\n\nMy Initial point was that the worst thing you can do is set ad/marketing/analytics cookies on a user's device from GTM if they have clicked \"decline\" on a cookie consent banner.\n\nhope that helps; interested in seeing if other people have different opinions.",
                "author": "nakfil",
                "score": 2
            },
            {
                "body": "Thanks that does help and makes sense.  Do you have any good videos or documents on how to set up consent for Tags for websites that do have a cookie consent banner?",
                "author": "Monado_DaysoftheNew",
                "score": 2
            },
            {
                "body": "If there's a chance the website is visited by EU nationals then you have to provide them with a cookie consent banner and the ability to opt out. Regardless of where your business is based.\n\nAs the previous poster mentioned, the likelihood of a large fine for a small business is going to be relatively small risk but is it worth it when consent products are pretty cheap and respecting user privacy should be the done thing.",
                "author": "mcockram85",
                "score": 2
            },
            {
                "body": "Small correction: For EU users you should be providing them the ability to opt-in, because you should be defaulting to them being opt-out.",
                "author": "StefanAtWork",
                "score": 2
            },
            {
                "body": "Thanks!",
                "author": "Monado_DaysoftheNew",
                "score": 2
            },
            {
                "body": "Yes sorry I typed that in haste you're absolutely right that it's an explicit opt in.",
                "author": "mcockram85",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "You should not fire gtm marketing tags without consent. However, it would be best if you follow the instructions provided by your consent management platform. Most of them have integrations and support for GTM.",
                "author": "nakfil",
                "score": 1
            },
            {
                "body": "[deleted]",
                "author": null,
                "score": 1
            },
            {
                "body": "Even the in the United States?  What if the website doesn’t have a cookie consent banner?  I’m most cases I don’t have access to the CMS either.  I’m just confused if this is absolutely necessary or recommended at this point?",
                "author": "Monado_DaysoftheNew",
                "score": 1
            },
            {
                "body": "Works for me. And I run Downnotifier so I know it is up. And works based on recorded traffic in Google Analytics. I cannot debug your Internet connectivity issues with so little information.",
                "author": "Humble_Elderberry_25",
                "score": 1
            },
            {
                "body": "All websites that have third party cookies in the US should have some sort of notice if only to avoid the privacy troll law suits re wiretapping, pen register, etc. The banner is the equivalent of the notice you hear when you call a call center--this call is being recorded, etc.",
                "author": "Individual_Race_8744",
                "score": 1
            },
            {
                "body": "Every other website works for me.  I'm on a corporate network with a proxy connection from home.  One of those things is the culprit. Many network admins block Weebly, and I think that's my case.",
                "author": "Firm_Sense9730",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1717580519.0,
        "title": "GA4/Tag manager issue",
        "author": "RecentBaseball2180",
        "id": "1d8lxg2",
        "selftext": "Since a week all our visitors are attributed to direct traffic. We didnt make any changes in our data layer or other settings. Does anyone know what issue can cause this problem\n\n[https://ibb.co/Fb59dtK](https://ibb.co/Fb59dtK)  \n",
        "score": 0,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1d8lxg2/ga4tag_manager_issue/",
        "num_comments": 6,
        "comments": [
            {
                "body": "Either UTMs were messed with if it was paid traffic or there is a bug you're seeing in ga4.\n\nThis has happened to me before and it ended up being a google issue that was resolved several days or weeks later. Check UTMs are working correctly first.",
                "author": "TheHobbyist_",
                "score": 3
            },
            {
                "body": "Just to be sure, check the publish history in GTM as well. Perhaps something faulty was published recently.",
                "author": "WorkingBetter",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "We had a similar issue on the 22nd of may. In our case it was due to a faulty consent state send bij the CMP.",
                "author": "agarss",
                "score": 1
            },
            {
                "body": "So many reasons this could be happening and all the results of intentional errors. Have you recently changed your site to use UTMs on internal links? That error will wipe out the true traffic source. Have you recently set up server side redirects that employ a combination of protocol redirect errors and URL query parameter truncation? That will wipe out the true traffic source.",
                "author": "Humble_Elderberry_25",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1709359812.0,
        "title": "Tags not firing after accepting all cookies until after refreshing the website",
        "author": "Kacay",
        "id": "1b4ha5o",
        "selftext": "As part of Google's changes around Consent Mode I recently implemented a CMP (Cookiebot) to a few of our domains via GTM. Everything looks to be working correctly, but the only thing I noticed is that no marketing tags fire until after someone refreshes the website. Given our 'websites' act more like Landing Pages with lengthy content promoting the product, this isn't ideal, as users don't find themselves navigating from sub-page to sub-page.\n\nI installed the Cookiebot tag via the official implementation guide on their website. I found solutions online suggesting adding a piece of code to the Cookiebot tag in GTM, that refreshes the website after accepting as follows:\n\n    function CookiebotCallback_OnAccept() {                                 \n    if (Cookiebot.changed) { document.location.reload(); } }\n\nI looked at adding this by editing the Cookiebot template, but I'm not a coder and not 100% sure where to add this, getting errors around 'Cookiebot' and 'document' not being defined, unable to save.\n\nHas anyone experienced this? Can anyone suggest where to add this code to get it working? Or other solutions to the issue?",
        "score": 4,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1b4ha5o/tags_not_firing_after_accepting_all_cookies_until/",
        "num_comments": 10,
        "comments": [
            {
                "body": "You sent me on the right path... I skipped a step from Cookiebots deployment instructions around switching the tags that used the 'All Pages' trigger to the newly created 'cookie\\_consent\\_update' trigger. 🤦‍♂️ Thanks for the help! /Solved\n\n  \nEdit: Typo",
                "author": "Kacay",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Hey! I can help you with exactly this. We have built our own cookie banner, as an alternative to Cookiebot, and have tackled this issue. Let me know if you're interested.",
                "author": "Yallone",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "How are your triggers looking? I've used Cookiebot a few years ago and the tags were firing straight away after consent without any extra code.",
                "author": "Etianen7",
                "score": 1
            },
            {
                "body": "If you had read the thread (3 whole comments!) instead of just replying to every thread with the \"Cookiebot\" keyword in it, you'd have seen this has been solved, with the solution being I'm a dumbass and skipped a step in the deployment instructions. There is no issue here for you to tackle. \n\nBut good job spamming your product on reddit, sure poeple are gonna love it and definitely switch over. /s",
                "author": "Kacay",
                "score": 1
            },
            {
                "body": "This made me laugh 😂. Glad it’s been solved and thank you for your best wishes.",
                "author": "Yallone",
                "score": 1
            },
            {
                "body": "THANK YOU SO MUCH! I wish you all the best, my dear!",
                "author": "fabulousausage",
                "score": 1
            },
            {
                "body": "You're welcome, glad it worked out!",
                "author": "Etianen7",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1715772069.0,
        "title": "Check GA4 session source medium",
        "author": "Annual_Scratch9029",
        "id": "1csid4c",
        "selftext": "Hello! My organic results have encountered a major growth  after implementing consent mode v2 on my site. I used debug view in order to check if the session source medium is maintained if I enter the site without accepting the cookies, and then the page is refreshed and the session source medium has not changed.\n\n  \nIs there any other way to check if google consent mode can affect results in session atribution?",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1csid4c/check_ga4_session_source_medium/",
        "num_comments": 3,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "If you're not accepting the consent then the session source medium will not change,  when you accept then it should be changed this is the way that the consent will work. If in your case It's not working then I think your consent setup is not configured properly. Which cmp are you using?",
                "author": "analyst_bappy",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1706127286.0,
        "title": "GTM not working when Cookie Preferences are set.",
        "author": "Affectionate_Golf581",
        "id": "19eq1jy",
        "selftext": "Hello, was just wondering what prevents GTM from firing when consent has been set on a cookie banner that has been implemented on a website?\n\nAt the moment, if certain cookies haven’t been accepted, GTM itself is prevented from working . As a result, regardless of how each tag is classified within GTM, none of them fire. \n\nTo be more specific here is an example:\n\nI have switched off functional and analytics cookies via the cookie banner however have left targeting cookies on. Furthermore, as and example, tags for Facebook have been set to required ad_storage. So these tags should fire but don’t seem to. My understanding is that since GTM is being prevented from firing, these tags aren’t firing either.\n\nAny solutions/recommendations as to what I should look into to have GTM fire regardless of what the consent granted by the user is?\n\nI would guess that since GTM is simply a tag management system having it fire regardless of consent state should be okay?\n\nAny suggestions/insight would be helpful!",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/19eq1jy/gtm_not_working_when_cookie_preferences_are_set/",
        "num_comments": 8,
        "comments": [
            {
                "body": "This can happen if someone let's the CMP do \"auto blocking\". Sounds like a great feature, except often this blocks GTM entirely.\n\nGreat for complying with GDPR without much effort, but if you're doing anything sophisticated with consent management it will give you a bad day!\n\nIf you have any hardcoded marketing / analytics scripts, maybe retain the blocking but see if there's a way to add an attribute to the GTM script to ensure the CMP ignores it.\n\nEither that or turn off auto-blocking, but then add attributes to any hardcoded marketing / analytics tags to bring them under control of the CMP.\n\n&#x200B;\n\nIf you share the URL (either here or a DM) I can have a look and see what's going on.",
                "author": "DigitalStefan",
                "score": 3
            },
            {
                "body": "if it is set to not set then the built in consent defaults are ignored. if you chose no additional consent then you get the defaults. if you choose require additional you will get sort of 'append' another check to the defaults. [https://support.google.com/tagmanager/answer/10718549?hl=en#:\\~:text=Tags%20with%20built%2Din%20consent,click%20Advanced%20Settings%20%3E%20Consent%20Settings](https://support.google.com/tagmanager/answer/10718549?hl=en#:~:text=Tags%20with%20built%2Din%20consent,click%20Advanced%20Settings%20%3E%20Consent%20Settings).",
                "author": "Humble_Elderberry_25",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "If you are using OneTrust, you can change it to run entirely from inside GTM and not use AutoBlock. Here is how to set up consent mode with the OneTrust CMP\nhttps://drewspen.weebly.com/blog/onetrust-with-google-consent-mode-entirely-from-gtm",
                "author": "Humble_Elderberry_25",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Or you can switch to a more modern CMP like Osano. Here is how to set up consent mode with the Osano CMP\nhttps://drewspen.weebly.com/blog/implement-osano-cmp-in-gtm-with-consent-mode",
                "author": "Humble_Elderberry_25",
                "score": 1
            },
            {
                "body": "Hey! Thank you so much!!!! This defiiitely did the job. Saw an instant change. I did have a follow up question however, I can see that certain Google analytics tags do fire when consent for ad_storage is provided (only targeting cookies enabled basically). So my question is: do tags that have built in consent checks for ad_storage and analytics_storage work with the logic used by an AND operator or and OR operator?",
                "author": "Affectionate_Golf581",
                "score": 1
            },
            {
                "body": "Not Set does not ignore the built-in consent settings. Google did this on purpose presumably to make it difficult to override user consent.\n\nNot Set means your tag shows up in the \"I haven't bothered\" section of the Consent Overview report.\n\n\"No additional consent\" means you have agreed with the built-in consent and your tag shows up in the \"I've done the right thing\" section of the Consent Overview report.\n\n\"Require additional consent\" means you're either going to add a separate consent category, or if you \"double up\" on ad\\_storage / analytics\\_storage with the built-in consent, the tag will not send cookieless pings and will revert more to what happens if you use an exception trigger.",
                "author": "DigitalStefan",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1704793740.0,
        "title": "**Not sure if this belongs here** Google Consent Mode, GTM, Usercentrics",
        "author": "Fit_Candy2153",
        "id": "192b4it",
        "selftext": "Hi! Two weeks (give or take) ago our events weren't measured accordingly. The ad\\_storage, ad\\_personalization, ad\\_user\\_data are all automatically declined, and are not updated after changing consent. We use Usercentrics as a CMP. \n\nThis causes Google Ads & Google Analtyics to not fire the events anymore and i'm unsure why it's happening. Everything has been set up like our other sites, and there it is working as it should. ",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/192b4it/not_sure_if_this_belongs_here_google_consent_mode/",
        "num_comments": 8,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "This might be a question for Usercentrics, but if you're OK to share the URL either here or in a DM I can investigate.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "Some ideas:  \n\\- does Usercentric has a flag to enable consent mode (Cookiepro has one, Cooliebot not).  \n\\- is the default consent management snippet set before the GTM in your code?  \n\\- triggers for native google tags must NOT check for consent, this is done by the tag itself  \n\\- check that each snippet is in the right sequence  \n\\- in usercentrics loaded via GTM or in code? do you use the Consent Initialisation Trigger?",
                "author": null,
                "score": 1
            },
            {
                "body": "Did you find a fix for this? Experiencing similar issues.",
                "author": "Parade_of_Cubicles",
                "score": 1
            },
            {
                "body": "I have already asked them... But they say it's working (even though when i test it's not...)   . Sure which URL would you need? ;)",
                "author": "Fit_Candy2153",
                "score": 1
            },
            {
                "body": "The URL for the site where you're seeing the issue.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "Check, i thought the GTM preview or something. I'll share the link in DM!",
                "author": "Fit_Candy2153",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1705646220.0,
        "title": "Implementing Google Consent Mode with WooCommerce and Google Tag Manager",
        "author": "pjerz",
        "id": "19acrzb",
        "selftext": "Hi all!  \nI've observed that many websites successfully integrate Google Consent Mode through Google Tag Manager and some kind of CMP, like Cookiebot, for example. But when it comes to e-commerce functionality, they also rely on Google Tag defined through the WooCommerce plugin. This ensures proper functioning of the data layer and provides e-commerce events. On the other hand, it seems that the Google Tag from WooCommerce is loaded before the CMP, and this has led to some complications in configuring this combination effectively.  \nI'm reaching out to the community to seek advice on the best practices for configuring WooCommerce, Google Tag Manager, and a consent management tool like Cookiebot. I want to ensure that our e-commerce events work seamlessly while also maintaining compliance with GDPR. One way would be to define the ecommerce events manually, and keep the Google Tag only in the GTM, but I hope there would be a more simple way to do it.",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/19acrzb/implementing_google_consent_mode_with_woocommerce/",
        "num_comments": 5,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "I haven't touched WooCommerce, but how are you implementing your CMP? If you have it launching from a tag in GTM, that's going to be too late.\n\nWhat plugin are you using to inject GTM? I only know GTM Kit to include the features required to properly implement CoMo with GTM without hand editing theme files. Recent version also implements CoMo V2.\n\nI also only know that hand editing functions.php is a relaible way to implement a CMP.\n\nHaven't got much time at the moment to get into the details. Send me a DM on my personal account /u/digitalstefan and I can follow up if you would like to.",
                "author": "StefanAtWork",
                "score": 1
            },
            {
                "body": "Implementing the OneTrust CMP https://drewspen.weebly.com/blog/onetrust-with-google-consent-mode-entirely-from-gtm",
                "author": "Humble_Elderberry_25",
                "score": 1
            },
            {
                "body": "Implementing the Osano CMP https://drewspen.weebly.com/blog/implement-osano-cmp-in-gtm-with-consent-mode",
                "author": "Humble_Elderberry_25",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1681410757.0,
        "title": "Does Consent Mode work with AdSense?",
        "author": "No-Chip6160",
        "id": "12kyox5",
        "selftext": "Hey, noob question here. Is it possible to display AdSense ads without cookies, prior to cookie consent? I've set up a default consent tag setting everything to \"denied\", but AdSense still places cookies no matter what. The consent tag works according to Tag Assistant, it's set to denied upon consent initialization but AdSense seems to ignore it completely.\n\nIs it even possible to display any ads without cookies? Maybe I'm missing something here, it's quite complicated 🤷",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/12kyox5/does_consent_mode_work_with_adsense/",
        "num_comments": 10,
        "comments": [
            {
                "body": "Only Google native tags within GTM respond to Consent Mode. AdSense will need to be switched off until the user grants ad\\_storage consent.",
                "author": "StefanAtWork",
                "score": 2
            },
            {
                "body": "[If this post doesn't follow the rules report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/).\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Thank you,  \nif it needs to be switched off until consent, then what's the benefit of Consent mode? Right now I block the scripts completely until cookie consent is given, so the net result is identical.  \n\n\nMy point was to display some sort off cookie-less ads in case the user denies consent. Is that possible in any way, assuming I'd stick with Adsense ads?",
                "author": "No-Chip6160",
                "score": 1
            },
            {
                "body": "Incorrect. AdSense respects TCFv2, meaning any CMP that complies with TCFv2.2 will work with adsense.",
                "author": "NotMrMusic",
                "score": 1
            },
            {
                "body": "The point of Consent Mode is that you don't need to block Google tags from firing, e.g. Analytics, Floodlight, Google Ads. They will fire, but they will redact / anonymise data for users who haven't yet consented. That data isn't lost, like it would be if you blocked the tag(s), but it instead feeds a machine learning model to improve attribution and conversion reports. They will still be \"lost\" to sessions / users reports, but for things that affect your own ad spend / bidding strategy, it helps.\n\nAs to cookieless AdSense ads, I don't know. I would say it's unlikely and the alternate is to not display ads to those users or replace them with your own content.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "Thanks for the info. I've ignored TCF for a long time, but I can see 2.2 made some good decisions especially regarding \"legitimate interest\", which was a ridiculous thing.",
                "author": "StefanAtWork",
                "score": 1
            },
            {
                "body": "Thank you,  \n\n\nis there any other way of displaying Google's ads than Adsense? Preferably one that works with Consent Mode, so ads could be served for those few unconsenting users.  \n\n\nOr, possibly could the solution be to use an entirely different ad network?",
                "author": "No-Chip6160",
                "score": 1
            },
            {
                "body": "Fyi, adsense will now **require** you to use a Google certified cmp. You can just use Google's solution if you're feeling lazy, of course.",
                "author": "NotMrMusic",
                "score": 1
            },
            {
                "body": "If you are managing Adsense through GTM you could fire / not fire the tag. Otherwise you need to get into the code for the Adsense implementation in order to listen for consent updates.\n\nI don’t have experience with Adsense or implementing advertising, so I’m at the limits of my knowledge here. Sorry I can’t help further.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "Oh that is pretty interesting. I can understand why. Google seem to be making clear decisions about consent and privacy that leave as little room as possible to launch lawsuits against them.\n\nWin-win, because most of the time this means actual user privacy is starting to happen.\n\nStill a long way to go.",
                "author": "StefanAtWork",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1694745524.0,
        "title": "Google Consent Mode - Regions setting default state",
        "author": "keoto7",
        "id": "16j1gar",
        "selftext": "I have a custom written template which works with OneTrust. But we tried launching last week and all through testing our default consent drew from the proper default consent. But now, the consent mode is always set to the region. \n\nWould love some help with this if anyone has ideas",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/16j1gar/google_consent_mode_regions_setting_default_state/",
        "num_comments": 3,
        "comments": [
            {
                "body": "[If this post doesn't follow the rules report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "I've seen one instance where OneTrust made a change to their script that broke things with Google Consent Mode. Took them \\~40h to revert or fix it. I don't beleive they ever mentioned that it even happened.\n\nWhat is your custom template doing? Have you got a Github link?",
                "author": "StefanAtWork",
                "score": 1
            },
            {
                "body": "are you 'committed' to OneTrust? would you be open to switching to Osano? no, I do not work for Osano. [https://drewspen.weebly.com/blog/implement-osano-cmp-in-gtm-with-consent-mode](https://drewspen.weebly.com/blog/implement-osano-cmp-in-gtm-with-consent-mode)",
                "author": "Humble_Elderberry_25",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1666513591.0,
        "title": "Cookie Consent Management - need help with some basic concepts",
        "author": "griz_fan",
        "id": "ybc641",
        "selftext": "I'm struggling with what might be a very basic concept on how cookie consent management platforms (CMPs) work in conjunction with GTM, so I'm hoping someone here can help clear things up for me.\n\nI've used CMPs like OneTrust or CookieYes for GDPR-compliant cookie consent management, but I've always done this in conjunction with GTM, by setting trigger conditions that look to the first-party cookie set by the CMP to see if consent has been provided and only then firing the tag. \n\nWhere I get confused is that most of these CMPs also claim to work simply by deploying their JavaScript code to the website. This is where I get confused and could use some help. Here's what I think is happening; the CMP JavaScript code has a way to disable functionality in 3rd party tracking tag code, preventing that code from setting any cookies. This would require the CMP code to fire first, and would also require the CMP code to correctly identify and disable any subsequent code that could set a cookie. Am I correct in my understanding?\n\nIf so, this sounds like an easy to deploy process, but not very robust or performant, or am I missing something? \n\nthanks!",
        "score": 5,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/ybc641/cookie_consent_management_need_help_with_some/",
        "num_comments": 3,
        "comments": [
            {
                "body": "Like you, I have dealt with consent management only within GTM. That being said, I have seen how some of them operate when there are hardcoded tags / scripts on the page that also need to be controlled.\n\nThere's usually an \"automatic\" mode, were the CMP script identifies scripts on the page and effectively blocks them from firing without consent.\n\nThe alternate is a \"manual\" mode, where you need to add attributes to the <script> HTML element to identify what (if any) specific consent is required and you also generally will change the script type to \"text/text\" (as opposed to <script type=\"application/javascript\">. The CMP will then handle dynamically changing this if it decides consent is present.\n\nIn general, I tell clients \"no hardcoded scripts. We need everything to be in GTM\" and also push to implement Google Consent Mode, because this is useful in terms of maintaining consent management without worrying about random scripts appearing as well as theoretically providing the balance of respecting user privacy whilst still collecting some data that can be useful.",
                "author": "DigitalStefan",
                "score": 3
            },
            {
                "body": "Hey, we are happy that you are using CookieYes! Your understanding of how CMPs work with GTM is quite spot on.                                                                                                           For any help with GTM implementation for CookieYes, you can check out these guides:\n\n[Google Consent Mode with CookieYes](https://www.cookieyes.com/documentation/implementing-google-consent-mode-using-cookieyes/?ref=reddit)\n\n[Block third-party cookies with GTM](https://www.cookieyes.com/documentation/block-third-party-cookies-with-google-tag-manager-and-cookieyes/?ref=reddit)\n\nWe’d like to also point out that CookieYes allows you to block loading from a particular URL by adding a URL pattern for a cookie.                                                                                  If you have any further questions or concerns, please feel free to write to [support@cookieyes.com](mailto:support@cookieyes.com)",
                "author": "cookieyesHQ",
                "score": 2
            },
            {
                "body": "Thanks for the info. I also take the approach of making sure 100% of all tags/scripts go through GTM. I found an implementation article from CookieYes describing how their process works outside of GTM, where the instruct to add \"attribute “data-cookieyes” to cookie-setting script tag\" so their JavaScript can directly control scripts outside of GTM. \n\nI have a client who has an older site running on an in-house system, where all the original developers were replaced by off-shore devs, so no one really knows how some tags get set. Most are in GTM, and I think I've found the remaining. The devs are hesitant to touch any of the legacy code and move those script to GTM, so if I'm unable to talk them into doing things the right way, at least there's a fallback option.",
                "author": "griz_fan",
                "score": 2
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1648629537.0,
        "title": "Does every event need a cookie consent trigger or do I just need it once with the analytics tool integration?",
        "author": "LeBokLe",
        "id": "ts1w19",
        "selftext": "Basically the question in the title. \n\nWhen I have an event, which is dependent on the users cookie settings, does that need a cookie consent trigger (like \"Analytics cookie activated\").\n\nOr is it enough when I add this trigger only once to the analytics tool integration (like Google Analytics)? As far as I know, this should work, since even though an event might be triggered, nothing gets sent to Google Analytics, right?",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/ts1w19/does_every_event_need_a_cookie_consent_trigger_or/",
        "num_comments": 6,
        "comments": [
            {
                "body": "I think it mostly depends on the CMP you are using and on the tag.\n\nFor instance, if I have the facebook base pixel set in one tag, and all the other facebook standard events in separate tags, I would take care only of the base pixel. (same for LinkedIn).\n\nAbout Google Tags, I usually let the consent mode take care of everything (at least if I am with Cookiebot or Cookiepro, I am having issues with other platforms)",
                "author": null,
                "score": 1
            },
            {
                "body": "For Google Analytics, it's enough to use Consent Mode in the GA4 tag only. But for all non-Google sources (Facebook, linkedIn,...) I would use it on each and every event, not only on the base pixel.\n\nCan indeed vary from CMP to CMP but usually it's pretty well documented.",
                "author": "Podbyrin92mm",
                "score": 1
            },
            {
                "body": "It will work either way but consent mode on each event is a bit more strict.\n\nYou'll see notifications too before you submit a new version of your container that some tags require additional consent so it depends how far you want to take things.",
                "author": "Podbyrin92mm",
                "score": 1
            },
            {
                "body": "Wait, now I'm confused. u/Podbyrin92mm says \n\n>I would use it on each and every event, not only on the base pixel.\n\nbut you\n\n>I would take care only of the base pixel.\n\nWhat is it now?",
                "author": "LeBokLe",
                "score": 1
            },
            {
                "body": "Thanks, exactly what I was looking for. \n\nHow can this be done properly? Does that mean I have to create a trigger group for every single event which need cookie consent? Because when using multiple triggers within an event they all have an OR operator, which would not work.",
                "author": "LeBokLe",
                "score": 1
            },
            {
                "body": "I think it depends on the implementation but either way is ok.\n\nI usually check for consent in the base facebook pixel, because this is the one setting the facebook cookie. For instance this will set the cookie and will send a pageview event.\n\n<!-- Facebook Pixel Code -->  \n<script>  \n  !function(f,b,e,v,n,t,s)  \n  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?  \n  n.callMethod.apply(n,arguments):n.queue.push(arguments)};  \n  if(!f.\\_fbq)f.\\_fbq=n;n.push=n;n.loaded=!0;n.version='2.0';  \n  n.queue=\\[\\];t=b.createElement(e);t.async=!0;  \n  t.src=v;s=b.getElementsByTagName(e)\\[0\\];  \n  s.parentNode.insertBefore(t,s)}(window, document,'script',  \n  'https://connect.facebook.net/en\\_US/fbevents.js');  \n  fbq('init', '{your-pixel-id-goes-here}');  \n  fbq('track', 'PageView');  \n</script>  \n<noscript>  \n  <img height=\"1\" width=\"1\" style=\"display:none\"   \nsrc=\"https://www.facebook.com/tr?id={your-pixel-id-goes-here}&ev=PageView&noscript=1\"/>  \n</noscript>  \n<!-- End Facebook Pixel Code -->\n\nLet's say that I blocked the above code due to missing consent, even if I fire this event no cookie will be set because the event needs the above code to be executed.\n\nfbq('track', 'Purchase', {value: 0.00, currency: 'USD'});\n\nu/Podbyrin92mm solution is indeed cleaner than mine, because console errors will be avoided.\n\n(not native english, I hope it's clear)\n\nPersonally, I love cookiebot how it manage consent with google tag manager. I can just set ad\\_storage as additional required consent without messing too much with the triggers.",
                "author": null,
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1627637554.0,
        "title": "Problem with Tag Manager consent mode and Analytics traffic not showing up in dashboard",
        "author": "gregcy",
        "id": "ouhe92",
        "selftext": "Hi All.\n\nI have setup a site with Universal Analytics to use the Tag Manager consent features in conjunction with a Consent Platform and all is working fine on that front. The problem I have is that when a visitor does not give consent to analytics cookies, even though the analytics hits are still sent to Google Analytics, this data does not show up in any reports.\n\nApparently this a known issue (Thanks to [/u/sahava](https://www.reddit.com/u/sahava/) for his [blog post](https://www.simoahava.com/analytics/consent-mode-google-tags/#restrict-analytics-storage) that helped me finally figure out what was going on) and is due to a new parameter gcs, which includes the consent status of the hit. All traffic with the gcs parameter set doesn't show up at all in the Analytics dashboard.\n\nAs this is a news publisher site, Analytics numbers are very important so I am trying to figure out a workaround. So far I have come up with two possible ideas but have no clue if they are possible or how to implement.\n\n1. One workaround would be to remove the gcs parameter from the hits sent to Analytics. Is this possible? Any pointers to documentation or code that shows how this could be done would be really appreciated. I did try google with no luck.\n2. The second workaround would be to use the \"storage: none\" method as described [here](https://stackoverflow.com/questions/4502128/convert-google-analytics-cookies-to-local-session-storage/19207035#19207035). While this works fine and hits are sent and counted without cookies being set, I can't figure out a way to update this if a user consents to setting cookies. What value should storage be set to for normal operation with cookies? Is is possible to push a new config value with gtag commands that takes effect without refreshing the page?\n\nI would really appreciate any pointers or feedback on the ideas above or to hear any other suggestions or solutions that might help solve this problem.",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/ouhe92/problem_with_tag_manager_consent_mode_and/",
        "num_comments": 2,
        "comments": [
            {
                "body": "GA4 or UA?",
                "author": "morningcoma",
                "score": 2
            },
            {
                "body": "Its with UA. I'll edit the post to clarify that",
                "author": "gregcy",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1757919741.0,
        "title": "Here's what we are doing following Safari GCLID - Google was ahead the whole time",
        "author": "History86",
        "id": "1nheyxz",
        "selftext": "Over the last two weeks my feed on both Linkedin and Reddit has been full of discussions ([example](https://www.reddit.com/r/ServerSideTagging/comments/1n84wab/safari_is_removing_click_tracking_parameters/)) about Safari's privacy updates breaking GCLID. What I haven't seen many people talk about is Google's response. They tried to fix it, broke it further, and are now quietly fixing it again.\n\n**Background:**\n\n1. Safari privacy changes killed GCLID reliability. Panic followed.\n2. Google introduced GBRAID/WBRAID as the \"privacy-safe\" alternative.\n3. Their own API didn't support what we needed:\n   * Enhanced Conversions for Leads couldn't work with GBRAID\n   * One-per-click counting couldn't be used with braid parameters\n   * Custom variables got blocked if braid was present\n\nResult: Our engineering teams built workarounds with dual upload systems and split pipelines while attribution gaps emerged.\n\nFor the sake of clarity, these are all the API conflicts we encountered and that now live in our documentation for future reference:\n\n|**Conflict Type**|**Conflicting Fields/Values**|**Error Message**|**Resolution**|\n|:-|:-|:-|:-|\n|**Click ID Conflicts**|`gclidgbraid` \\+|`VALUE_MUST_BE_UNSET`|Use only one click ID per conversion|\n||`gclidwbraid` \\+|`VALUE_MUST_BE_UNSET`|Use only one click ID per conversion|\n||`gbraidwbraid` \\+|`GBRAID_WBRAID_BOTH_SET`|Use only one click ID per conversion|\n|**Enhanced Conversions for Leads**|`gbraidwbraiduser_identifiers`/  +|`The field cannot be set., at conversions[0].user_identifiers`|`user_identifiers`Remove   field when using gbraid/wbraid|\n||`gbraidwbraid`/  + Enhanced Conversions for Leads|`VALUE_MUST_BE_UNSET`|Enhanced Conversions for Leads cannot use gbraid/wbraid|\n|**Conversion Action Type**|`gbraidwbraid`/  + One-per-click counting|`Conversion actions that use one-per-click counting can't be used with gbraid or wbraid parameters`|`MANY_PER_CLICK`Change to   counting|\n||Wrong conversion action type for Enhanced Conversions|`INVALID_CONVERSION_ACTION_TYPE`|`UPLOAD_CLICKS`Ensure conversion action type is|\n|**Custom Variables**|`gbraidwbraidcustom_variables`/  +|`VALUE_MUST_BE_UNSET`|`custom_variables`Remove   when using gbraid/wbraid|\n|**Enhanced Conversions for Web**|`gbraidwbraid`/  + Enhanced Conversions for Web|`CONVERSION_NOT_FOUND`|Enhanced Conversions for Web not supported with gbraid/wbraid|\n|**Temporal Conflicts**|`conversion_date_time` before click time|`CONVERSION_PRECEDES_EVENT`|Set conversion time after click time|\n||Click older than lookback window|`EXPIRED_EVENT`|Use conversion action with longer lookback window|\n|**Duplicate Conflicts**|`order_id`Same   for multiple conversions|`DUPLICATE_ORDER_ID`|Use unique order IDs|\n||Same click ID + conversion time + action|`CLICK_CONVERSION_ALREADY_EXISTS`|Adjust conversion\\_date\\_time or verify if retry|\n||Multiple conversions in same request|`DUPLICATE_CLICK_CONVERSION_IN_REQUEST`|Remove duplicates from request|\n|**Account/Access Conflicts**|Wrong customer ID for click|`INVALID_CUSTOMER_FOR_CLICK`|Use correct customer ID that owns the click|\n||Conversion action not found/enabled|`NO_CONVERSION_ACTION_FOUND`|Enable conversion action in correct account|\n||Customer data terms not accepted|`CUSTOMER_NOT_ACCEPTED_CUSTOMER_DATA_TERMS`|Accept customer data terms|\n|**Consent Conflicts**|`UNKNOWN`Setting consent to|`RequestError.INVALID_ENUM_VALUE`|`DENIED`Set to   if consent status unknown|\n|**Call Conversion Conflicts**|`always_use_default_value` = false for call conversions|`INVALID_VALUE`|Set to true for WEBSITE\\_CALL/AD\\_CALL types|\n|**Attribution Model Conflicts**|Invalid attribution model|`CANNOT_SET_RULE_BASED_ATTRIBUTION_MODELS`|`GOOGLE_ADS_LAST_CLICKGOOGLE_SEARCH_ATTRIBUTION_DATA_DRIVEN`Use only   or|\n\nKey Takeaways:\n\n* **gbraid/wbraid** cannot be used with Enhanced Conversions for Leads, Enhanced Conversions for Web, custom variables, or one-per-click counting\n* Only one click identifier can be used per conversion (gclid OR gbraid OR wbraid)\n* Enhanced Conversions for Leads requires `user_identifiers` field, which conflicts with gbraid/wbraid usage\n* Each conversion must have unique identifiers (order\\_id, click\\_id + time + action combinations)\n\nInterestingly enough, some of these error returns weren't intentional as outlined in Google developer documentation.\n\n**Now what's next?**\n\nGoogle recently [announced ](https://developers.google.com/google-ads/api/docs/conversions/upload-clicks)that GCLID + GBRAID can now be used together effective October 3rd.  This isn't just a Safari fix, it allows us to send much more contextual data than previously, giving us the infrastructure to rebuild conversion completeness instead of patching leaks.\n\nThen we found another new attribute, [session\\_attributes](https://developers.google.com/google-ads/api/docs/conversions/enhanced-conversions/leads#session_attributes) ([more documentation](https://support.google.com/google-ads/answer/16194756?sjid=7593866035188306243-EU)) - a privacy-safe way to give more context about each visit:\n\n* Campaign source (gad\\_source, gad\\_campaignid)\n* Landing page URL & referrer\n* Session start timestamp\n* User agent\n\nThese signals don't rely on cookies and can be captured via JavaScript helper or passed as key/value pairs into Offline Conversion Import.\n\nWhen click IDs are missing, Google's AI still has rich context to model from. More attributed conversions, better bid optimization, more durable setup for future privacy changes.\n\nThis was never just \"Safari broke GCLID.\" It's about how fragile most conversion architectures were. I believe Google is helping us out here, big time.\n\nBelow you can find a breakdown of the 7 code snippets that can guide you to capture these, either directly in your app or through google tag manager.\n\n    // 1. Capture Click Identifiers from URL\n    function captureClickIdentifiers() {\n      const urlParams = new URLSearchParams(window.location.search);\n      \n      return {\n        gclid: urlParams.get('gclid'),\n        gbraid: urlParams.get('gbraid'), \n        wbraid: urlParams.get('wbraid'),\n        gad_source: urlParams.get('gad_source'),\n        gad_campaignid: urlParams.get('gad_campaignid')\n      };\n    }\n    \n    // 2. Generate Session Attributes (Privacy-Safe Context)\n    function generateSessionAttributes() {\n      const clickIds = captureClickIdentifiers();\n      \n      return {\n        session_start_timestamp: Date.now(),\n        landing_page_url: window.location.href,\n        referrer: document.referrer,\n        user_agent: navigator.userAgent,\n        gad_source: clickIds.gad_source,\n        gad_campaignid: clickIds.gad_campaignid,\n        viewport_size: `${window.innerWidth}x${window.innerHeight}`,\n        timestamp: new Date().toISOString()\n      };\n    }\n    \n    // 3. Enhanced Conversion Data Collection\n    function collectEnhancedConversionData() {\n      // Get user data from form or checkout\n      const email = document.querySelector('[name=\"email\"]')?.value;\n      const phone = document.querySelector('[name=\"phone\"]')?.value;\n      const firstName = document.querySelector('[name=\"first_name\"]')?.value;\n      const lastName = document.querySelector('[name=\"last_name\"]')?.value;\n      const postalCode = document.querySelector('[name=\"postal_code\"]')?.value;\n      const country = document.querySelector('[name=\"country\"]')?.value;\n      \n      return {\n        email: email ? hashUserData(email.toLowerCase().trim()) : null,\n        phone_number: phone ? hashUserData(phone.replace(/\\D/g, '')) : null,\n        first_name: firstName ? hashUserData(firstName.toLowerCase().trim()) : null,\n        last_name: lastName ? hashUserData(lastName.toLowerCase().trim()) : null,\n        postal_code: postalCode,\n        country_code: country\n      };\n    }\n    \n    // 4. SHA-256 Hashing for User Data (PII)\n    async function hashUserData(data) {\n      if (!data) return null;\n      \n      const encoder = new TextEncoder();\n      const dataBuffer = encoder.encode(data);\n      const hashBuffer = await crypto.subtle.digest('SHA-256', dataBuffer);\n      const hashArray = Array.from(new Uint8Array(hashBuffer));\n      \n      return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\n    }\n    \n    // 5. Store Conversion Data for Later Upload\n    function storeConversionData(conversionData) {\n      const clickIds = captureClickIdentifiers();\n      const sessionAttrs = generateSessionAttributes();\n      \n      const conversionPayload = {\n        // Click identifiers (can now use multiple together)\n        gclid: clickIds.gclid,\n        gbraid: clickIds.gbraid,\n        wbraid: clickIds.wbraid,\n        \n        // Conversion details\n        conversion_action: conversionData.conversion_action,\n        conversion_date_time: new Date().toISOString(),\n        conversion_value: conversionData.value,\n        currency_code: conversionData.currency || 'USD',\n        order_id: conversionData.order_id,\n        \n        // Enhanced conversion data\n        user_identifiers: conversionData.user_identifiers,\n        \n        // Session attributes for better AI modeling\n        session_attributes_key_value_pairs: sessionAttrs,\n        \n        // Conversion environment\n        conversion_environment: 'WEB',\n        \n        // Consent (required)\n        consent: {\n          ad_user_data: conversionData.consent?.ad_user_data || 'GRANTED',\n          ad_personalization: conversionData.consent?.ad_personalization || 'GRANTED'\n        }\n      };\n      \n      // Store in localStorage for server-side pickup\n      localStorage.setItem('pending_conversion', JSON.stringify(conversionPayload));\n      \n      // Or send directly to your conversion endpoint\n      sendConversionToServer(conversionPayload);\n    }\n    \n    // 6. Lead Form Conversion Tracking\n    function trackLeadConversion(formData) {\n      const userIdentifiers = collectEnhancedConversionData();\n      \n      const conversionData = {\n        conversion_action: 'customers/YOUR_CUSTOMER_ID/conversionActions/YOUR_LEAD_ACTION_ID',\n        value: formData.lead_value || 0,\n        currency: 'USD',\n        order_id: generateUniqueOrderId(),\n        user_identifiers: [userIdentifiers].filter(id => Object.values(id).some(v => v)),\n        consent: {\n          ad_user_data: getConsentStatus('ad_user_data'),\n          ad_personalization: getConsentStatus('ad_personalization')\n        }\n      };\n      \n      storeConversionData(conversionData);\n    }\n    \n    // 7. E-commerce Conversion Tracking\n    function trackPurchaseConversion(orderData) {\n      const userIdentifiers = collectEnhancedConversionData();\n      \n      const conversionData = {\n        conversion_action: 'customers/YOUR_CUSTOMER_ID/conversionActions/YOUR_PURCHASE_ACTION_ID',\n        value: orderData.total,\n        currency: orderData.currency || 'USD',\n        order_id: orderData.order_id,\n        user_identifiers: [userIdentifiers].filter(id => Object.values(id).some(v => v)),\n        consent: {\n          ad_user_data: getConsentStatus('ad_user_data'),\n          ad_personalization: getConsentStatus('ad_personalization')\n        }\n      };\n      \n      storeConversionData(conversionData);\n    }\n    \n    // 8. Utility Functions\n    function generateUniqueOrderId() {\n      return `order_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n    }\n    \n    function getConsentStatus(consentType) {\n      // Check your consent management platform\n      // Return 'GRANTED' or 'DENIED'\n      return window.gtag && window.gtag.get ? \n        window.gtag.get(consentType) : 'GRANTED';\n    }\n    \n    function sendConversionToServer(conversionPayload) {\n      fetch('/api/google-ads/conversions', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(conversionPayload)\n      }).catch(error => {\n        console.error('Conversion tracking error:', error);\n        // Retry logic or fallback storage\n      });\n    }\n    \n    // 9. Initialize on Page Load\n    document.addEventListener('DOMContentLoaded', function() {\n      // Capture and store click identifiers immediately\n      const clickIds = captureClickIdentifiers();\n      \n      if (clickIds.gclid || clickIds.gbraid || clickIds.wbraid) {\n        sessionStorage.setItem('google_click_ids', JSON.stringify(clickIds));\n        console.log('Google click identifiers captured:', clickIds);\n      }\n      \n      // Set up form submission tracking\n      const forms = document.querySelectorAll('form[data-track-conversion]');\n      forms.forEach(form => {\n        form.addEventListener('submit', function(e) {\n          const formData = new FormData(form);\n          const leadValue = form.dataset.leadValue || 0;\n          \n          trackLeadConversion({\n            lead_value: parseFloat(leadValue),\n            form_data: Object.fromEntries(formData)\n          });\n        });\n      });\n    });\n    \n    // 10. Example Usage\n    /*\n    // For lead forms:\n    <form data-track-conversion data-lead-value=\"50\">\n      <input name=\"email\" type=\"email\" required>\n      <input name=\"phone\" type=\"tel\">\n      <button type=\"submit\">Submit Lead</button>\n    </form>\n    \n    // For e-commerce:\n    // Call after successful checkout\n    trackPurchaseConversion({\n      order_id: 'ORDER_12345',\n      total: 299.99,\n      currency: 'USD'\n    });\n    */",
        "score": 15,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1nheyxz/heres_what_we_are_doing_following_safari_gclid/",
        "num_comments": 9,
        "comments": [
            {
                "body": "We also tried patching it with GBRAID/WBRAID, but ran straight into the exact same conflicts you listed Enhanced Conversions not firing, custom variables breaking, and “VALUE\\_MUST\\_BE\\_UNSET” errors clogging logs. We had to spin up parallel pipelines just to keep uploads flowing, which was a maintenance nightmare.\n\nOnce Google started allowing GCLID + GBRAID together, it was like someone finally pulled the plug out of the drain. The gaps started shrinking, and adding session-level context was honestly the first time I felt like we weren’t just patching leaks but actually building something more durable.\n\nFor us, the biggest win so far has been ecommerce revenue data actually matching across GA4, Ads, and our backend without daily reconciliation. It’s not 100% perfect yet, but it’s night-and-day better than six months ago.",
                "author": "DigMundane5870",
                "score": 3
            },
            {
                "body": "Very interesting, thank you. I couldn’t find any official confirmation that the new Safari setting stripping gclids from URLs is enabled by default (it wasn’t on my iPhone running iOS 26), but I reckon setting up tracking to be “future-proof” is never a bad idea.\n\nI'll keep your snippets, they will come in handy at some point.",
                "author": "cavaillon_666",
                "score": 2
            },
            {
                "body": "I should have named this post “steal my snippets”!",
                "author": "History86",
                "score": 2
            },
            {
                "body": "To be honest, this is all browser side, we capture some events and store them as cookies locally.",
                "author": "History86",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "If you manage to fix this for ecommerce I salute you sir, what a nightmare it has been!",
                "author": "History86",
                "score": 1
            },
            {
                "body": "half the time it still feels like i’m babysitting a very drunk gclid who keeps wandering off and forgetting where the checkout is.",
                "author": "DigMundane5870",
                "score": 1
            },
            {
                "body": "Do you use ga4 or custom tracking?",
                "author": "History86",
                "score": 1
            },
            {
                "body": "Meanwhile, My client still believes browser side tracking should be sufficient",
                "author": "Due_Singer1570",
                "score": 0
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1693415863.0,
        "title": "Google Consent Mode",
        "author": "DigitalStefan",
        "id": "165kq9u",
        "selftext": "There haven't been many posts about Google Consent Mode in this subreddit, but there are a couple of common misconceptions which I've seen caused people to lose a lot of time trying to chase down a faulty implementation.\n\n1. Google native tags fire unexpectedly when there is no user consent.\n2. \"additional consent\" works exactly like an exception / blocking trigger.\n\nTrying to write up a complete how-to for implementing Google Consent Mode is a big project far outside the scope of a Reddit post or even a reasonbly sized blog entry.\n\nThe basics though:-\n\n1. \"CoMo\" is a good shorthand for Google Consent Mode and it's what Google use when discussing it.\n2. CoMo usually works alongside or is implemented by an existing consent management platform, such as CookieBot or OneTrust.\n3. CoMo affects all Google tags such as GA4 Config and Event, Conversion Linker, Floodlights and Google Ads.\n4. Google tags *should* fire without consent (in Tag Assistant in preview mode).\n5. Presence of the \"gcs\" parameter in network hits indicates CoMo is active.\n6. gtag.js retriggers Google tags when the user grants consent / when consent is established on each page load.\n7. You *will not* see tags retrigger in Tag Assistant in preview mode. Chrome dev console, network tab only.\n\nThere are many ways to implement CoMo incorrectly and validating an implementation is a 15-20 minute process.\n\nI can go into more detail if you are struggling with any part of CoMo or consent management in general.",
        "score": 14,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/165kq9u/google_consent_mode/",
        "num_comments": 23,
        "comments": [
            {
                "body": "I recently implemented cookiebot with CoMo enabled and it's dropped our traffic down 50% - we had a different cookie banner before and never had this issue. We only operate within the US. Do we need to have CoMo enabled?",
                "author": "Ok-Tiger-5200",
                "score": 4
            },
            {
                "body": "I have worked up an example implementation using a specific product for illustration. [https://drewspen.weebly.com/blog/implement-osano-cmp-in-gtm-with-consent-mode](https://drewspen.weebly.com/blog/implement-osano-cmp-in-gtm-with-consent-mode)",
                "author": "Humble_Elderberry_25",
                "score": 3
            },
            {
                "body": "Spoiler alert for point 6: At some point CoMo stopped sending the page\\_view event to GA4 after consent was granted. Edit: Turns out this isn't true. DebugView doesn't show the page_view, but after 24 hours or so they surface in GA.",
                "author": "jamieburchell",
                "score": 2
            },
            {
                "body": "Thanks! The Onetrust tag template in gtm has major issues I spoke with their product manager on it. Not sure if there were any changes",
                "author": "Effective-Meat2546",
                "score": 2
            },
            {
                "body": "It’s not exactly required by GA4, but if you’re collecting or want to collect data in GA4 from EEA users with which you would like to generate remarketing audiences,   you’ll need CoMo V2 with the appropriate consent signals as of March 6th.",
                "author": "DigitalStefan",
                "score": 2
            },
            {
                "body": "[If this post doesn't follow the rules report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "I've already set up Google Consent Mode with CookieYes.I needed a CMP to enable Google Consent Mode v2 on my company's website, and CookieYes stood out to me due to its many positive reviews on Reddit. Clear, straightforward documentation was provided, so the setup and integration via Google Tag Manager was a breeze. The dashboard is very simple and intuitive, and I had no trouble finding my way around and understanding the platform's features to get my job done.\n\n[https://www.cookieyes.com/documentation/features/integrations/implementing-google-consent-mode-using-cookieyes/#Method\\_2\\_I\\_6?ref=sooraj](https://www.cookieyes.com/documentation/features/integrations/implementing-google-consent-mode-using-cookieyes/#Method_2_I_6?ref=sooraj)",
                "author": "sooraj-s",
                "score": 1
            },
            {
                "body": "When is Google Consent Mode necessary?",
                "author": "Monado_DaysoftheNew",
                "score": 1
            },
            {
                "body": "Once you have the main tags (base pixel, page\\_view tags) loading based no consent, is there further trigger setup required for for the various events tags you want to fire?",
                "author": "chrismccreery",
                "score": 1
            },
            {
                "body": "Have a question, if I enable GCM in Google Tag manager but haven’t done it inside the cookie banner tool (Osano/Trustarc/Onetrust), what will happen. GTM controls the firing of the tags. If you enable GCM inside the cookie tool, it looks more like an UI to me. Or am my understanding incorrect.",
                "author": "Effective-Meat2546",
                "score": 1
            },
            {
                "body": "“Need” is a strong word!\n\nI’d compare the design of the previous banner to the current one. If you make it easy for users to opt out of tracking, they will. If your traffic is skewed toward mobile and “Deny All” is where your thumb naturally rests when holding a phone, that’s a sure way to increase opt-out rates.\n\nCookieBot is also a strange one, because if you implement via hardcoded script on site, the default behaviour is that it will enable consent mode but will only issue the CoMo “update” and you will need to hardcode the CoMo “default” gtag call yourself.\n\nIf you implement CookieBot entirely within GTM using the official tag template, it handles CoMo entirely for you. You still need to configure it, but you don’t need to worry about gtag scripts on site. \n\nIf you message me the URL of the site I can look and confirm if there are any technical issues artificially inflating your apparent opt-out rates.\n\nIs it possible the previous cookie banner was purely for show and was not effectively controlling consent? I see this happen a lot.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "Great write up. Thanks for sharing.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "CoMo is evolving on almost a weekly basis.\n\nFun fact: It still behaves the “old” way when server-side is involved!",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "I recently implemented CookieYes on my test site: [digitalstefan.com](https://digitalstefan.com)\n\nIt was a quick and easy process, including CoMo V2. It does handle CoMo update events in a slightly strange way, but it does work and shouldn't caused a problem.\n\nNo hardcoding. Purely using the CookieYes tag template.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "Pretty much everywhere, now. Definitely if your website is visited by users within the EU and UK. Probably advisable even if every user is from a jurisdiction that doesn't expressly require user privacy controls.\n\nGoogle has started sending warnings out about improper consent management configurations for OneTrust customers. It's \"you should probably do something about this because your data could be affected\" for now, but could easily become \"if you don't resolve this, your account may be suspended\".",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "Super late reply...\n\nYes. Every tag the reads or writes data to the user's browser needs to be considered for which consent category or categories it should be assigned.\n\n\"data\" means cookies, local storage, session storage... any possible way of recording and reading data that the browser provides.\n\nIf firing a GA4 Event tag writes or reads a cookie, it needs to be consent managed. GTM gives you a massive hint via \"built in consent\" for all Google platform tags. e.g. GA4 tags require ad\\_storage and analytics\\_storage (marketing consent and analytics consent).\n\nYou'll also now see ad\\_user\\_storage and ad\\_personaliztion attached to a lot of Google platform tags. Those aren't indicating \"tag requires this category to work\", but do have an effect on how the collected data can be used.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "If you have a CoMo \"default\" implemented and you don't enable CoMo inside your consent platform, you won't see CoMo \"update\" events. CoMo will not work. Tags will fire, but depending on your default consent state you may not see any data in GA4 etc.\n\nTrustarc recently integrated CoMo V2 in their script (within the past few months). Previously you had to do the entire integration. They also released an official tag template, which is fantastic. OneTrust also released their GTM tag template and now that's my preferred and recommended implementation method.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "I see.  I don’t believe any of the websites we manage have users outside the U.S. and are not targeting anyone outside the U.S.  Is this requirement for the EU and EEA only for Google Ads or is it also for GA4?",
                "author": "Monado_DaysoftheNew",
                "score": 1
            },
            {
                "body": "It’s mainly for EEA, but I would count on EEA similar law spreading slowly to other jurisdictions over time. There are already quite a few (I couldn’t name more than a couple… I don’t get professionally involved in the legal side of things)",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "I saw people discussing language detection being problematic when using the tag template. Are there other concerns?",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "Gotcha’.  Do you know if it’s required in EU and EEA for GA4 or is it strictly related to Google Ads tags only?",
                "author": "Monado_DaysoftheNew",
                "score": 1
            },
            {
                "body": "Not that I’m aware of besides the template being useless in their last version that I imported.",
                "author": "Effective-Meat2546",
                "score": 1
            },
            {
                "body": "I’m on version 612c3 direct from the community gallery. I’m about to recommend this approach to a client (instead of hardcoding).",
                "author": "DigitalStefan",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1718713052.0,
        "title": "Consent Mode Parameters for a Substack",
        "author": "emilepetrone",
        "id": "1dip8wt",
        "selftext": "I have a substack blog, and need to set up consent mode. I am following this template:\n\n[https://developers.google.com/tag-platform/tag-manager/templates/consent-apis](https://developers.google.com/tag-platform/tag-manager/templates/consent-apis)\n\n  \nHowever I am not sure what values to insert for:\n\n\"Your\\_cookie\\_name\"\n\n\"your\\_developer\\_id\"\n\nAny help would be greatly appreciated!",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1dip8wt/consent_mode_parameters_for_a_substack/",
        "num_comments": 6,
        "comments": [
            {
                "body": "Ok great thank you for your help. That is super helpful",
                "author": "emilepetrone",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "While you can still use these instructions to create your own custom template they were really meant for CMP providers.\n\n\nThe cookie name is supposed to be the name of the CMP providers cookie that stores the user-selected consent.\n\n\nThe developer id is the id of the template creator so that they can be recognized in the publishing process and so that users that utilize the template know who developed it.\n\n\n\n\nIf you just want to get up and running quick, I suggest you just pick a ready-made template from the community gallery. Either pick a template developed by your CMP provider or a standalone template by Simo Ahava or other trusted sources.",
                "author": "brannefterlasning",
                "score": 1
            },
            {
                "body": "Did you ever get consent mode set up for your substack site? I am dealing with the same thing currently.",
                "author": "finnwriteswords",
                "score": 1
            },
            {
                "body": "I dont think so",
                "author": "emilepetrone",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1710871309.0,
        "title": "Migrating Google Ads Conversion tracking to GTM, please help.",
        "author": "Axxi222",
        "id": "1biqqki",
        "selftext": "I run an e-commerce site on a small Swedish platform and have done so for nearly a decade. We've used its straightforward built-in modules for tracking conversion in Google Ads, which have worked well.\r  \n\r  \nNow with consent mode and everything going on, I did some research, and it seems that for the most accurate conversion data, Google Tag Manager with \"Enhanced Conversion\"  is the way to go. So, I've decided to migrate over to GTM and to deactivate the built-in module for conversion tracking. I hope I'm doing the right thing?\r  \n\r  \nSo this is what I've set up in GTM:\r  \n\r1. Google Ads Conversion Tracking (Fires on \"purchaseComplete\")\r  \n2. Conversion Linker (Fires on \"All Pages\")  \n\r  \nIn Preview mode, I see the following tags that are found on all pages:\r  \nGoogle tags found:\r  \n\r  \n1. GTM-MMXXXXX (Source: On-page gtag('config'))\r  \n2. G-EFRXXXXXXXX (Source: On-page gtm.js snippet) <-- This is GA4, that I will also migrate over to GTM and deactivate from the site soon.  \n\r  \nNow, only when I do a test purchase, a third tag pops up on the thank you page, with a warning:\r  \n3. AW-XXXXXXXXX (Source: Tag in container GTM-MMXXXXX)\r  \n\r  \n\"This Google tag should have been loaded before sending an event. To fix this, add a Google tag for AW-XXXXXXXXX to your container and configure it to fire on the Initialization - All Pages trigger.\"\n\n\r  \nI am getting conversions in Google Ads, but I'm just afraid I've missed something? ",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1biqqki/migrating_google_ads_conversion_tracking_to_gtm/",
        "num_comments": 9,
        "comments": [
            {
                "body": "When you set up a Google Ads tag in GTM you have several options, one is \"Conversion Linker\", one is \"Conversion Tracking\" ... it sounds like you have implemented these two.\n\nYou also need to implement \"Google Tag\" with your ID, and you should set it to the same trigger as Conversion Linker (all pages).\n\nIf you want to get fancy and ensure no data loss, use the Advanced Settings and \"Tag Sequencing\" to ensure that the Base Tag always fires before the Purchase Event tag.",
                "author": "arebe2",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "I think I had the same problem. Warnings and Google suggested adding a tag from my Adwords account.\n\nCurrently, I have added the AW-xxxxx as an extra destination to the Google tag in the container after reading this blog https://www.simoahava.com/analytics/one-tag-rule-them-all-introducing-google-tag/. The Google tag should now send data to both AdWords and GA4.\n\nThe warnings have disappeared, but I have no clue if it is the right approach. There is not a lot of material on the subject.\n\n  \nI have both Adwords remarketing and GA4 setup in the Tagmanager. Not sure if it causes some conflict.",
                "author": "Glum-Engineer9436",
                "score": 1
            },
            {
                "body": "Thanks for the response!\n\nWhen adding the \"Google Tag\" alongside the \"Conversion Linker\" and \"Conversion Tracking\" in GTM. The warning no longer show up. But looking through various help forums, YouTube guides, etc., no one highlight the necessity of adding \"Google Tag\", they only mention the \"Google Ads Conversion Tracking\" and \"Conversion Linker\" for effective conversion tracking. Could you shed some light on why this might be the case for me?\n\nI've actually managed a similar setup through \"Tag Firing Priority\" settings in GTM. Is this approach okay, or would it be better to use the \"Tag Sequencing\" option for a more reliable setup?\n\nFor reference, I've set up the priorities as follows:  \nConversion Linker - Priority 5  \nGoogle Tag - Priority 4  \nGoogle Ads Conversion Tracking - Priority 3\n\nDoes this order seem correct to you or should the Google Tag fire before the Conversion Linker?",
                "author": "Axxi222",
                "score": 1
            },
            {
                "body": "After consulting with an expert, He is thinking that this \"Google Tag\" that generates warnings might actually be created automatically and could be ignored.   \n  \nThe key takeaway was that as long as everything looks fine when debugging from the GTM-XXX window, it should be alright.   \n  \nBut what i'm trying to understand now is, If having the \"Google Tag\" activated on all pages eliminates the error and doesn't create any apparent issues or conflicts with your current tracking configuration, it might be a solution just to keep the site free from warning messages. Simply the benefit of keeping the tag would be more for aesthetics than for functionality.   \n  \nNot sure what to do haha, will do some testing and decide :D",
                "author": "Axxi222",
                "score": 1
            },
            {
                "body": "Tag firing priority does not wait for a tag to finish before firing the next tag. Tag sequencing does.",
                "author": "brannefterlasning",
                "score": 1
            },
            {
                "body": "It is a little bit mysterious. I tried adding an extra Google Tag with the AW-xxxxx id. That also removed the warning but then I had two Google Tags, so I added an extra destination for the G-xxxx tag.\n\nYeah Im pretty sure it is auto generated. I cant figure it out, when you have Adwords and GA4 linked. What data is share.",
                "author": "Glum-Engineer9436",
                "score": 1
            },
            {
                "body": "Oh ok, i see the difference now, thanks!",
                "author": "Axxi222",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1703094170.0,
        "title": "Can anyone explain TCF 2.0 and how to use it via Google tag manager pixels?",
        "author": "QuietMrFx977",
        "id": "18n0e65",
        "selftext": "Few suppliers have mentioned needing TCF 2.0 on my website for using pixels, can this be done through GTM and if so, does anyone have any articles or videos they could share?",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/18n0e65/can_anyone_explain_tcf_20_and_how_to_use_it_via/",
        "num_comments": 9,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "You need to install a consent management platform like cookiebot.",
                "author": "benl5442",
                "score": 1
            },
            {
                "body": "Also TCF 2.0 is largely discredited as a 'regulation' - it's literally the displays networks deciding what should be tracked.\n\nYour suppliers should aim to follow GDPR which is the world's leading standard.",
                "author": "Taca-F",
                "score": 1
            },
            {
                "body": "Would that fire first/before any pixels like Facebook, linkedin, programmatic ads etc?",
                "author": "QuietMrFx977",
                "score": 1
            },
            {
                "body": "Can you do both or is that unwise? \n\nDidn't realise 2.0 was discredited, do you have any more info on this? Quite eager to read about it",
                "author": "QuietMrFx977",
                "score": 1
            },
            {
                "body": "Yes",
                "author": "Taskenspiller",
                "score": 1
            },
            {
                "body": "Yes there is a special consent initialisation tag type you can use. Just be careful though if you are using a CMP - sometimes the rest of the page initialisation will fire before the consent is actually updated. So make sure you are only recording your clicks and page views etc after consent is updated",
                "author": "Big_al_big_bed",
                "score": 1
            },
            {
                "body": "https://www.campaignasia.com/article/gdpr-its-all-illegal/475634\n\nBasically anything promoted by IAB - in other words, the advertising industry - must be horseshit because they have no interest in actually complying with the law.\n\nThe best you can do, other than have no tracking at all, is at least select the framework which best meets GDPR requirements. This is nearly always literally called 'GDPR' by your CMP vendor.\n\nAlso, if you really care about giving users choice, include a 'Reject All' on the pop-up, not hidden in the preference menu behind it. And yeah, the consent rate will massively decrease.\n\nIf your client is really smart, they'll try to find ways to explain to American and other customers outside Europe why they have chosen to comply with GDPR and use it as a point of trust.",
                "author": "Taca-F",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1669053990.0,
        "title": "Today's difficult lesson with the Conversion Linker tag",
        "author": "DigitalStefan",
        "id": "z15lmx",
        "selftext": "Client has gone through a massive, rushed migration necessitating recreating their entire GTM from scratch in essentially zero time. No chance to do good QA and testing. Hundreds of tags. Lots of custom JS in custom HTML tags to derive business critical data from a data structure that no longer exists, but that data had to be found.\n\nA *big job* for sure.\n\nMany surprise revelations throughout, not least was \"we're ditching our consent management platform. We've got a free one, now\".\n\nThe free one did not interact with the data layer other than to simply set some values indicating consent status. No actual data layer event.\n\nQuick rush to send their devs a spec for how to properly interact with the data layer as well as setting a status cookie, which we can use to determine \"fire / don't fire\" tags when consent is decided.\n\nImplementation goes ahead. Consent status appears in the relevant cookie. Tags can respond to consent and we can pick up when users hit that all important \"allow all\" or \"deny all\" and act appropriately.\n\nExcept the Conversion Linker tag, which is *extremely* important to record new user visits when that user has clicked a paid link on a Google results page, is not firing in all cases.\n\nWhy?\n\nBecause the consent status cookie isn't getting set until some unspecified, but definitely too late, period of time *after* the \"consent update\" event fires. Conversion Linker thinks there's no consent, so it sits on its thumbs and the gclid URL parameter disappears into the abyss.\n\nThis has been live and untouched for weeks, but Black Friday of course reveals an unexpected disparity in conversions attributed to Google Ads. It took quite a while to realise and then understand the why and how of the cause.\n\nThe fix? Easy... consent status was also being set in the data layer. One, small update to the trigger to refer to the data layer instead of the cookie and everything is correct.\n\nLesson learned.",
        "score": 8,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/z15lmx/todays_difficult_lesson_with_the_conversion/",
        "num_comments": 0,
        "comments": []
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1756473595.0,
        "title": "Storing data and Consent Management",
        "author": "KingStonk69",
        "id": "1n379er",
        "selftext": "I am trying to store some trafic data during the visitors sessions.\n\nThe data is sent to an external CRM when a form is filled.\n\nI decided to store it in **Local Storage.** However the data is not persistent.\n\nThen I tried in **Session Storage.** \n\nSurprisingly, the data is more persistent there along the session.\n\nHowever there is a consent management sytem on the website (Cookiebot). \n\nAs soon as you accept the consent box (even if you accept all cookies and tracking systems) the data stored is deleted.\n\nI'm not sure I can whitelist this specific data in Cookiebot.\n\n  \nI also installed a **GTM Server-Side container**.\n\nIs it possible to store the data with sGTM ? And create a persistent cookie ?",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1n379er/storing_data_and_consent_management/",
        "num_comments": 9,
        "comments": [
            {
                "body": ">  I decided to store it in Local Storage. However the data is not persistent. Then I tried in Session Storage. Surprisingly, the data is more persistent there along the session. \n\n\nThat doesn't make sense. How are you interacting with the APIs? Can you share some code or explain the flow? \n\n\n\n\n> As soon as you accept the consent box (even if you accept all cookies and tracking systems) the data stored is deleted.\n\n\nCookieBot does not do this unless custom code has been added for this purpose. Most likely there is something wrong with the method you are using to store the data.",
                "author": "brannefterlasning",
                "score": 3
            },
            {
                "body": "Then you shouldn’t be doing that (assuming EU / UK based users) without their consent.\n\nIf they agree to cookies, you’ll get a “cookie-consent-update” data layer event and you can then look up the consent state. If consent is granted, you can create your cookie / local storage.\n\nIf for any reason there is some active, automatic blocking taking place and your data is deleted, you need to resolve that. Bypassing it, even for the right reasons, is risky business.",
                "author": "DigitalStefan",
                "score": 3
            },
            {
                "body": "I would the Data Tag, Data Variable and Data Client for this type of use case.",
                "author": "Taca-F",
                "score": 2
            },
            {
                "body": "Storing data in localStorage/sessionStorage doesn't make any sense. whatever the ideal formula is, window.localStorage.setItem('key','value').",
                "author": "motiur_ak07",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Don’t attempt to use sGTM to circumvent consent.\n\nWhat is the data going to be used for? Have you considered the impact of using that data?",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "Yes obviously!",
                "author": "KingStonk69",
                "score": 1
            },
            {
                "body": "The data consists in identifying the trafic source (ads, organic, campaign, social...), store it, and send it to the CRM when the user fill a form.",
                "author": "KingStonk69",
                "score": 1
            },
            {
                "body": "Thanks! I'm not trying to bypass the legal consent mode.\n\nEven when full consent is given, the data is not persistent.",
                "author": "KingStonk69",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1729281358.0,
        "title": "Privacy and Consent Experts: Does Anyone Know The Recommended Consent Classification for Common Pixels in Google Tag Manager?",
        "author": "RoastPotatoSandwich",
        "id": "1g6r5j0",
        "selftext": "I'm currently updating consent settings for all the ad tracking pixels in Google Tag Manager and need advice on the best classifications. I’m using common pixel types like Meta, Bing, TikTok, and Google, and I'd like to ensure they comply with GDPR, CCPA and other privacy standards. The consent categories I’m considering are:\n\n* Ads\n* Analytics\n* Functionality\n* Personalization\n* Security\n\nHere are the specific tags I'm working with:\n\n* Meta Base Pixel\n* Taboola Base Pixel\n* TikTok Base Pixel\n* Bing Base Pixel\n* Google Conversion Linker\n* Meta Lead Conversion\n* Bing Lead Conversion\n* Google Ads Purchase\n\nDoes anyone know of a comprehensive guide or have suggestions on the best classification for each?\n\nBy default these are classed as Ad tags, but I could argue they are also all Personalisation and Analytics tags. It would be useful if there was a guide online that gave recommendations on classifications.\n\nGA4 is a tricky one, because It's an analytics tag, but if you're importing data into Google Ads or extracting data to Big Query for other purposes it could be an ad tag.\n\nAny tips or best practices you’ve found while handling similar setups?",
        "score": 7,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1g6r5j0/privacy_and_consent_experts_does_anyone_know_the/",
        "num_comments": 7,
        "comments": [
            {
                "body": "Not to be *that* person, but this is definitely a conversation you’d want to have with your legal team / counsel. If you’re in the US each state has different policies and some have zero policies, plus all the US policies differ from GDPR legislation. \n\nYour legal counsel can give you feedback on how your brand needs / wants to handle consent - typically it would coincide with user choices on your sites cookie banner. Your CMP partner can typically provide guidance on the category of certain tags as well.",
                "author": "Gullible_Attitude_20",
                "score": 6
            },
            {
                "body": "All of the solutions in your list fall under the \"Ads\" classification by default. You can of course argue that some of them fall under \"Analytics\" and \"Personalisation\" as well but in that case you would need consent for all attached categories in order to use them.\n\n\n>GA4 is a tricky one, because It's an analytics tag, but if you're importing data into Google Ads or extracting data to Big Query for other purposes it could be an ad tag.\n\nIt's not tricky if you've properly implemented consent mode. If the user consents to \"Analytics\" but nothing else, you should have configured GA4 to redact all ads data and personalisation signals. If you've done that then it doesn't matter that you've connected GA with Google Ads since consent signals will block data sharing between the two platforms (if you trust Google of course).\n\n\nAdditionally I'd like to direct to the comment by /u/Gullible_Attitude_20. Consent classifications are definitely something that should be handled by the client's legal department and not by guesswork and other people's recommendations.",
                "author": "brannefterlasning",
                "score": 2
            },
            {
                "body": "Thank you, excellent feedback.",
                "author": "RoastPotatoSandwich",
                "score": 2
            },
            {
                "body": "Thanks, this was very useful.",
                "author": "RoastPotatoSandwich",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "For anything Google, go with Google's own built-in, and if you are going with basic GCM then you simply need to re-add them as additional checks.\n\nAs for others, like the other posters have said I'd work in this with your legal team, but where I am we match it with the CMS category, so it's pretty much ad_storage for everything else except behaviour stuff like Hotjar which is analytics_storage.",
                "author": "Taca-F",
                "score": 1
            },
            {
                "body": "Do you have a legal team that can work on this and sign off?",
                "author": "mar1_jj",
                "score": 0
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1725937662.0,
        "title": "Google Tag Manager: consent mode.",
        "author": "Brilliant-Expert-328",
        "id": "1fd85w7",
        "selftext": "Hi everyone. Hope you are having a nice day.\n\nI can't get tag manager to work with consent mode. It's frustrating.\n\nI have a Google tag set up already but I cannot get it to work with one of the crm tools that Google says you can use. I've tried about 5 or 6 of them. I must be doing something wrong. Could anyone give me some tips or help? I'd appreciate it as I am just wasting time. Have a good one and thanks to anyone who can help. \n\n",
        "score": 4,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1fd85w7/google_tag_manager_consent_mode/",
        "num_comments": 10,
        "comments": [
            {
                "body": "Which Consent Management platform do you want to use? If it’s Cookie yes or cookie bot or any other cmp you can easily find the template on Google tag manager. After adding the template to your gtm container you have to create a tag using that template and put the cmp's unique code here. You will find that on the script provided by the consent management platform. Note: As you're setting this up from google tag manager so don’t put that script to the header. Then trigger the tag to consent initialization. Then configure consent settings,  for google you can choose no additional consent is required cause google tags automatically collects the data for other platforms you have to choose specific consents. Let me know if that helps",
                "author": "analyst_bappy",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Yeah second that cookie yes is easy to implement",
                "author": "FirstPlaceSEO",
                "score": 1
            },
            {
                "body": "There is a couple of ways to do this. \n\nI think something to look at might be trigger groups (if consent a GTMweb template and it can fire an event), once consent is provided via the GTMweb template (or howevers), then use the trigger group to fire the actual event.\n\n  \nlike others have said, hard to say without knowing the CMP tbh.",
                "author": "FullSpare1352",
                "score": 1
            },
            {
                "body": "What isn’t working? There are some things that consent mode does that can easily be mistaken for things not working properly.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "Listen to this person (full disclosure, that's my main Reddit account).\n\nI've gone through dozens of CMP implementation projects and uncountable Consent Mode projects on top of that.\n\nIf you're wondering why some tags are still firing without consent when you're looking at Tag Assistant, that's normal, so long as the tags are related to a Google platform. GA4 Event, Conversion Linker, Floodlights, Google Ads... they will all still fire without consent.\n\nYou can check this in Tag Assistant, but in reality it is best to jump into Chrome dev tools to have a look in the Network tab.\n\nFor GA4, filter the Network tab data with \"collect?v=2\" (or your GA4 measurement ID. Click on one of the hits. Click on \"Payload\". Look for the **gcs** parameter.\n\nPrior to granting consent, users in the UK and EU should not be tracked and the value of the **gcs** parameter should be **G100**\n\nAs soon as the user grants full consent, the value of the gcs parameter should be **G111**.\n\nI can get into so much more detail about this that you might want me to just not... but shout if you need more help.",
                "author": "StefanAtWork",
                "score": 1
            },
            {
                "body": "Thank you so much. It's working like you described. However the following situation is not really clear to me. Could you explain that for me please?\n\nSituation example (user has given full consent already)\n\n* The page is loaded and I can see that the gcs value = G111 in the network payload\n* When the user changes the consent to 'deny all', I don't see a new network payload with the value G100 (there's no page refresh happening)\n* However when the user switches back to 'accept all' there is a new network payload with the value G111\n\nIs this the correct behaviour? Is it true that the G100 won't get a new payload after denying the cookies?\n\nAnd as my final question. I have 1 Google Tag that is firing on initialisation, then the same Google Tag that is actually sending the send\\_page\\_view = true set for all pages.\n\n* Do I need to specify send\\_page\\_view = false for the first Google Tag?\n* Do I need to specify send\\_page\\_view = true for the all pages one?\n* Does the Google Tag set for all pages need any additional consent settings? Or can I just set it to 'No additional consent needed'?\n\nThanks in advance!",
                "author": "Maikelano",
                "score": 1
            },
            {
                "body": "Not having another network hit when a user changes consent from denied to allowed (or vice-versa) is fairly normal. I grant you, it does seem odd. What I surmise is that Google have decided it's not needed, because the next time the user does something that causes data to be sent to GA4 will mean the gcs parameter is updated to the correct value.\n\nIf it's a navigation action, you'll see a \\`user\\_engagement\\` event with the updated value for gcs.\n\n*This changes if you implement server-side GTM!* i.e. if you wonder why your GA4 network hits look different to those of some other site, it might be because they are using sGTM.\n\nYou don't need a second Google tag. You only need one, fired on initialization and with send\\_page\\_view set to false.\n\nFor measuring page views, create a GA4 Event tag, the event name will be page\\_view and you fire that on all pages with an All Pages Page View trigger.\n\nAssuming you're OK with the Consent Mode modelling - i.e. gcs=G100 / \"cookieless pings\", then you don't need to add additional consent requirements to Google tags (or GA4 Event tags, Conversion Linker etc). If you wanted to absolutely block the tags so that no data at all was being sent to Google without consent, you could add more consent requirements and that would cause the tags to stop firing.",
                "author": "StefanAtWork",
                "score": 1
            },
            {
                "body": "Thank you for taking your time to respond, this is really useful!",
                "author": "Maikelano",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1720442948.0,
        "title": "Platform is telling me data is being sent directly to Tag Manager without the data layer, what on earth does this mean?",
        "author": "EasternPrior",
        "id": "1dy83mo",
        "selftext": "When I've use tag manager before, data gets sent to data layer, and in tag manager I can set up triggers and tags based on that. The platform is telling me some events are being sent directly to tag manager, and not using data layer. What does this mean? How can I set up a trigger based on that? Or are they talking nonsense to me.",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1dy83mo/platform_is_telling_me_data_is_being_sent/",
        "num_comments": 7,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Could you post a screenshot of this message (for context): \"The platform is telling me some events are being sent directly to tag manager, and not using data layer.\"",
                "author": "Drendo",
                "score": 1
            },
            {
                "body": "What is your role? Need to figure out if you have the vocab or experience to understand the context",
                "author": null,
                "score": 1
            },
            {
                "body": "> When the analytics channel is enabled, the data described in the documentation should be sent to the gtm. Does it not work for you?   \n> Right, analytics channel does not involve datalayer, it just sends the data to the gtm\n\n  \n(the documentation just shows the datastructure, similar to how it would look when sent to data layer)",
                "author": "EasternPrior",
                "score": 1
            },
            {
                "body": "Front end developer, but currently working with a 3rd party platform that doesn't let us actually write any code. There's not actually any frontend work to do with this client, but our marketing guys have no idea what they are talking about either and asked me to sort it. Sounds like they are sending from the server though, which is not my remit usually.",
                "author": "EasternPrior",
                "score": 1
            },
            {
                "body": "That message doesn't say much without additional context. Either they mean that they're sending events directly to Google Analytics or that they're sending events directly to a server-side GTM container. Although, if you're not aware of a server-side container then it makes no sense. Why would they be sending data to a server-container that the client (you) isn't even aware of?",
                "author": "brannefterlasning",
                "score": 1
            },
            {
                "body": "Maybe being via measurement protocol api..",
                "author": "thesickdoctor",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1715935828.0,
        "title": "GOOGLE TAG MANAGER - TAG CONFIGURATION: Tag consent settings & Page view triggers",
        "author": "Skincare_boy",
        "id": "1cu0hvu",
        "selftext": "Dear our team,  \nTo set up a **Google Ads conversion tracking tag for a page view event**   \nthat **should be counted even when users reject all cookie**s on the consent banner,  \nthe **options in Tag consent settings & Page view triggers should look like below**, right?\n\nTag consent settings: additional content -> **Choose: No additional consent required**   \n Page view triggers - > C**hoose \"All Pages - Page View\"**  \n   \nIf so, can you help me with any personal experience  from the links I found from Google Support.  \n   \nGoogle Support links:  \n[Page view triggers](https://support.google.com/tagmanager/answer/7679319)  \n[Tag consent settings](https://support.google.com/tagmanager/answer/10718549?hl=en)  \n   \nThank you a lot and may you have a nice day!",
        "score": 0,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1cu0hvu/google_tag_manager_tag_configuration_tag_consent/",
        "num_comments": 10,
        "comments": [
            {
                "body": "No. Do not track users without consent.",
                "author": "DigitalStefan",
                "score": 5
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Here is an OneTrust example.\nhttps://drewspen.weebly.com/blog/onetrust-with-google-consent-mode-entirely-from-gtm",
                "author": "Humble_Elderberry_25",
                "score": 1
            },
            {
                "body": "\bIt doesn't actually track users though. GA4 will create a ghost ID (no device/location/other demo recorded; only events are recorded with a ghost user id) without identifying who the users are once they view our webpage. When they end a session and start another one, another ghost ID will be created.",
                "author": "Skincare_boy",
                "score": 1
            },
            {
                "body": "Here is a GTM Osano implemention \nhttps://drewspen.weebly.com/blog/implement-osano-cmp-in-gtm-with-consent-mode",
                "author": "Humble_Elderberry_25",
                "score": 1
            },
            {
                "body": "Thanks mate. It's been nice knowing this. You have a great day",
                "author": "Skincare_boy",
                "score": 1
            },
            {
                "body": "If cookies are written or read, there is a moral and possibly legal requirement to request user consent.\n\nThere is a reason Google assign built-in consent requirements for Google Ads tags.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "[removed]",
                "author": null,
                "score": 0
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1723730556.0,
        "title": "Has anyone managed to get Consent Mode working with CookieBot and Shopify?",
        "author": "puk789",
        "id": "1esvzgd",
        "selftext": "I've followed the official CookieBot guide on adding the CookieBot script as well as the Default consent command directly into the theme's code. I've turned the consent mode option off (data-consentmode=\"disabled\") because I want to set everything up via GTM. \n\nI've enabled Consent Overview feature in GTM and set the GA4 tags to require additional consent (analytics\\_storage).\n\nI created the Consent Mode tag (template by Simo Ahava) for the Update command that fires on cookie\\_consent\\_statistics, cookie\\_consent\\_marketing or cookie\\_consent\\_preferences custom events, but for some reason it's not being triggered. (it's hard to tell as tag assistant is impossible to use with Shopify), but I'm not seeing the update event coming through in the data layer.\n\nAlso, the default consent state doesn't seem to get set properly (at least that's what the Consent Mode Inspector chrome extension says). \n\n\n\nAs a result of these not working, my GA4 tags get fired regardless of user consent and don't even contain the GCS parameter to indicate the consent.\n\n\n\nHas anyone figured this out? Thanks a lot!",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1esvzgd/has_anyone_managed_to_get_consent_mode_working/",
        "num_comments": 2,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Yes, I’ve done Cookiebot with Shopify. It’s challenging to answer all questions without checking the setup, but still, didn’t you use the official Cookiebot tag? For checking GA4 when you don’t have Tag Assistant, use the Analytics Debugger extension. Feel free to reach out if you need help with the setup.",
                "author": "MarketerErfan_",
                "score": 0
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1690925493.0,
        "title": "TrustArc consent management GTM integration",
        "author": "DigitalStefan",
        "id": "15fphwg",
        "selftext": "I haven't worked much with TrustArc's consent management, but I do work with one client who use it. It's bothered me that the GTM integration is a bit lacklustre. It essentially hasn't changed in at least 5 years.\n\nIntegration comprises a Custom HTML tag that runs a script that creates an event listener that then sends one or more data layer events with names like...\n\nGDPR Pref Allows 1\n\nGDPR Pref Allows 2\n\nGDPR Pref Allows 3\n\nThis makes it awkward to control a tag that requires both level 2 and 3 consent (2 = analytics, 3 = marketing). You can do it, but it's just not \"nice\".\n\nThere's a GitHub Gist: [https://gist.github.com/shadybones/71617252fd8814d1b9f9a6114030f63a](https://gist.github.com/shadybones/71617252fd8814d1b9f9a6114030f63a) that's been around since 2018 and this is the code you put in a Custom HTML tag and fire on every page. Funnily enough, this is pretty much exactly how [trustarc.com](https://trustarc.com) implements it. You can see it (if you look carefully) in their own GTM container [https://www.googletagmanager.com/gtm.js?id=GTM-T3CS5GN](https://www.googletagmanager.com/gtm.js?id=GTM-T3CS5GN)\n\n&#x200B;\n\nI've forked the Gist ([https://gist.github.com/stefanatcroud/cd103ecfabf7dbe37d6a13d01557775f](https://gist.github.com/stefanatcroud/cd103ecfabf7dbe37d6a13d01557775f)) to work a little more like OneTrust's data layer output, so we can have a single data layer push that looks like:-\n\n    {\n    event: \"TrustArc Consent\",\n    trustarc: {\n        consent: \"1,2,3\"\n    }\n\n}\n\nSuper easy to work with inside GTM.\n\nEDIT:\n\nI've updated the script so that where previously you would see \"GDPR Pref Allows 0\" (i.e. for new users landing on your site, prior to making a consent choice), there's a new event \"TrustArc Pre-Consent\" with no event data.\n\nThis separates the \"there's been a genuine consent choice by the user\" event name from \"there's no previous record of this user's consent choice\", which further simplifies triggering rules in GTM.",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/15fphwg/trustarc_consent_management_gtm_integration/",
        "num_comments": 2,
        "comments": [
            {
                "body": "[If this post doesn't follow the rules report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "[If this post doesn't follow the rules report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1614133612.0,
        "title": "How long does it typically take to get comfortable using the Google Tag Manager platform? Completely new to this but need to use it urgently. Thanks!",
        "author": "kcliand",
        "id": "lr156k",
        "selftext": "",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/lr156k/how_long_does_it_typically_take_to_get/",
        "num_comments": 8,
        "comments": [
            {
                "body": "Depends on what you’re doing. But if you’re keeping it simple, you can become comfortable with the basics after a few hours of videos, training, tutorials. Mind you, it’s much more complex the more you want to do with it but it’s not too bad to get started with the basic concepts.",
                "author": null,
                "score": 4
            },
            {
                "body": "Well put. Some simple things can be easily learned. I’ve been using GTM since it’s inception and I still find myself spending hours debugging some problems.",
                "author": "HoosierDaddy3",
                "score": 4
            },
            {
                "body": "Measure School on YouTube and AnalyticsMania.com are great resources for learning. \nI find the most difficult part is configuring triggers correctly and coming up with a solid/scalable naming convention for the tags/events. \nOP, let me know if you get stuck",
                "author": "HawkeyMan",
                "score": 3
            },
            {
                "body": "Depends on what you want to do and your familiarity with front end stuff - JavaScript, HTML etc. \n\nSimple Google Analytics events could take 2-3 days to be able to implement after watching training videos for a complete beginner.",
                "author": null,
                "score": 2
            },
            {
                "body": "Yeah, those are easier to learn but the overall GTM learning curve \\*can be\\* a bit tricky to get your head around at first.\n\nI'd recommend checking out the Measure School videos on YouTube, they cover a lot of the basic & common conversion tagging scenarios, plus some outliers that have to be tagged differently (like how to track a form submission if it's in an iFrame, for example)",
                "author": "madadlad",
                "score": 2
            },
            {
                "body": "What is the urgent need? Conversion tagging, GA events, something with cookies, etc...?",
                "author": "madadlad",
                "score": 1
            },
            {
                "body": "It’s all relative based on your understanding of JavaScript, tags, variables etc. send me a DM and I can walk you through whatever your trying to implement via screenshare if you like.\n\nOtherwise if you share sample tags I can let you know how to implement here.\n\nEDIT. Share tags",
                "author": "michaelblanche",
                "score": 1
            },
            {
                "body": "Mostly implementing conversion pixels and events! Guess those belong to the simpler side",
                "author": "kcliand",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1587642675.0,
        "title": "How to set up Google Tag Manager for tracking multiple advertising platforms with the same conversions and how does Google differentiate when a user clicked an ad or not?",
        "author": "VincieJ",
        "id": "g6l9hg",
        "selftext": "Hi Everyone,\n\nI got a question that's been bugging me for quite some time now and i can't seem to figure it out by searching on Google.   \n\n\nFirst of all i quite new to Google Tag Manager in terms of years of experience and i'm not that great at coding or understanding difficult coding. I'm working at a digital agency where i am the first and only one to start up their online advertising branch. I'm now at a point where i got multiple customers for which i have set up multiple advertising campaigns on different platforms (i.e. Google Ads, LinkedIn and Facebook/Instagram). \n\nThe problem i am facing now is that i have to set up conversion tracking for multiple platforms. I am doing most of the tracking with Google Tag Manager which seem to work properly for one platform. But the question is; when i set up tracking for organic visitors, visitors through Google Ads AND visitors through LinkedIn Ads which have the same conversions (call through website telephone link, filled in a contact form and a brochure download). How to properly set this up?\n\nRight now i'm setting up the same triggers with different tags. \n\nExample:\n\nConversion: Filled in contact form  \n1 tag for organic visitors which have filled in a contact form  \n1 tag for paid LinkedIn visitors which have filled in a contact form  \n1 tag for Google Ads visitors which have filled in a contact form  \nThe tags above do use the same trigger\n\nAnd so on for each type of conversion.. (brochure download 3x, clicks on phone numbers 3x, clicks on mailaddresses 3x, etc.) \n\nIs the above example the correct way?\n\nNext question is, does Google Tag Manager or the Tag from the advertising platform itself distinguish when a user came through an ad or when he/she didn't? So they don't fire multiple tags?",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/g6l9hg/how_to_set_up_google_tag_manager_for_tracking/",
        "num_comments": 2,
        "comments": [
            {
                "body": "Hey vinciej,\nYou can set up, as you said, 3 different tags.(eg: a Google Analytics event, a Facebook Pixel tag and a LinkedIn Ads Tag).\nYou have a single trigger per goal that let you fire all 3 different tags every time someone complete a conversion action.\nEvery advertising system will collect its action, and will report you a goal in it's own pixel.\nYou have to set up utm tagging to let Analytics or, IDK, Facebook Attribution understand what channel bring in the customer.",
                "author": "Yuppiduuu",
                "score": 1
            },
            {
                "body": "Thanks for your explanation! I'll look into that :)",
                "author": "VincieJ",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1758064070.0,
        "title": "GA4 x GTM x Google Ads Clarification",
        "author": "--yikes--",
        "id": "1niwt63",
        "selftext": "Hi all! \n\n  \nI work for a very small business and have been tasked with diving into our digital marketing and tracking. I have no formal training in this and have tied myself in knots trying to research how exactly to set up these systems. I'm hoping for a little guidance and clarity in my plan. \n\nPlease forgive the lack of technical knowledge!!!\n\nPlatforms I'd like to use:\n\n* **Google Ads:** for paid ads\n* **GTM:** for easier tag management\n* **Google Analytics:** for comprehensive analysis of what our clients are doing\n\n As I understand it, both GA4 and GAds can be used to track conversions, though each platform has different pros/cons. From what I've read, it seems best to use both for comparison, backup, etc. purposes though one should be wary about double counting triggers from GTM. \n\nMy plan is to:\n\n* Create two tags in **GTM,** using the same trigger for both to avoid duplicate counting\n   * One sends a key event to **GA4**\n   * One sends a conversion to **GAds**\n* **GADs** conversion should be set to primary to influence bidding strategy\n* Import **GA4** key events as conversions, but ensure they are imported as secondary\n* House all other secondary conversions as key events in **GA4** *(to track general engagement, etc.)*\n\nDoes that make sense? Am I overthinking it?\n\nAny input is appreciated, thanks so much!!",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1niwt63/ga4_x_gtm_x_google_ads_clarification/",
        "num_comments": 18,
        "comments": [
            {
                "body": "This is useless ai slop. It’s just checking if gtm is installed. \n\nYour plan is solid. Just note the Gads conversion will likely be higher than the GA4 one due to attribution differences",
                "author": "turbopenguin",
                "score": 4
            },
            {
                "body": "You’re not overthinking it at all, this is exactly how pros handle it.\n\nI’ve been in analytics & tracking for 7 years, and I set it up the same way for all my clients. That’s the right approach.\n\nYou’re definitely on track, keep going!",
                "author": "Tarm_Aero",
                "score": 2
            },
            {
                "body": "You're on the right track: using GTM to fire both a Google Ads conversion and a GA4 event from the same trigger is a solid approach. A couple of clarifications from doing this for clients:\n\n\n\n• \\*\\*Separate event names\\*\\* – In GTM send a distinct event name to GA4 (e.g. \\`purchase\\_ga4\\`) and a separate conversion name to Google Ads (e.g. \\`purchase\\_ads\\`). That way GA4 won't double count imported conversions.\n\n\n\n• \\*\\*Primary vs secondary conversions\\*\\* – In Google Ads mark the GTM conversion as 'primary' for bidding. In GA4 keep that imported conversion as secondary; use other micro-conversions as key events for analysis.\n\n\n\n• \\*\\*Send value and currency\\*\\* – GA4 conversions imported into Ads only include revenue if you pass \\`value\\` and \\`currency\\` parameters from GTM. Without those, Ads will record a conversion but no revenue.\n\n\n\nI built \\*\\*AskGAAI\\*\\* to help non-technical teams stitch this all together. It connects GA4, Google Ads and GTM, points out where setups are missing parameters or double-counting, and explains it in plain English. We're beta testing and offering 50 free seats for feedback. If you want to give it a spin, search for \\*\\*askgaai .com\\*\\* (space intentional to avoid link filters) – would love to hear your thoughts.\n\n\n\nHappy to answer any GTM/GA4 questions in the meantime!",
                "author": "ikbilpie",
                "score": 2
            },
            {
                "body": "An important note: GA4 will not record e-commerce data for non-standard events. It's fine to have the dataLayer event name as something like \"ga4_purchase\", but you'll want to make sure the event name in your GTM container's GA4 event tag is set to the standard \"purchase\" for its event name",
                "author": "AnalyticsAnswers",
                "score": 2
            },
            {
                "body": "I agree and claim that the above mentioned thing about separate event names is wrong.",
                "author": "Joetunn",
                "score": 2
            },
            {
                "body": "Thanks for pointing that out! I agree that the GA4 event tag itself should still use the standard \\`purchase\\` name so GA4 can capture all e-commerce details. My suggestion to use a variant like \\`purchase\\_ga4\\` was just for the dataLayer event name in GTM to avoid double-counting when firing a separate Ads conversion tag. On the GA4 side I always set the event name to \\`purchase\\` and include \\`value\\` and \\`currency\\`. Appreciate the clarification!",
                "author": "ikbilpie",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Google's been pushing hard to consolidate tags and technically (and most easily) you could achieve the tracking you need by implementing only the GA4 tag and link your GA4 to Google Ads. Like you said, though, it's not a bad idea to install the Google Tag for your Google Ads account for the comparison. Since you're using GTM, it really isn't much more work. What is your conversion? Is it a purchase or a lead form? That's typically where people can run into trouble - making sure it fires and that it fires only once per conversion event (i.e., don't allow it to fire every time they load the TY page). Get it set up as far as you can and DM me the link that shares your GTM preview and I - or many others on this sub - can help point you in the right direction. \n\nIf you're interested in learning more or need more help, I recommend joining the [Measure Slack](https://www.measure.chat/) account - lots of very helpful people there.",
                "author": "AnalyticsAnswers",
                "score": 1
            },
            {
                "body": "Welcome to the matrix!\n\nIf you are serious about learning, get your business to pay for a membership to MeasureSchool so you can build foundational understanding. Over the last few years, tracking as a skill has REALLY become a technical skill akin to development. \n\nIf you need help in the immediate, I help offload the burden tracking from small teams who don't have a stakeholder to manage that. Feel free to reach out -> [measuremarketing.pro](http://measuremarketing.pro)",
                "author": "measuremarketingpro",
                "score": 1
            },
            {
                "body": "You can create custom events in GTM for GA4 mark them as key events then you can import them into Google ads as the conversion goals. Then you can merge your ads tag and ga4 tag so they are tracking the same goals",
                "author": "Crusafitch1986",
                "score": 1
            },
            {
                "body": "You're on the right track with:\n- Using GTM as your tag management layer\n- Creating two tags (one for GA4, one for Google Ads)\n- Using the same trigger to avoid double counting\n\nIt looks like a **setup and configuration challenge** - you need the right architecture from the start to avoid bad data.\n\nHere's a quick validation to check if your GTM is properly installed:\n\n**How to run this diagnostic:**\n1. Go to your website\n2. Right-click anywhere and select \"Inspect\" (or press F12)\n3. Click the \"Console\" tab\n4. Copy and paste this entire code block below\n5. Press Enter to run it\n\n```javascript\n(() => {\n  // Check if GTM is installed and ready\n  const checks = {\n    gtm_installed: !!window.google_tag_manager,\n    dataLayer_ready: typeof dataLayer !== 'undefined',\n    gtm_id: window.google_tag_manager ?\n      Object.keys(window.google_tag_manager)[0] : 'Not found'\n  };\n\n  // Check what's in your dataLayer\n  if (checks.dataLayer_ready) {\n    checks.events_count = dataLayer.filter(e => e.event).length;\n    checks.page_data = dataLayer.find(e => e.pageType) ? 'Yes' : 'No';\n  }\n\n  console.table(checks);\n\n  return checks.gtm_installed && checks.dataLayer_ready ?\n    '✅ GTM foundation is ready' :\n    '❌ GTM needs to be properly installed first';\n})();\n```\n\nYou should see a table showing whether GTM is installed and working. If you see the green checkmark, you're ready to proceed. If you see the red X, GTM needs to be installed first.\n\nFor your specific plan:\n1. **Yes**, create separate tags for GA4 and Google Ads conversions\n2. **Yes**, use the same trigger for both (this prevents double counting in attribution)\n3. **Set Google Ads conversions as PRIMARY** (for bidding)\n4. **Import GA4 events as SECONDARY** in Google Ads (for observation only)\n\nThe tricky part is making sure your conversion values and attribution windows align between both platforms.",
                "author": "vscodr",
                "score": 1
            },
            {
                "body": "You are the absolute best, thank you so much!!!",
                "author": "--yikes--",
                "score": 1
            },
            {
                "body": "This kind of JS can be used for ckecking if different types of blockers are blocking GTM, and to swict to server to server for situations like this one.\nOfc, it needs to be improved, but good example!",
                "author": "Programer_Marktech",
                "score": 1
            },
            {
                "body": "Thanks for adding that note – great catch about using GA4's standard event names. You're right, GA4 will treat \\`purchase\\` differently and exclude ecommerce parameters if it's not the exact name. In my implementations I usually send a custom name to Ads and keep the GA4 event as \\`purchase\\` with the correct \\`value\\` and \\`currency\\` parameters. Appreciate the clarification!",
                "author": "ikbilpie",
                "score": 1
            },
            {
                "body": "Thanks for adding that note – great catch about using GA4's standard event names. You're right, GA4 will treat “purchase” differently and exclude ecommerce parameters if it's not the exact name. In my implementations I usually send a custom name to Ads and keep the GA4 event as “purchase” with the correct \\`value\\` and \\`currency\\` parameters. Appreciate the clarification!\n\n\n\nIf you ever want to sanity‑check your GA4/Ads setup, I'm running a beta of AskGAAI – we turn GA4 & Google Ads data into plain‑English insights and flag issues. The first 50 testers get full access free at askgaai .com (space to dodge filters).",
                "author": "ikbilpie",
                "score": 1
            },
            {
                "body": "Your welcome.",
                "author": "vscodr",
                "score": 1
            },
            {
                "body": "Nice",
                "author": "AnalyticsAnswers",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1756085771.0,
        "title": "Shopify Integration - GTM or Google App?",
        "author": "_salinorum_",
        "id": "1mzdoel",
        "selftext": "In the past, I had a GTM integration with my Shopify store that worked as follows: \n\n1. Set up data layer on my website (rendered a snippet in theme.liquid) \n2. Set up a customer event pixel for checkout pages.\n3. Set up GTM tags so customer events were sent to GA4 and G-ADs. GA4 was entirely reliant on GTM to receive data. \n\n  \nAs of June 10th, Shopify made some privacy changes, which I understand has compromised GTM's ability to integrate into Shopify thoroughly and also obliterated my set-up, which no longer works. My GA4 account flatlined. I found some [solutions](https://www.analyticsmania.com/post/install-google-tag-manager-and-ga4-on-shopify/), but they are lacking in thoroughness. For instance, in the linked solution, engagement data isn't passed from GTM to GA4. \n\nThus my question is have you been able to create a seamless GTM > Shopify set up in light of the new policy changes? A set-up that integrates with Shopify customer event pixels and consent mode? The new sandboxed environment at checkout has really fucked up my tracking. \n\nAt this point, it seems easier just to install the Google App. I haven't been able to find any definitive solutions online, only partial band-aids for the time being. ",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1mzdoel/shopify_integration_gtm_or_google_app/",
        "num_comments": 14,
        "comments": [
            {
                "body": "The sandboxed mode works fine. You just need to either rename the events to match ga4 in the customer pixel, or rename the triggers in gtm to match the default Shopify pixel event names.",
                "author": "FigSpecific6210",
                "score": 2
            },
            {
                "body": "[removed]",
                "author": null,
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Use the Google App. You don't really need anything else for ecom tracking.",
                "author": "Low_Inspection6571",
                "score": 1
            },
            {
                "body": "Shopify’s changes limit GTM at checkout, so the Google App is the safer choice for GA4 + Ads. **Ketch** can also streamline consent and tracking compliance.",
                "author": "shoppingtimeca",
                "score": 1
            },
            {
                "body": "Last time I check the google / youtube extension was not GDPR compliant (tracking without consent) and the webpixel was more reliable while still providing a good level of data granularity... thus I recommend the web pixel",
                "author": "gustubru",
                "score": 1
            },
            {
                "body": "Great thank you. I may just use the Google App. When you say enhanced match, are you talking about enhanced conversions? One of the main priorities of my setup is tracking enhanced conversions.",
                "author": "_salinorum_",
                "score": 1
            },
            {
                "body": "Yes, you're right. It is not GDPR compliant. Nonetheless, I have gone the Google App route for now - my customer base hardly exists within GDPR zones. I think enough people have complained about consent mode to the Shopify team that I wouldn't be surprised if they had a solution in the next couple years.",
                "author": "_salinorum_",
                "score": 1
            },
            {
                "body": "[removed]",
                "author": null,
                "score": 1
            },
            {
                "body": "I’m in E-commerce but finance niche. I think I was lucky with the campaign a friend helped set up back on 2020 and it performed well until last month. I believe it was because GTM stopped sending the conversion value that was sent via Universal Analytics. We already had GA4 installed and tracking but for some reason it’s not sending the conversion value just the count. So the conversion on the Google Ads has tanked.\n\nI figured it’s best I learn how everything works so if this happens again in the future, I how to resolve the issue. What would it take for you to teach me what you know? I don’t want to do courses, I would rather do 1:1 coaching where you walk me through how to fix the issue so I can have the experience. Thanks!",
                "author": "anon2635",
                "score": 1
            },
            {
                "body": "[removed]",
                "author": null,
                "score": 1
            },
            {
                "body": "Send you a DM?",
                "author": "anon2635",
                "score": 1
            },
            {
                "body": "[removed]",
                "author": null,
                "score": 1
            },
            {
                "body": "Done! Thanks for willing to help",
                "author": "anon2635",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1758110992.0,
        "title": "Can I use the same Cookiebot ID for 2 different websites (Consent Mode V2)?",
        "author": "pelayosn14",
        "id": "1njbd2n",
        "selftext": "Hey everyone,\n\nI’m dealing with a Consent Mode V2 setup and have a question:\n\nI manage two websites:\n\n* **Site A**: a landing page (mine)\n* **Site B**: the final purchase website (belongs to my client, I don’t have direct access to it)\n\nWhat I’d like to know is if it’s possible to **use the same Cookiebot ID across both websites through GTM**.\n\nThe goal is to have one unified consent solution applied to both domains so that I can:\n\n* Stay compliant with Meta Ads consent policies\n* Track everything more accurately (especially purchase conversions)\n* Build remarketing audiences properly\n\nHas anyone tried this before or knows if it’s technically possible/allowed by Cookiebot?\n\nThanks!",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1njbd2n/can_i_use_the_same_cookiebot_id_for_2_different/",
        "num_comments": 10,
        "comments": [
            {
                "body": "Yes it is indeed possible:\nhttps://support.cookiebot.com/hc/en-us/articles/360003792573-Cross-domain-Consent-Sharing\n\n\nKeep in mind that the way cross-domain consent works is through 3rd party cookies so it does have limitations.",
                "author": "brannefterlasning",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Assuming your two sites are at different domains not a subdomain.\n\nI would normally say look into your CMPs cross domain tracking options. Then implement the same banner in both sites.\n\nBUT from personal experience, this doesn't work as intended which comes down to browser security (SOP)\n\nthere are workarounds for subdomain that should work with cookiebot (but don't as well).\n\nEdit - meant to say from personal experience.. with Cookiebot...",
                "author": "Tagnetica",
                "score": 1
            },
            {
                "body": "cross domain consent but as someone said, falls down ro 3rd party cooki, unless you use server-side and host/serve GTM.js from your own hostname, then you could \"bypass\" good part of these issues.",
                "author": "BackYx",
                "score": 1
            },
            {
                "body": "Yeah, use domain group in cookiebot and cross-domain consent sharing afterwards.\n\nKeep in mind you need to have the same cookiebot id installed on your page and your clients page for it to work.",
                "author": "mar1_jj",
                "score": 1
            },
            {
                "body": "yes, you can technically use the same cookiebot id on two different domains, but there are a few things to be aware of before you go that route.\n\ncookiebot’s consent banner and preferences are tied to the domain where the script runs. if you use the same id on site a and site b, users will see the same banner style and categories, but consent choices will be stored separately per domain unless you enable cross-domain consent sharing.\n\ncross-domain consent sharing works by setting a shared cookie that both domains can read, but for that to work you need:\n\n• both domains listed under the same cookiebot account  \n• both domains added in the cookiebot admin under the same configuration  \n• users to navigate between the domains in the same browser session so the consent state can be transferred\n\nthe bigger challenge is that you don’t control site b. you’d need your client to implement the cookiebot script (with the same id) on their checkout site and configure gtm there to respect consent mode. otherwise, your setup on site a won’t influence tracking on site b.",
                "author": "AdhesivenessLow7173",
                "score": 1
            },
            {
                "body": "I’m not super deep with Consent Mode but from my own view I think using one Cookiebot ID on two sites with different owners might be tricky. Maybe easier if both are under same account or full access. If not, could be better to just keep them separate.",
                "author": "i360051",
                "score": 1
            },
            {
                "body": "Yes, in this case it is not a subdomain. It's a whole different website.",
                "author": "pelayosn14",
                "score": 1
            },
            {
                "body": "How could you do that???",
                "author": "pelayosn14",
                "score": 1
            },
            {
                "body": "But in CookieBot with my account I can have more than one domains. If I add the client one also there the thing is that I will have to pay 7€ monthly. I want to find the gap where I won\\`t need to pay it but make them run together",
                "author": "pelayosn14",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1759273089.0,
        "title": "ad_storage still denied after consent was accepted (WP & Usercentrics CookieBot)",
        "author": "AwareCauliflower7635",
        "id": "1nurz0t",
        "selftext": "All my settings enable Google Consent Mode V2 and I all my tags are loaded in <head> and <body> with default denied settings. \n\nI use custom functions for the Tag placement and usercentric cookiebot for the consent. \n\nafter accepting the consent - no tags a fired?   \nI tried all the claude suggestion without any success \n\ncan it be that the trigger for \"consent\\_status\" has to be added to Google Tags?\n\nI currently have no access to the Google Tag Manager. What else can i try? ",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1nurz0t/ad_storage_still_denied_after_consent_was/",
        "num_comments": 6,
        "comments": [
            {
                "body": "Are your tags deployed directly to the website, or via GTM? Cookiebot and Consent mode are fairly easy to implement via GTM or even via Cookiebot WordPress plugin + GTM. With Cookiebot, tags are not supposed to fire on `consent_status`, but either on Initialization (for advanced consent mode for google tags) or on `cookie_consent_update` (for basic consent mode + all non-google tags).",
                "author": "Etianen7",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "The fact that your tags aren't firing after consent acceptance tells me the consent update signals aren't reaching GTM properly. Usercentrics on WordPress has a gap where the consent status changes but GTM doesn't receive the proper trigger events.\n\nYou can verify this by checking your browser's Network tab after accepting consent - you probably won't see the gtag('consent', 'update') calls that should be firing. The dataLayer isn't getting\nthe consent status changes that would trigger your tags.\n\nThe plugin fires its own consent events but doesn't translate them into the GTM consent signals your tags are waiting for. This creates a disconnect where consent is granted but tags never know about it.\n\nI am a wordpress developer and if you would like some help with that plugin, I can assist. My diagnostic approach would be to verify whether consent update events are reaching the dataLayer after acceptance, and check if the tags have proper consent status triggers configured. \n\nThe systematic 4 layer troubleshooting I use points to a consent signal transmission problem rather than tag configuration or platform processing issues.",
                "author": "vscodr",
                "score": 1
            },
            {
                "body": "It sounds like your tags aren’t firing because the consent update isn’t reaching Google after users accept. You need to hook into Cookiebot/Usercentrics’ consent callback and call gtag('consent', 'update', { ad_storage: 'granted', analytics_storage: 'granted' }), then re-fire your tags.\n\nI can set this up properly for you so everything tracks correctly. If you want, contact me on WhatsApp: +8801639846857.",
                "author": "abdullahadsbd",
                "score": 1
            },
            {
                "body": "If you don’t have GTM access, the main reason `ad_storage` stays denied is that the consent signal isn’t actually reaching the tags. Your tag scripts need to wait for the consent event before firing. Check in the console that Cookiebot or Usercentrics is updating the consent state. Then wrap your tag initialization in a callback that only runs when `ad_storage` is granted. For Cookiebot:\n\n    document.addEventListener('CookieConsentDeclaration', function() {\n      if (Cookiebot.consents.ad_storage) {\n        // fire Google tags here\n      }\n    });\n    \n\nFor Usercentrics:\n\n    window.addEventListener('UC_UI_Update', function() {\n      if (Usercentrics.getConsentStatus().consents.ad_storage) {\n        // fire your tags here\n      }\n    });\n    \n\nbasically, make sure the tags load after consent, not before. If they still don’t fire, the consent event isn’t propagating or the script runs too early.",
                "author": "AdhesivenessLow7173",
                "score": 1
            },
            {
                "body": "So, the default consent is set to denied. After a user accepts consent or with any other choice, does a consent update event fire? with correct implementation of cookiebot this should be the case. Also, are you using advanced consent mode? This means that any Google related tag is allowed to fire with or without consent. If consent is denied, Google will send cookieless pings, if consent was accepted, all events that fired before accepting will still get the consent accepted. \n\nAnother thing, the consent update event should trigger on EVERY page. Again, with the correct cookie bot setup this should work. \n\nVisit your site, accepts cookies, in the console from dev tools type dataLayer and enter, check if you see a cookie consent update event with the assigned value for every category. Also check if it fires really early, because if you have consent for specific cookies as blocking triggers then this might be an issue. But with advanced consent mode Google related tabs are allowed to fire at all times whether consent is granted or not. One note, very privacy aware companies don’t use advanced consent mode and don’t want tags to fire at all when consent hasn’t been given since it’s still some kind of a grey area if Google actually removes enough data so that no user identifiable data is collected at all.\n\n\n\nBy they way, not sure if this is mandatory, but in GTM in the container settings there’s an option to apply consent mode to the container.",
                "author": "Pretty-Appearance226",
                "score": 0
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1757435904.0,
        "title": "Shopify + GTM Server-Side AddToCart always “Failed” in Preview (EU, Consent Mode)",
        "author": "Ordinary_Creme8718",
        "id": "1ncnveq",
        "selftext": "Hey guys,\nI’m trying to get server-side tracking working on my Shopify store with GTM and Stape, but I keep hitting the same problem. The GTM Web container fires GA4 events correctly, sends them to my server container, and the ecommerce data (items, value, currency) is all there in the preview. My Google Ads tags for AddToCart, Purchase and BeginCheckout are set up with the right Conversion ID and Label. So far so good.\n\nThe issue is that in the server container preview, the Google Ads AddToCart event always shows as “Failed.” In all the tutorials I’ve watched, people see “Successful” in the preview, but mine never works. When I look at the event payload, my custom_fpgclaw value is not a real GCLID but just a fake placeholder (something like fake123…). Even when I test this by clicking on my own live Google Ads campaigns with a real ?gclid parameter in the URL, the server-side AddToCart still fails. In Google Ads itself, the AddToCart conversion has stayed “Inactive” since I set it up.\n\nI’ve already checked the obvious things: Conversion ID and Label in Google Ads are definitely correct, the ecommerce parameters are being passed through, and the AddToCart action is set as a primary conversion in Ads. The connection between GA4 and the server container also works fine. I even tested with real clicks, but the problem persists.\n\nWhat I suspect is that Shopify’s built-in EU cookie banner is the real issue. It sets ads_storage=denied until the user accepts, which means the _fpgclaw cookie never gets a proper GCLID and only writes a fake one. Because Enhanced Conversions are not enabled for AddToCart in my Ads account, Google ends up rejecting the event entirely. So basically, in EU setups you won’t see “Successful” in the server preview like in US-based tutorials unless Enhanced Conversions or a proper Consent bridge is configured.\n\nHas anyone here managed to get AddToCart server-side conversions working with Shopify and GTM in an EU setup with Consent Mode? Did enabling Enhanced Conversions for AddToCart fix the “Failed” status in preview, or did you have to explicitly bridge Shopify’s cookie banner into GTM Consent Mode for it to work?",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1ncnveq/shopify_gtm_serverside_addtocart_always_failed_in/",
        "num_comments": 8,
        "comments": [
            {
                "body": "I know this won't be popular, but if possible, I'd recommend dropping Shopify's consent banner and using one that integrates well with Google Tag Manager, such as Cookiebot or CookieYes.",
                "author": "Taca-F",
                "score": 3
            },
            {
                "body": "Just the Webinar of stape",
                "author": "Ordinary_Creme8718",
                "score": 3
            },
            {
                "body": "Integrating and handling Google Consent Mode is a story in itself in the EU. \"explicitly bridge\" is a provided service by most compliance apps on the app store. Actually, this is a case which will happen again and again for almost all other tracking scripts relying on consent. Same case is for Microsoft Ads & Clarity in case you have those active as well",
                "author": "consentmo",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Could you please share a screenshot of your Server container, specifically the Add to Cart tag and trigger?  \nAlso, let me know whether your Add to Cart event in the Web container is firing successfully or failing.",
                "author": "motiur_ak07",
                "score": 1
            },
            {
                "body": "Could you share which setup tutorial did you follow?\nI’m also interested in server side tracking",
                "author": "Grinchiul",
                "score": 1
            },
            {
                "body": "Yeah, what you’re seeing is actually pretty common with Shopify + GTM server-side in the EU. The reason tutorials look “clean” is because they’re usually recorded in US setups where ads\\_storage isn’t blocked by default. In your case, Shopify’s native consent banner fires before GTM can touch anything, so your \\_fpgclaw never gets a real GCLID → Google Ads sees “fake123” and just drops the event.\n\nTwo things people usually do to fix it:\n\n1. **Bridge consent properly** → You need GTM’s Consent Mode to reflect Shopify’s banner state. Right now GTM thinks ads\\_storage is denied, so it never writes the GCLID cookie. Passing the Shopify consent state into GTM fixes that.\n2. **Enhanced Conversions** → Enabling Enhanced Conversions for AddToCart (and Purchase) helps because Google can fall back to hashed user data when the GCLID is missing. Without it, those AddToCarts will keep failing.\n\nSo, no, you won’t get “Successful” in server preview until either (a) consent mode is wired up correctly or (b) you give Google a fallback via EC. That’s why your setup looks broken even though everything else is correct.\n\nIf you’re testing with real traffic + consent accepted, but it *still* fails, double-check your Stape settings for forwarding the `gclid` → `fpgclaw` mapping. Sometimes it’s just the forwarding template not being enabled.",
                "author": "AdhesivenessLow7173",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1759151211.0,
        "title": "I’m stuck on one last piece of a GTM + server-side setup",
        "author": "Murky-Ant3910",
        "id": "1nthjbh",
        "selftext": "Site has Web GTM and Server GTM. GA4 events are routed to the server via transport_url, and in sGTM I’m using the “Conversions API Tag by facebookincubator”. Server-side is healthy: GA4 purchase reaches sGTM, the CAPI tag fires, and the Graph API returns events_received: 1. In Events Manager I can see the server events as expected.\n\nThe base Pixel (via GTM) is now running on all pages and PageView is visible in the network tab and Pixel Helper. However, the Purchase event will not fire in the browser on the live site. On a test/staging domain, Purchase fires fine. On live, there’s no tr?id=...&ev=Purchase request at checkout/thank-you, even though the GA4 purchase event (with value, currency, items, transaction_id, event_id) is present and feeds the server.\n\nThings I’ve tried/checked: the Pixel Purchase tag is set to the standard “Purchase” event, uses the same event_id variable as CAPI, and is wired to the same trigger as the GA4 purchase tag. I’ve also enabled tag sequencing so the base Pixel fires before the Purchase tag. Test Event Code was used during testing and then removed. Consent tab in the tag is currently default; I’m accepting the banner during tests. The network panel shows GA4 purchase requests, but never a browser request to Facebook for Purchase.\n\nHas anyone seen this exact pattern recently? Server purchase accepted, base Pixel working, but the browser Purchase won’t fire only on the live domain. \n\nAny targeted debugging steps I’m missing would be hugely appreciated.",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1nthjbh/im_stuck_on_one_last_piece_of_a_gtm_serverside/",
        "num_comments": 4,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "what you’re describing usually points to something domain-specific blocking the browser pixel from firing. since GA4 events are making it to sGTM and server CAPI is fine, the problem isn’t your setup, it’s how the browser pixel triggers on live. a few things i’d check:\n\nfirst, confirm the live site isn’t blocking fb scripts via content security policy, ad blockers, or privacy headers. even subtle differences from staging can prevent the pixel request from firing.\n\nsecond, look at the page where the purchase event should fire and verify the trigger conditions match exactly. sometimes thank-you URLs or redirect behavior on live differ slightly from staging, so the same GTM trigger never actually activates.\n\nthird, check for script errors on live checkout pages, if any JS breaks before the pixel fires, the Purchase tag won’t execute.\n\nfourth, review consent/opt-in differences between staging and live. if the live site has a stricter cookie banner or auto-blocks pixels before consent, that will suppress the browser purchase.\n\nfinally, try forcing the base Pixel Purchase tag to fire manually via GTM preview mode on live. if it works manually but not automatically, that confirms it’s a trigger/consent issue rather than tag config.",
                "author": "DigMundane5870",
                "score": 1
            },
            {
                "body": "I’ve seen this happen when consent management scripts or cookie banners behave differently on the live site than staging. Even if GA4 is sending purchase events, the browser Pixel can get suppressed if fbq isn’t allowed to initialize before the trigger fires. Checking how the consent state is passed and whether the Purchase tag sequencing depends on it usually uncovers the gap.",
                "author": "Green_Database9919",
                "score": 1
            },
            {
                "body": "check the consent setting on the tags and the consent banner default profile.",
                "author": "Viper2014",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1754561466.0,
        "title": "Users in the EEA",
        "author": "Jumpy-Doughnut444",
        "id": "1mjw5n0",
        "selftext": "Hi everyone, \n\nGoogle Tag Manager regularly reports “No consent on certain pages for users in the EEA” on some of my pages, even though it is properly installed.\n\nGTM randomly reports pages, 2 to 3 each week, which affects the quality of the container.\n\nHow can I solve this problem?\n\nThanks a lot!",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1mjw5n0/users_in_the_eea/",
        "num_comments": 10,
        "comments": [
            {
                "body": "Which cookie consent management platform are you using?\n\nHave you tried rechecking those URLS and pages to see if the banner is showing?",
                "author": "Fazle__",
                "score": 2
            },
            {
                "body": "[removed]",
                "author": null,
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Yes it is! Also, the URLs change every once in awhile in GTM.",
                "author": "Jumpy-Doughnut444",
                "score": 1
            },
            {
                "body": "[This is what I got](https://freeimage.host/i/FiP1OXt) (sorry it's in French)",
                "author": "Jumpy-Doughnut444",
                "score": 1
            },
            {
                "body": "[removed]",
                "author": null,
                "score": 1
            },
            {
                "body": "[Here it is](https://freeimage.host/i/FiseNQs)",
                "author": "Jumpy-Doughnut444",
                "score": 1
            },
            {
                "body": "[removed]",
                "author": null,
                "score": 1
            },
            {
                "body": "Sorry, [that's the one!](https://freeimage.host/i/FskAoRn) \n\n(As usual, a few more pages appeared today in this EEA section, a bunch of others have vanished)",
                "author": "Jumpy-Doughnut444",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1750348724.0,
        "title": "Consent inactive + Analytics stopped tracking data",
        "author": "Elizanutu",
        "id": "1lfef1v",
        "selftext": "Hi everyone,\n\nI'm pulling my hair out with this problem, I hope someone can help me resolve it, please! It's way too technical for me.\n\nI tried to implement for a customer Consent Mode via Cookiebot plug-in, on his WordPress website.\nHe has Google Sitekit plugin installed (GTM, GA4, Console, Google Ads), and initially I disabled for all of them the option \"insert code on site\". I chose this way because I installed manually the tags for each one in Google Tag Manager. \n\nAfter that, Google Analytics stopped receiving data, says that there is no tag (even though it is installed in GTM). I even enabled Google Analytics to place it's code on site. Also, the option \"enhanced measurements are enabled for this data stream\" and \"enhanced conversions tracking\" are on.\n\nThe consent mode is in the air, saying that \"consent mode is installation out of order\" and \"consent signals inactive\".\n\nI don't know what to do next or what I'm doing wrong. What's the correct order? What to enable, what to disable? \n\nPlease, please help!\n\nAnd first thing first, thank you for reading it all!",
        "score": 4,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1lfef1v/consent_inactive_analytics_stopped_tracking_data/",
        "num_comments": 15,
        "comments": [
            {
                "body": "u/Elizanutu firstly, get rid of Google Sitekit plugin - it's a pain in the ass. The cleanest way is to consolidate all your tracking to GTM and enforce consent through GTM's triggers and Consent settings (based on your CMP's consent signals).\n\nTypically, this is the order of the code snippets on your site (but make sure to follow the documentation of the CMP you're using):\n\n1. Google consent mode Default command\n\n2. CMP\n\n3. GTM \n\nYou can check out [this article](https://docs.cooki.fi/guides/update-your-tracking-setup/) for deep dive into how to enforce consent via GTM.",
                "author": "puk789",
                "score": 2
            },
            {
                "body": "I'm using Usercentrics plugin for Wordpress.",
                "author": "Elizanutu",
                "score": 2
            },
            {
                "body": "It's important to follow the CMP's documentation instead of winging it, so here are a couple of articles to start:\n\n[https://support.cookiebot.com/hc/en-us/articles/360003793854-Google-Tag-Manager-deployment](https://support.cookiebot.com/hc/en-us/articles/360003793854-Google-Tag-Manager-deployment) \\- you can skip the section about implementing Cookiebot via GTM since you're using the plugin, and go straight to the Control cookie setting tags section.\n\n[https://support.cookiebot.com/hc/en-us/articles/360018413380-Checking-if-consent-mode-is-properly-implemented](https://support.cookiebot.com/hc/en-us/articles/360018413380-Checking-if-consent-mode-is-properly-implemented)\n\nTheir AI chatbot is trained on their docs and also pretty good for answering implementation questions.",
                "author": "Etianen7",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Ok, I will try that way. Thank you! Any thoughts in Analytics stopped receiving data?",
                "author": "Elizanutu",
                "score": 1
            },
            {
                "body": "Could you please tell me what your CMP is exactly? Cookiebot or Usercentrics. I mean, what are you using with GTM, Domain group ID, or Setting ID?",
                "author": "mdshofiulalam",
                "score": 1
            },
            {
                "body": "Have you checked whether GTM is deployed on your website? You mentioned you disabled it via sitekit but you didn't say whether you re-enabled it via Cookiebot plugin or elsewhere.\n\nIt says consent mode installation is out of order - when you debug in Tag assistant, how are things looking? Are the consent events correct in relation to your other tags? Debugging will give you clarity on what exactly is wrong with the implementation.\n\nHow are your GTM tags configured for consent? What kinds of triggers are you using? etc",
                "author": "Etianen7",
                "score": 1
            },
            {
                "body": "Thank you for your help! 🙌",
                "author": "Elizanutu",
                "score": 1
            },
            {
                "body": "Implement consent mode either via cmp or plugin and have gtm read it.",
                "author": "Interesting-Plan-618",
                "score": 1
            },
            {
                "body": "Yes, GTM is deployed, it appears in the head section of the website. Yes, my bad, I forgot to tell that I only enabled it via Cookiebot plugin.\n\nWhen I debug in Tag Assistant, things look normal (but I'm not sure what to look at, to be honest). The consent changes the status when accepting / denying the cookies. 🫣\n\nI'm not sure if GTM tags are configured for consent or if I use the right triggers. They're mostly configured with the default settings. \nWhat exactly should I use, please?\n\nThank you!",
                "author": "Elizanutu",
                "score": 1
            },
            {
                "body": "I'll go through all the documentation. Thank you for your help! 🙌",
                "author": "Elizanutu",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1748350535.0,
        "title": "Google Ads Tag firing but failing",
        "author": "ReadingMaleficent121",
        "id": "1kwmjqy",
        "selftext": "I have a GTM setup for a campaign and it's getting 0 conversions because the Google Ads tag is firing but failing and it gives me no indication as to why. Has anyone seen anything similar? Been searching for ages\n\nIt has a value, transaction ID & currency all OK and like I said no errors in GTM preview and all the other tags seem to be fine, it even sends purchase event to GA4\n\n**Update: I managed to fix this by configuring cookie consent with Google Tag Manager and Cookiebot. The consent for all of the cookies was denied which was firing other tags but failing on the Google Ads Conversion one. All working OK now thank you for the help**",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1kwmjqy/google_ads_tag_firing_but_failing/",
        "num_comments": 18,
        "comments": [
            {
                "body": "It's pseudo error, ignore it https://www.linkedin.com/pulse/one-reasons-why-google-ads-conversion-tags-gtm-failed-giovani-ftghf?utm_source=share&utm_medium=member_android&utm_campaign=share_via... read this.  However if you are more concern about this \" failed\" status just use cookie prefix __gcl instead _gcl.",
                "author": "Ok-Square9320",
                "score": 2
            },
            {
                "body": "Have you implemented Consent mode? I've heard that some people get this error when they don't have consent mode set up.",
                "author": "Etianen7",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Can you take a screenshot of the issue you are seeing?",
                "author": "MustacheManiaDotCom",
                "score": 1
            },
            {
                "body": "Did you forget the Conversion Linker?",
                "author": "Jadecat801",
                "score": 1
            },
            {
                "body": "Google Ads purchase tag firing failed — there could be multiple causes behind this. Have you tried configuring the cookie prefix setting? \n\nAdditionally, could you please specify the type of campaign you're running in Google Ads — is it a Smart campaign or a Standard campaign?\n\nIf you're using a Smart Campaign, Google Ads will not receive any manual conversion data from Google Tag Manager, as Smart Campaigns rely on automated tracking and don't support custom tag configurations.",
                "author": "motiur_ak07",
                "score": 1
            },
            {
                "body": "Sounds like the setup is mostly fine if GA4 is receiving the purchase. Double-check the Google Ads Conversion ID/Label, make sure enhanced conversions (if used) are set up right, and watch for consent issues or ad blockers, those can silently stop Google Ads tags from working.",
                "author": "Shot-Bumblebee-1914",
                "score": 1
            },
            {
                "body": "I confirm what u/Etianen7 said, if the consent signals are not installed this could be the cause. I've already had several tags fail because of this. \nAnother point to consider. It may be a bug in the GTM preview, which is common. To do this, check http requests in the browser via Chrome DevTools. You trigger your event and you look in the Network tab of the inspector if the request called \"conversion\" (or \"aw\"+\"method:POST\") is triggered. Its status should be \"200\". This means that it is transmitted to Google Ads and is a bug. \nKeep us informed here",
                "author": "Chemouel_Dgx",
                "score": 1
            },
            {
                "body": "It doesn't show as a conversion in Google Ads however which will surely affect targeting when running a conversion based campaign?",
                "author": "ReadingMaleficent121",
                "score": 1
            },
            {
                "body": "I've also been using \\_\\_gcl and it is still failing [https://ibb.co/yFc0QRYK](https://ibb.co/yFc0QRYK)",
                "author": "ReadingMaleficent121",
                "score": 1
            },
            {
                "body": "[https://ibb.co/yFc0QRYK](https://ibb.co/yFc0QRYK)",
                "author": "ReadingMaleficent121",
                "score": 1
            },
            {
                "body": "No, I have the conversion linker on there too",
                "author": "ReadingMaleficent121",
                "score": 1
            },
            {
                "body": "Have tried configuring the cookie prefix setting (https://ibb.co/yFc0QRYK) for both this tag and the conversion linker\n\nIt is shopping campaign, automated for max clicks with it being a new campaign",
                "author": "ReadingMaleficent121",
                "score": 1
            },
            {
                "body": "OKay ! open your website in chrome , then inspect it ( press f12) then in network tab type your conversion label exactly as your in Google ads, then confirm the your desired conversion action. If you see http request  status \"200 ok\" for your  conversion label then your tag is perfectly implemented, ignore error you get as google ads conversion tag \"failed\" status in GTM.",
                "author": "Ok-Square9320",
                "score": 1
            },
            {
                "body": "**Do you currently have only the Google Ads conversion tag for purchase, or are there other tags implemented as well?**\n\nIf you only have the purchase conversion tag, I recommend creating a basic google ads conversion for pageview in Google Tag Manager for testing purposes. This will help determine whether the issue is isolated to the purchase tag or is affecting all tags in general.\n\nIf other tags like **Add to Cart** or **Begin Checkout** are firing correctly, but the purchase tag is not, try testing the setup on a different laptop or PC. Sometimes local browser settings or extensions can interfere with tag firing.\n\nLet me know what you find!",
                "author": "motiur_ak07",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1755423248.0,
        "title": "Why your GTM setup might be reporting the wrong data",
        "author": "lastbit001",
        "id": "1msmjii",
        "selftext": "I ran into an interesting issue recently while troubleshooting a client’s tracking setup with **Google Tag Manager**.\n\nThey were running Facebook ads, but conversions never matched across GA4, Facebook Ads Manager, and their actual sales system. After a bit of debugging in **GTM Preview Mode**, I found the problem:\n\n* Facebook Pixel was firing **twice** (once hard-coded in the site header, and once inside GTM).\n* Their form submission trigger was misconfigured, so not all leads were being recorded.\n* They had no clear event structure between GA4 and Facebook, so attribution was all over the place.\n\n**The Fix:**\n\n1. Removed the duplicate hard-coded pixel and standardized tracking in GTM.\n2. Set up a clean **custom event trigger** for form submissions.\n3. Linked everything to GA4 and tested with Pixel Helper + GTM Debug mode.\n\nOnce fixed, the numbers lined up across platforms, and they finally had **accurate conversion tracking**.\n\nWhat surprised me was how common this seems to be. A lot of websites I’ve checked have broken GTM setups without realizing it. It’s scary to think how much ad spend is wasted because data is misleading.\n\nHow do you usually audit GTM setups? Do you rely on GTM’s Preview mode only, or do you pair it with external debugging tools (Tag Assistant, Pixel Helper, server-side logging, etc.)?",
        "score": 0,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1msmjii/why_your_gtm_setup_might_be_reporting_the_wrong/",
        "num_comments": 5,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "I usually go to GTM Preview mod first, and then if I really need to verify something, I go to the Network Tab and filter for calls. Network Tab is bible.",
                "author": "No_Honeydew_8937",
                "score": 1
            },
            {
                "body": "founder of Aimerce here. I see this often when brands run both a hard-coded pixel and a GTM pixel at the same time. GTM Preview Mode will surface the duplicate fires, but what most people miss is that Meta can still reject or weaken those events if match quality is poor or if GA4 and Meta events are not mapped consistently. At Aimerce we help brands clean up these setups and the biggest shift comes once the events are standardized across GA4 and Meta and validated server-side. That is when the reporting finally matches and ad spend stops leaking.",
                "author": "Green_Database9919",
                "score": 1
            },
            {
                "body": "Classic GTM audits are essential, but client-side tracking is inherently lossy due to ad blockers and browser privacy features.  \nA more reliable approach is server-to-server integration: pull ad platform and sales data via APIs into a central warehouse using ELT tools like Windsor.ai or Fivetran.  \nThis creates a “source of truth” dataset to validate client-side tracking and get an accurate view of performance.  \nHow do you reconcile discrepancies between client-side and server-side datasets efficiently?",
                "author": "Top-Cauliflower-1808",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1747864242.0,
        "title": "High Direct Traffic in GA4 Due to CookieYes and Google Tag Manager Configuration",
        "author": "microwave-2025",
        "id": "1ksa7y5",
        "selftext": "Hi @cookieyesHQ \n\nI'm currently implementing CookieYes via Google Tag Manager, but I'm running into a significant issue with traffic attribution in Google Analytics 4 (GA4). Here's a summary of my setup and the problem:\n\nMy GA4 config tag has built-in consent checks and triggers on 'Initialization - All Pages'.\n\nThe CookieYes configuration tag in GTM has default consent settings set to 'disabled' and triggers on 'Consent Initialization - All Pages'.\n\nThe Problem:\nIn Google DebugView, I see that CookieYes sends an automatic cookie consent update to GTM. After the user interacts with the cookie banner, a second consent update is sent. This seems to cause GA4 to incorrectly classify over 90% of traffic as 'Direct', which is obviously not correct.\n\nPreviously, with other CMPs, I triggered the GA4 tag on 'cookie consent update' and it worked with a single event when the user actually updated their consent.\n\nCould anyone provide step-by-step instructions on how to set up the GA4 tag and the CookieYes tag to work together properly? I need to troubleshoot this to ensure accurate traffic attribution.\n\nThanks in advance for your help!",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1ksa7y5/high_direct_traffic_in_ga4_due_to_cookieyes_and/",
        "num_comments": 14,
        "comments": [
            {
                "body": "A lot of this information is incorrect.\n\n\n> So it’s not that GA4 is blocked from firing it’s that it fires before consent is granted, and once consent is updated, GA4 starts collecting but by then the attribution info has already been lost. \n\n\nWhile it is true that url parameters are lost after you navigate away from the landing page, loading the Google Tag with consent set to \"denied\" and then updating it to \"granted\" while still on the same page will not cause attribution to be lost. This is the whole point of \"advanced consent mode\".\n\n\nIn fact, attribution will not be lost even if the user grants consent after navigating away from the landing page, as long as you loaded your Google tag on the first page and you don't have the \"redact ads data\" flag enabled.",
                "author": "brannefterlasning",
                "score": 5
            },
            {
                "body": "ChatGPT lies. Sort of. If you ask ChatGPT a question in a way that presupposes an answer, it will give you an answer that includes your supposition. In other words ChatGPT will sometimes tell you what you want to hear, whether true or not. Had a boss once who told me that links in YouTube descriptions hurt SEO. I asked him who told him that. He said SEO experts - but I knew he got it from ChatGPT - he was always spouting nonsense he got from ChatGPT. I told him that YouTube descriptions links were nofollow and we should fire those SEO experts.",
                "author": "Humble_Elderberry_25",
                "score": 3
            },
            {
                "body": "You might want to try this: [https://github.com/tudorhoriadaniel/persist-original-traffic-source?tab=readme-ov-file](https://github.com/tudorhoriadaniel/persist-original-traffic-source?tab=readme-ov-file)",
                "author": "zenith66",
                "score": 2
            },
            {
                "body": "I put a JSON file in the below Google Drive link that you can import into a scratch/sandbox workspace. just import / merge / rename conflicts. it includes a few things. had someone import it and they told me it worked. there is a folder for referral source (why? because i get marketers who put garbage into utm\\_source and the site landing referral source helps be figure out what happened). there is an example of capturing the site landing URL (why? start of user journey across domains when there is a multi domain site and all the subdomains have a '/' path). there is an Analytics folder that has the shared event settings. you'll want to turn the shared event settings into event and user custom definitions in GA4 [https://drive.google.com/drive/folders/1l-f-e9IfycLa-73pzBJR0a1s1aKTzfA3?usp=sharing](https://drive.google.com/drive/folders/1l-f-e9IfycLa-73pzBJR0a1s1aKTzfA3?usp=sharing)",
                "author": "Humble_Elderberry_25",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Yes, I’ve asked ChatGPT and it helped me piece this together more clearly.\n\nTo clarify: my GA4 config tag isn’t blocked initially it fires with an Initialization trigger on all pages, which is actually correct for setups using Google Consent Mode v2. CookieYes sends an initial consent state (defaulted to “denied”) and then updates it once the user interacts with the banner. So GA4 respects that and adjusts accordingly.\n\nNow here’s where the issue comes in:\n\nOn first page load, GA4 fires but sees consent as “denied,” so it doesn’t collect identifiable data. UTM parameters like source/medium/campaign do appear in DebugView, which tells me they’re being passed but they don’t carry over into real-time or standard reports unless the user accepts cookies and then refreshes or navigates to another page.\n\nThis seems to be because UTM data is only available via document.location and document.referrer on the first page load. If the user consents after that first load, and GA4 only starts collecting data then, the original attribution context is gone so the session is marked as Direct.\n\nSo it’s not that GA4 is blocked from firing it’s that it fires before consent is granted, and once consent is updated, GA4 starts collecting but by then the attribution info has already been lost.\n\nSession counts seem fine, it’s just that the quality of attribution is poor unless the user refreshes or navigates after accepting. It’s a timing issue, really.\n\nAnd yes, defaulting to “denied” is required to stay GDPR-compliant for first-time users.",
                "author": "microwave-2025",
                "score": 1
            },
            {
                "body": "Let pageview fire only after consent update is fired",
                "author": "Interesting-Plan-618",
                "score": 1
            },
            {
                "body": "Since UTMs were initially showing in DebugView and now they’re not, and I’ve confirmed my GA4 config tag fires on all pages (Initialization trigger), I’m wondering if there’s something off with either how CookieYes is updating consent or the tag timing.\n\nIn your opinion, what would be the best way to fix this setup? Should I be changing how consent is handled in GTM or adjusting how UTMs are captured?\n\nWould really appreciate your take on what I might need to do to get this tracking working properly again.",
                "author": "microwave-2025",
                "score": 1
            },
            {
                "body": "Thanks for this!",
                "author": "Strict-Basil5133",
                "score": 1
            },
            {
                "body": "Haha funny! ITotally agree with you ChatGPT can be useful, but it definitely has a habit of confidently suggesting overcomplicated solutions, especially when you’re trying to debug consent or tagging issues.\n\nFor example, in my case, ChatGPT suggested I disable the default page view by setting send_page_view: false in the GA4 config tag. Then, I was supposed to create a separate GA4 page_view event tag that would only trigger when analytics_storage = granted, using a custom event like cookie_consent_update and a Data Layer Variable {{dlv - analytics consent}} set to granted.\n\nIn theory, that would delay the page view until after consent and preserve UTM parameters but the issue was that CookieYes wasn’t pushing any analytics_storage consent updates into the Data Layer. The DataLayer variable just stayed \"undefined\" even after users accepted cookies. So the trigger never fired, and no page_view was sent at all.\n\nWhat’s strange is that I couldsee in GTM's Consent tab that the consent status was updated to \"granted\", but since CookieYes was handling it internally and not pushing that to the Data Layer, it broke ChatGPT’s whole approach.\n\nSo yeah, I’m struggling a bit here. I’ve spent hours trying to get UTM parameters to persist correctly. I can see in GTM Debug Mode that the initial page view is being sent before consent is granted, and I’m pretty sure that’s where the UTM data is captured and lost.\n\nOnly after users accept cookies and navigate to another page does a new page view get triggered and that shows up as the first page view in GA4’s DebugView, which confirms that attribution is getting lost right at the start.\n\nCan anyone confirm if that’s likely the root cause? And if so, what’s the best way to solve it?\n\nReally appreciate any insight this one's been driving me mad for days!!",
                "author": "microwave-2025",
                "score": 1
            },
            {
                "body": "all the talk about persisting UTM parameters - google is handling that 'on the fly' in the reporting API. you should not need to do anything. any of the 9 legitimate UTMs that come in on site landing, GTM/GA4 will automatically 'handle' them with no effort on your part. that you see them show up correctly as 'first user medium' or 'session medium' etc in GA4 is something that GA4 is addressing without assistance. yes - i have written code to persist both first user and current UTM URL query strings using 1st party cookies. but there are only really 2 reasons to do that. 1) something peculiar with how your subdomains are set up with different GA4 measurement streams (not a good reason) or some sort of server side URL query string parameter truncation, or 2) needing to pass on the UTM values to something else like HubSpot or Salesforce as a form input.",
                "author": "Humble_Elderberry_25",
                "score": 1
            },
            {
                "body": "That’s good to know, and I really appreciate the explanation.\n\nBut here’s where I’m still stuck: when I preview my website in GTM using a URL with UTM parameters (e.g. https://mywebsite.com/?utm_source=test&utm_medium=test&utm_campaign=test), and then open GA4 DebugView, I don’t see the source, medium, or campaign in the page view event. They’re missing completely even though I understand they should be auto-handled by GA4.\n\nThis is also why they’re not showing up in my real-time reports under Page view → Source / Medium / Campaign, and why I’m getting 90+% Direct traffic in reports. So it seems like GA4 isn’t picking them up at all.\n\nThe strange part: if a user accepts cookies and then hard-refreshes the page, then the UTM parameters appear in DebugView and Real-Time  so that seems to be the key moment where the UTM data actually gets captured and passed through.\n\nSo it looks like the initial page view is happening before consent is granted, and GA4 is either not allowed to collect attribution info at that point or isn’t persisting it and then by the time consent is granted, the UTM data is already lost from the URL.\n\nAny idea why that’s happening? That’s the crux of the issue, and I’d really appreciate any thoughts or direction on what to try next.\n\nThanks again for taking the time!",
                "author": "microwave-2025",
                "score": 1
            },
            {
                "body": "Have you asked ChatGPT? Seriously, it’s made exceedingly quick work of every third party integration I’ve thrown at it. \n\nAt a glance, if you’re defaulting to opt out, and then a user accepts, I can imagine initiating an anonymous session pre banner interaction if it somehow qualifies as engaged, and then initiating a second direct cookie’d session when the user consents. Even if it’s not splitting the session, I’d guess that the interaction would drop the cookie, initiate a session, and that session would be direct since it starts on the site. Are your session counts normal? Is there a specific reason you're defaulting to opt out?",
                "author": "Strict-Basil5133",
                "score": 0
            },
            {
                "body": "Hi,\n\nWhen you implement CookieYes, it blocks third-party analytics (like GA4) from firing until the user accepts the relevant cookies. That means GA4 doesn't capture source/medium data unless consent is given, so traffic that *should* be attributed ends up labelled as ‘Direct’.\n\nTo address this:\n\n* **Google’s Advanced Consent Mode V2** can help. It allows tags to send cookieless pings *before* consent is given. These are used by Google to model user behaviour but aren’t shown in your actual GA4 reports, they just help fill in the gaps.  \n* Full tracking only kicks in once the user accepts analytics cookies. If most visitors don't consent, GA4 ends up labeling a big chunk of traffic as 'Direct'.\n\n\n\nEven with these features in place, you may still see major gaps in reported traffic if users don’t accept tracking cookies. To stay GDPR compliant, analytics tools must respect user consent, so you can’t collect complete tracking data without explicit permission.\n\nRefer: [https://www.cookieyes.com/documentation/drop-in-traffic-on-google-analytics-after-adding-cookieyes/](https://www.cookieyes.com/documentation/drop-in-traffic-on-google-analytics-after-adding-cookieyes/)\n\nIf you need help troubleshooting your setup or setting the tag behavior correctly, feel free to email us at [support@cookieyes.com](mailto:support@cookieyes.com).",
                "author": "cookieyesHQ",
                "score": 0
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1753870786.0,
        "title": "[HELP] Issue with higher converions value then in CMS",
        "author": "Dzuri_17",
        "id": "1md2ugk",
        "selftext": "**TL;DR**\n\n* E‑shop on **Shoptet (CMS like shopify)** (CZ), tracking **GA4 + Google Ads** via **GTM** (client‑side only).\n* Google Ads **Conv. value** is **70–80% higher** than CMS real revenue.\n* In Tag Assistant, **one** `purchase` event fires **two** Google Ads hits to the **same AW-ID/label/transaction\\_id**:\n   1. `https://www.googleadservices.com/pagead/conversion/<AW-ID>/`\n   2. `https://www.googleadservices.com/ccm/conversion/<AW-ID>/`\n* Add‑to‑cart / add\\_shipping\\_info fire **once**. Only **purchase** shows as two hits (under the **same event**, not separate events).\n* I can switch to 1 source (GTM **or** Shoptet), but I want to understand why this happens and how to stop any duplicate counting / inflated value.\n\n# Stack / context\n\n* Platform: **Shoptet** (SaaS e‑commerce, CZ).\n* Tracking: **GTM (web)**, **GA4**, **Google Ads**.\n* Consent mode present (`gcs=G111`).\n* Previously had **two purchase sources**:\n   * **Shoptet’s native Google Ads conversion** (set by Conversion ID + Label in Shoptet admin)\n   * **GTM Google Ads Conversion tag** for purchase\n\n# Numbers (example month: May 1–31)\n\n* **Real revenue (CMS/Shoptet):** CZK **1,056,025.86** across **1,170** orders.\n* **Google Ads – “Purchase – Shoptet” (Primary):** **796.61** conversions, value **CZK 1,903,212.27** (DDA).\n* **Google Ads – “Purchase – GTM” (Secondary):** **796.80** conversions, value **CZK 1,825,633.53**.\n* **GA4 – purchase event:** \\~**CZK 705,000** (converted from **€27,620.40**) with **2,621** items purchased.\n\nSo Ads values **exceed real revenue by \\~70–80%**. Conversion *counts* for the two purchase actions are almost identical → suggests either value inflation or double‑firing across actions.\n\n# DataLayer (thank‑you) has transaction ID\n\nExample keys: `transactionId: \"2026003069\"`, `currency: \"CZK\"`, items array, etc. So we do have a unique order ID to dedupe.\n\n# What Tag Assistant shows for purchase (both when I kept only GTM and when I kept only Shoptet)\n\n**Under the same** `purchase` **event**, I see **two** hits to the **same** AW‑ID + label + value + currency + `oid`:\n\n    makefileKopírovaťUpraviť# Hit A (main)\n    https://www.googleadservices.com/pagead/conversion/<AW-ID>/\n    label=4tR9CJTmzZ0aELThy-0-\n    value=474.38\n    currency_code=CZK\n    oid=2026003705\n    en=purchase\n    ... (gcs=G111, etc.)\n    \n    # Hit B (secondary)\n    https://www.googleadservices.com/ccm/conversion/<AW-ID>/\n    label=4tR9CJTmzZ0aELThy-0-\n    value=474.38\n    currency_code=CZK\n    oid=2026003705\n    en=purchase\n    ... (gcs=G111, etc.)\n    \n\n* In earlier tests I saw `ec_mode=m` or `ec_mode=a` and `em=tv.1`.\n* When I **paused all Ads tags in GTM**, Shoptet still pushed **two** purchases.\n* When I **removed Shoptet’s Ads integration** and left **only GTM**, I **still** saw two hits (one `/pagead/`, one `/ccm/`).\n* **add\\_shipping\\_info** fires **once**, not duplicated.\n\n# What I’ve already tried\n\n1. **Disable GTM Ads tags** → Shoptet alone still sent **two** purchase hits.\n2. **Disable Shoptet Ads integration** (keep GTM only) → still **two** hits.\n3. **Turned off Enhanced Conversions in GTM** → still seeing `/ccm/conversion` \\+ `em`/`ec_mode` in hits (so EC likely still **ON in the Google Ads conversion action**, not just GTM).\n4. Verified **same** `AW-ID`, **same** `label`, **same** `transaction_id (oid)`, **same** value/currency on both hits.\n5. GA4 purchase looks lower; **conv counts** in Ads for the two purchase actions were almost matching; **value** in Ads is much higher than CMS (70–80%).\n6. I can keep **only one** purchase source (GTM or Shoptet). I just want to make sure the **value inflation** truly stops and understand the **two‑hits behavior**.\n\n# Hypotheses\n\n* `/pagead/conversion` is the **main** conversion request; `/ccm/conversion` might be an **EC/consent‑related companion ping** (user‑provided data pipeline). If so, **it shouldn’t create a second conversion**, but Tag Assistant shows two hits, which is confusing.\n* Historic **double‑counting/value inflation** likely came from having **two purchase actions** (Shoptet + GTM) both set as **Primary**, so Ads **summed** values across actions (dedupe by `transaction_id` works **only within the same action**, not across actions).\n* **Conversion Value Rules** in Ads (if any) could also inflate value after the hit (not visible in the request).\n* **Consent‑mode modeling** might add modeled conversions/value into standard columns (again not visible in the hit), but consent is `G111`, so maybe less likely here.\n* I susspect that value in GA4 is the real one. \n\n# What I’m asking the community\n\n1. **Are two hits (**`/pagead/conversion` **+** `/ccm/conversion`**) for a single purchase event expected** when Enhanced Conversions are enabled (at the **Ads action** level), even if EC is switched off in GTM?\n   * If yes, can someone point to **docs** that explain `/ccm/conversion` specifically and confirm it **doesn’t count** as a second conversion?\n2. **Best practice to stop value inflation** in this setup:\n   * Keep **only one** purchase action (either Shoptet **or** GTM) as **Primary**, set the other to **Secondary** or disable?\n   * Any Shoptet‑specific quirks where their native script may fire **two** purchase hits (not only EC), and how to fully disable them?\n3. **Where exactly to 100% disable Enhanced Conversions** so `/ccm/conversion` disappears in Tag Assistant?\n   * I turned off EC in **GTM**, but `/ccm/` still fires (which suggests EC is still ON in the **Google Ads conversion action**). Is that the right place to turn it off so only `/pagead/conversion` remains?\n4. **Other gotchas that inflate Conv. value:**\n   * **Conversion Value Rules** report to see original vs adjusted value — anything specific I should check?\n   * Any **Consent Mode** nuances that could affect only **purchase** (and not add\\_shipping\\_info) by adding modeled value?\n   * Shoptet sending **gross vs net** or shipping included? (My DL shows value/currency consistently; just checking if someone hit a Shoptet edge case.)\n5. **Guard solutions** you recommend:\n   * If I must, I can add a **GTM blocking mechanism** (cookie/localStorage) to prevent a second purchase fire for the same `transaction_id`. Any proven recipes/templates you like?\n\n# Goal\n\n* End up with **one** clean purchase action in Ads (Primary), **one** hit per purchase in Tag Assistant (ideally just `/pagead/conversion`), and **Conv. value ≈ CMS revenue** (minus normal attribution/modeling differences).\n* Confirm whether `/ccm/conversion` is purely an EC/consent companion ping and **not** a second counted conversion.\n\nHappy to share HAR or more redacted screenshots if needed. Any pointers or war stories from Shoptet + GTM folks would be much appreciated! 🙏\n\n",
        "score": 4,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1md2ugk/help_issue_with_higher_converions_value_then_in/",
        "num_comments": 5,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1752262793.0,
        "title": "Is this the correct architecture for GA4 + Meta CAPI with GTM Server?",
        "author": "plymouthvan",
        "id": "1lxga7e",
        "selftext": "**TL;DR:** Trying to confirm if *Browser → Server → GA4 + Meta* is the proper architecture when using GTM Server-side tagging. Right now, GA4 Event tags seem to bypass the server and go straight to GA4, with Meta picking them up via backend forwarding. I want to centralize all event routing through the server for consistency and deduplication—but I can’t find clear confirmation that this is officially supported or expected behavior. Anyone actually done this and know for sure?\n\n———\n\nI’m in the process of wiring up server-side tagging with Google Tag Manager for both GA4 and Meta (Facebook) CAPI. I’m trying to establish whether the architecture I’m aiming for is actually the “correct” best-practice approach—or if I’m overengineering something that Meta’s auto-setup intentionally avoids.\n\nHere’s what I’ve got:\n\n* GTM Web container handles tagging.\n* A **Google Tag** (not the old GA4 Config) is in place with a transport\\_url that points to my GTM Server container (custom domain mapped).\n* GA4 Event tags are firing from the Web container for things like form submissions, outbound clicks, etc.\n* Meta CAPI is installed via their GTM partner integration, which created:\n   * A server-side Meta tag\n   * A GA4 Event tag that mirrors all GA4 events\n   * A Meta Pixel tag with event\\_id configured\n\nHere’s what I’m trying to do is **Ensure that all GA4 events go Browser → Server → GA4 + Meta**, so that the server container becomes the single hub for both platforms. This would mean:\n\n* GA4 Event tags use transport\\_url to route through the server\n* event\\_id is attached browser-side for deduplication\n* Meta only receives events through the server (with deduplication support)\n\nThe problem is:\n\nGA4 Event tags don’t support transport\\_url directly. Meta’s GA4 tag bypasses the server entirely and sends data directly to GA4. The server sees these events only because GA4 forwards them from the backend (via the GA4 Client in GTM Server). This seems inconsistent and breaks event\\_id pairing for custom events.\n\nSo the question is:\n\n* Is the architecture I’m aiming for (**Browser → Server → GA4 + Meta**) actually the right way to do this when you’re using server GTM?\n* Or is Meta’s default approach (**Browser → GA4 → Server → Meta**) actually what Google/Meta expect and support for production use?\n\nBonus points if you’ve implemented this and have confirmation (from real behavior or from Google reps/devs/docs) that GA4 Event tags *are or are not* meant to route through the server when a Google Tag is present with transport\\_url.\n\nI’ve done a lot of reading and arguing with ChatGPT, and I’ve yet to see this spelled out clearly. I want to give these companies money to show people my website, but I cannot for the life of me get the \n\nThanks in advance.",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1lxga7e/is_this_the_correct_architecture_for_ga4_meta/",
        "num_comments": 7,
        "comments": [
            {
                "body": "I think I've got it.\n\n  \nIf you haven't come across this yet, you might find this helpful [https://developers.facebook.com/docs/marketing-api/conversions-api/guides/gtm-server-side](https://developers.facebook.com/docs/marketing-api/conversions-api/guides/gtm-server-side)\n\nThe point I'm getting to is that the GA4 Tag for Meta is not needed as long as your GA4 Events are standard ones with standard parameters, because if so then Meta is able to transform the GA4 format into Meta's format with no additional manipulation required.",
                "author": "Taca-F",
                "score": 3
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Just so we've clear, in the web container you currently have:\n\n\\* A Google Tag and GA4 Event tags intended to send data to GA4\n\n\\* A different set of GA Event tag intended to send data to Meta",
                "author": "Taca-F",
                "score": 1
            },
            {
                "body": "Is everything going in to GA4 on the same webstream? \n\nI run pixelyoursite for their meta capi integration. \n\nServer gtm isn’t something I’ve tackled yet but my initial take is:\nMeta may need slightly different event parameters than GA4.\nGA4 handles event matching differently and may dedupe / match in a way that throws off meta tracking. \n\nMost (meta, google) ask for parallel tracking alongside GA4 for cleaner data.",
                "author": "ant_topps",
                "score": 1
            },
            {
                "body": ">Is the architecture I’m aiming for (**Browser → Server → GA4 + Meta**) actually the right way to do this when you’re using server GTM?\n\nThis is the right way to do things. It will be slightly challenging to accommodate for the difference in event parameters naming but once you figure this out you can scale this for other AD platforms as well. I use this setup for clients with multiple ad platforms and this will ensure your event number reconcile closely as well.\n\nNow META can support pixel events from the browser, as long as you have your event deduplication IDs figured out its good to have that as well.\n\n>  \nGA4 Event tags don’t support transport\\_url directly.\n\nWhat do you mean? they do support, just add them to event\\_parameters.\n\nDM me if you need any help on sorting this out.",
                "author": "ds_frm_timbuktu",
                "score": 1
            },
            {
                "body": "I find it so much easier to use Rudderstack's free plan (up to 1 million events per month) to submit to both server side in addition any other destinations (not limited to just ad networks / CAPIs but also your CRM, marketing automation, etc.) that you might want to add in the future.",
                "author": "Straight_Special_444",
                "score": 1
            },
            {
                "body": "Not quite.\n\nIn the Web container I currently have:\n\n* A **Google Tag** configured with my GA4 Measurement ID and a transport\\_url pointing to my server container. This handles the base GA4 config and sends page\\_view.\n* A set of **GA4 Event tags** that fire custom events (like lead\\_submission, outbound\\_click, etc.) — *these do not*currently use transport\\_url, so they go straight to GA4.\n* Meta’s GTM integration also added:\n   * A **Meta Pixel tag** (browser-side) with event\\_id configured\n   * A **GA4 Event tag** that mirrors all GA4 events and attaches Meta-relevant parameters (but also skips transport\\_url)\n   * A **server-side Meta CAPI tag** in the Server container, which listens for GA4 events and sends them to Meta\n\nSo effectively, GA4 gets data straight from the browser, and Meta gets it server-side via GA4’s backend forwarding — which is what I’m questioning. I’m trying to determine if I should instead route *all* events through the server using transport\\_url for consistency and deduplication.",
                "author": "plymouthvan",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1753662657.0,
        "title": "Automated Click Tracking for GTM => No More Manual Data Attribute Tagging",
        "author": "highlvlproblemsolver",
        "id": "1mb25x6",
        "selftext": "Hey GTM wizards,\n\nTired of manually tagging every button, link, and UI element for click analytics?\n\nHere’s a free, open-source utility that **automatically tags all interactive elements** in your DOM with standardized `data-*` attributes, then captures every click and pushes structured data right to your analytics tooling Google Tag Manager (`window.dataLayer`), Tealium, RudderStack, Segment, Mixpanel, or your own endpoint.\n\n# What problem does this solve?\n\n**Manual click tracking = hours lost.**  \nEvery new campaign, A/B test, or product launch usually means endless repetitive tagging, then even more time double-checking every data attribute.\n\nThis project does it for you reliably, automatically, and at scale.\n\n# How to use with Google Tag Manager (GTM):\n\n1. **Add the script** (TypeScript library or copy-paste JS snippet from the GitHub repo) to your site, or deploy as a Custom HTML tag in GTM.\n2. **Set up a single trigger** in GTM:\n   * **Type:** Custom Event\n   * **Event name:** `click_event`\n3. **Create Data Layer Variables** for each value:\n   * `click_object.action`\n   * `click_object.context`\n   * `click_object.type`\n   * `click_object.value`\n4. **Add one new click tag** (for GA4, or your clickstream tool), attach your trigger & variables - name them as you like.\n5. **Done!** All click events across your whole site are now tracked automatically, no manual tagging required.\n\n**A few more details:**\n\n* Works out-of-the-box with `<a>`, `<button>`, `<input>`, `<select>`, etc.\n* Semantic data attributes are added automatically\n* Performance impact is negligible (\\~2ms overhead)\n* Fully customizable for other analytics platforms (just swap out the dataLayer push)\n\n**Want to contribute or check out the code?**\n\n* Unit tests are included (written in Jest/TypeScript).\n* If you want to add new features, more test coverage, or suggest improvements, PRs and feedback are very welcome!\n* [https://github.com/rathoreabdullah/Click-Tracking-Automation](https://github.com/rathoreabdullah/Click-Tracking-Automation)\n\nHappy to answer questions or help anyone get started. Hope this saves you a bunch of time!\n\nAbdullah",
        "score": 12,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1mb25x6/automated_click_tracking_for_gtm_no_more_manual/",
        "num_comments": 4,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Following is a link to a JSON container that can be imported into a new workspace in Google Tag Manager and published to an existing GTM container. It is agnostic of the site being Sitecore or Wordpress or AEM or a React SPA, etc. It captures the clicks, and attempts to identify the click element by id, class name, text, aria-label, data-testid, alt text, click URL, etc. It breaks down the click URL so you can leverage it for either measuring social media link clicks - click host name - or PDF downloads - click document. If, for example, your click is identified by an aria-label that is not set on the specific click element, but on the parent tag of the element, the code searches up 3 levels to identify the value. If your web developers used something other than aria-label or data-testid, etc to identify click elements, you can use this as a template. The only thing you need to change for the code to work is replace the {{GAID}} reference with the value used in your site GTM container.\n\n\n\n[https://github.com/drewspen/gtm-generic-agnostic-click-tracking](https://github.com/drewspen/gtm-generic-agnostic-click-tracking)",
                "author": "Humble_Elderberry_25",
                "score": 1
            },
            {
                "body": "This is a neat idea. I think this could save me a lot of time. Cheers.",
                "author": null,
                "score": -1
            },
            {
                "body": "You're very welcome!",
                "author": "highlvlproblemsolver",
                "score": -1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1749930119.0,
        "title": "Server to server side tracking",
        "author": "Programer_Marktech",
        "id": "1lbh81w",
        "selftext": "Hi all,\n\nWe’re running a fully self-hosted server-side GTM (sGTM) setup for our eCommerce business — no Stape, no managed services. It’s deployed via Docker, behind Nginx (with OpenResty/Lua for geo enrichment), and connected to both browser-side GTM and backend events (e.g., purchase confirmations, server-generated events).\n\nI’m mostly interested in hearing from others who are running their own in-house sGTM infrastructure and dealing with real-world tracking challenges — especially:\n\nAdblockers / Privacy Browsers / Tracking Protection:\nWhat kind of issues have you seen in production (e.g., dropped hits, missing data, failed cookie writes)?\nHow do you monitor the reliability of client → server → sGTM → GA4 flows?\n\nAttribution gaps:\nHave you implemented any form of server-side user identity mapping, or started storing your own version of event logs or session data to reduce reliance on GA4 for attribution?\n\nCustom DB tracking:\nDid you build your own database to store events or user journey snapshots? If yes — what was the trigger (e.g., poor reliability, consent enforcement, audit reasons)?\nHow do you correlate data from multiple sources (frontend, backend, ads)?\n\nConsent Mode enforcement:\nAre you handling consent at the edge (e.g., Nginx + geo + cookie inspection) or passing everything through the browser layer?\n\n\nI’ve read most of the guides and docs, but I’m more interested in hearing what breaks in practice, and what people had to build themselves to get tracking truly reliable.\n\nIf you’ve been through this — even partially — I’d really appreciate hearing your experience. Mistakes, lessons, regrets, anything.\n\nI'm also happy to share details about our setup or lessons we've learned so far — hoping this can help others going down the same path.",
        "score": 8,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1lbh81w/server_to_server_side_tracking/",
        "num_comments": 9,
        "comments": [
            {
                "body": "I come at this from the privacy/compliance side, not infra. One thing I’ve seen bite teams is when adblockers or privacy browsers strip consent signals, which can lead to data being logged without valid consent.   \n  \nThat’s less a technical reliability issue and more a legal one — regulators increasingly want to see not just ‘what data did you capture,’ but ‘under what consent state.’   \n  \nCurious if anyone here is storing consent states alongside events in their own DB for auditability? That seems to be a growing best practice",
                "author": "Far_War_9778",
                "score": 2
            },
            {
                "body": "Good point — I haven’t really seen many teams actually storing consent state alongside events, but it makes a lot of sense. In our setup, if no consent exists we don’t store any personal data (or anything that could point to an individual), but when consent is present we generate a snapshot ID on the edge and tie it to the event in sGTM/DB. This way each event can be traced back to its consent state, which feels like a best practice going forward.",
                "author": "Programer_Marktech",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "How are u hosting the Gtm? Cloud Run?",
                "author": "South_Area9791",
                "score": 1
            },
            {
                "body": "[removed]",
                "author": null,
                "score": 1
            },
            {
                "body": "[removed]",
                "author": null,
                "score": 1
            },
            {
                "body": "Nope, it's too expensive. It's on our servers.",
                "author": "Programer_Marktech",
                "score": 1
            },
            {
                "body": "What is great? 😀",
                "author": "Programer_Marktech",
                "score": 1
            },
            {
                "body": "Hello to you.\n\nDo you have any advice on this topic, or do you just want to say hello?",
                "author": "Programer_Marktech",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1746622284.0,
        "title": "I built a all-in-one Chrome extension to simplify tracking verification for Google Tag Manager (and 20+ networks)",
        "author": "Prior-Switch-9099",
        "id": "1kgwkp6",
        "selftext": "Hello everyone,\n\nFor those involved in managing digital advertising and analytics, verifying tracking implementations across various platforms is often a necessary task. Utilizing multiple pixel helper extensions and GA debug views to monitor Google Tag Manager, Google Ads, Meta, TikTok, GA4, and other systems can present efficiency challenges, particularly during the deployment of new campaigns or website features.\n\nTo address this, I have developed a Chrome extension called Zen Analytics Pixel Tracker. This tool aggregates data from 20+  trackers into a unified interface within your browser.\n\n[⬇️ Official website](https://zen-analytics-pixel-tracker.web.app/)  \n⬇️ The extension is available for download here: [Chrome webstore URL](https://chromewebstore.google.com/detail/zen-analytics-pixel-track/gknigcbhlammoakmmdddkblknanpjiac?hl=en)\n\n⬇️ Reddit channel for supports, issues, and disscussion: r/zen_analytics \n\nI invite you to explore Zen Analytics on the Chrome Web Store and share any feedback you may have. Please be aware that this product is currently in its beta phase. Your insights regarding functionality, any encountered issues, or suggestions for future enhancements are welcome. During this beta period, all premium features are accessible for evaluation at no cost. Thank you for your time.",
        "score": 23,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1kgwkp6/i_built_a_allinone_chrome_extension_to_simplify/",
        "num_comments": 11,
        "comments": [
            {
                "body": "Looks good will give it a try",
                "author": "pommybear",
                "score": 3
            },
            {
                "body": "Looks interesting good luck!",
                "author": "PictureOutrageous270",
                "score": 3
            },
            {
                "body": "Thumbs up!",
                "author": "north7",
                "score": 3
            },
            {
                "body": "So far this is a great tool.  But you really need to add more info to the website or even create a forum here on Reddit if you want folks to promote it.\n\nAlready using it to do QA testing.",
                "author": "philbarnhart",
                "score": 3
            },
            {
                "body": "It looks interesting. I'll try. There should be a dedicated place here to provide functionality feedback. Or take another tool called feedback to collect opinions from your users",
                "author": "Chemouel_Dgx",
                "score": 3
            },
            {
                "body": "Thank you very much for your feedback! really glad to hear that that the extension helpful.\n\nSo, as requested, here is the dedicated Reddit channel  \n[https://www.reddit.com/r/zen\\_analytics/](https://www.reddit.com/r/zen_analytics/)\n\nSpecific thread for support section task   \n[https://www.reddit.com/r/zen\\_analytics/comments/1ki6jc1/new\\_supportissues\\_section\\_coming\\_to\\_the\\_extension/](https://www.reddit.com/r/zen_analytics/comments/1ki6jc1/new_supportissues_section_coming_to_the_extension/)",
                "author": "Prior-Switch-9099",
                "score": 3
            },
            {
                "body": "Hey,  thank for your feedback.  \nYou can check out the thread on support/feedback section here.  \n[https://www.reddit.com/r/zen\\_analytics/comments/1ki6jc1/new\\_supportissues\\_section\\_coming\\_to\\_the\\_extension/](https://www.reddit.com/r/zen_analytics/comments/1ki6jc1/new_supportissues_section_coming_to_the_extension/)\n\nCan you also share more information regarding the tool call \"feedback\"? Really appreciate that.",
                "author": "Prior-Switch-9099",
                "score": 3
            },
            {
                "body": "I'll try it out tomorrow. This seems great. Any info on the future pricing?",
                "author": "MariusGMG",
                "score": 2
            },
            {
                "body": "Okay, thanks.\n\nSo our current priority is definitely on expanding our user base and increasing adoption. Regarding future pricing, we are in the process of analyzing our competitors' strategies. A freemium model is currently under consideration. The aim would be to provide a free tier with at least the core features offered by comparable extensions, with a potential discount of around 30-40% for the premium version.",
                "author": "Prior-Switch-9099",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "You can look here for the tool [Fiidbakk](https://fiidbakk.com). \nIt’s u/26dr who develops this. \nI saw it in operation on the tool [warmr](https://warmr.io) for LinkedIn. It seems to do the job!",
                "author": "Chemouel_Dgx",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1749726726.0,
        "title": "Duplicate events (view_item, add_to_cart) with GTM4WP & Complianz",
        "author": "jeremyfisher2",
        "id": "1l9jrpn",
        "selftext": "Hi all, I'm setting up Tag Manager & GA4 & later Ads, the setup for my Woocommerce store is this:\n\n* Complianz paid version, where I have my GTM-xxxxx set. Also Consent Mode V2 enabled.\n* GTM4WP installed, where I also have GTM-xxxxx and Container code OFF, because it is set in Complianz. Enhanced e-commerce is set on.\n* In Tag Manager I have these tags:\n   * [Complianz.io](http://Complianz.io) \\- The Privacy Suite for Wordpress (From the community list as instructed by complianz docs)\n   * GA4 Page view (Type: Google-tag, Trigger: Initialization - All pages)\n   * Imported Ecommerce events by Loves Data\n\nI was testing with Tag Assistant and noticed duplicate events, for example two *add\\_to\\_cart*'s and they differ slightly, first is\n\n>*dataLayer.push({*  \n*event: \"add\\_to\\_cart\"*  \n*eventModel: {....*\n\nand the latter is\n\n>*dataLayer.push({*  \n*event: \"add\\_to\\_cart\",*  \n*ecommerce: {....*\n\nI'm trying to use chatgpt to help out, it said that the *ecommerce* is correct and eventModel is old and coming from somewhere else than Complianz/GTM4WP, but I don't have any other plugins or tags in php files that I know of... \n\nThe problem: I'm automatically assuming these duplicates are bad, but is it so? Can I do something about them? Thanks! :)",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1l9jrpn/duplicate_events_view_item_add_to_cart_with/",
        "num_comments": 9,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "1. To confirm if one of the data layer pushes is coming from elsewhere, try disabling GTM4WP and see what data layer pushes still happen.\n2. Pushing data to both ecommerce and eventModel doesn't necessarily result in duplicates. For example, the GTM tag that will send data to GA or other providers hooks into events such as view_item and typically sends data once from ecommerce or from eventModel as a fallback.",
                "author": "whitepanda07",
                "score": 1
            },
            {
                "body": "Yes, the \"ecommerce\" is the correct version of the code, \"eventModel\" is a type I'm seeing for the first time. Both GA4 and UA use the \"ecommerce\" array, although there are some differences in the code for each version. Something is sending the second dataLayer push. Try switching things off 1 by 1 (e.g on a staging copy of the site) to find out what pushes it.",
                "author": "Etianen7",
                "score": 1
            },
            {
                "body": "After disabling GTM4WP the \"ecommerce\" events stopped, and the \"eventModel\" remained :)\n\nI was not yet able to test with disabling Complianz and enabling GTM4WP Container code, because tag assistant said that no container found at all... But I guess Complianz is pushing something?",
                "author": "jeremyfisher2",
                "score": 1
            },
            {
                "body": "Then it's possible, yes. Double-check the GTM4WP settings to ensure it's initializing the container, then try this:\n\n1. disable Complianz & enable GTM4WP\n2. open a product page and do an add to cart\n3. open the dev console in the browser (right click > Inspect > Console), then type \\`dataLayer\\`\n\nIf \\`dataLayer\\` does not exist, then GTM4WP is not initializing the container (though it should). If it exists, check there if it contains multiple \\`add\\_to\\_cart\\` pushes. \n\nWe can also jump on a quick call if it helps.",
                "author": "whitepanda07",
                "score": 1
            },
            {
                "body": "It seems I got rid of the \"eventModel\" duplicates :) When I disabled the Complianz plugin, Tag Assistant didn't find the GTM container at all even though I set it ON in gtm4wp.\n\nBut, what I also did was play around with complianz settings by just disabling the container (Do you want Complianz to add Google Tag Manager to your website -> No), then switching back. I don't know if this is what helped but I don't see the duplicates anymore. Works for me! Thanks for your input :)",
                "author": "jeremyfisher2",
                "score": 1
            },
            {
                "body": "Great, happy to hear it!",
                "author": "whitepanda07",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1752016976.0,
        "title": "Form submissions not showing in Google Ads, but tag fires fine?",
        "author": "Infamous_Solid_3465",
        "id": "1lv3l22",
        "selftext": "I started running Google Ads and we’re definitely getting more leads through our contact form.\n\nBut in Google Ads, the form submission conversion isn’t increasing at all. Could this be due to cookie consent? Like if people don’t accept cookies, does the submit event not get sent to Google Ads? Or is it a conversion attribution issue? \n\nI checked in Google Tag Manager, and the tag does seem to fire correctly. \n\nWe also track other conversions as secondary goals (like page views, time on page), and those are being counted normally in Ads. At least the count is going up. \n\nAny tips on how to troubleshoot this?",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1lv3l22/form_submissions_not_showing_in_google_ads_but/",
        "num_comments": 5,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Sometimes there's a 16-24 hour delay before Google ads will record a lead. How long has it been for you?",
                "author": "mud4231",
                "score": 1
            },
            {
                "body": "Yeah, I’m talking about a month. We usually get a few leads per month, but once the search campaign started, we are getting around one request per day, which is great for our niche. The first two were tracked in Google Ads, but after that, nothing else has been recorded there.\n\nI’m not running any other marketing activities that could explain the increase, so it feels like the campaign is working. But from a tracking perspective, it looks like we’re spending money and getting zero results. I’m really confused. Because technically things seems to be set up and working correctly.",
                "author": "Infamous_Solid_3465",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1747173010.0,
        "title": "2 wordpress sites, exact same install, tags, & triggers; only works on 1 site - help please",
        "author": "Idontlikethenamegame",
        "id": "1klyimo",
        "selftext": "UPDATED BELOW\n\nHello- as the title suggests. \n\nDetails below, but I am trying to track just simple things: clicking on tel: and clicking on an outbound link. Healthcare field. I set it up the same way on both sites on the same date, but it's only working on one. GTM preview mode shows success on both sites. Details:\n\n- Wordpress sites\n- GTM is installed via the WP plugin called \"Site Kit\"\n- tag is GA4 Event\n- trigger is clicks - just links \"click URL starts with tel:\"\n- For both sites, it appears GA4 is installed within the Site Kit GA4 option AS WELL AS a container inside of GTM. It's the same on both. \n\nThe ONLY difference I can see is that in Site Kit inside WP, in the module where GTM gets installed, on the site where it's not working, at the bottom there is a message that says \"Placing two tags at the same time is not recommended.\" and I'm not sure what that means. Does that mean GTM is stalled twice? Is GA4 installed twice?\n\nI installed both of these on Friday, May 9. Again, verified that both were firing properly via tag manager preview. Didn't look all weekend. On Monday I verified the event was populating in GA4 on one site but not the other.  \n\nI'm stumped. Please help?\n\nUPDATE: So it's looking like the consent issues here are restricted on GA4 and it's not necessarily an issue with Site Kit. I had hoped to keep the tag as a GA4 event so I could track on all channels, but ultimately decided to create the tag as a Ads conversion and it's now recording just fine. Not ideal but better than nothing. Now that I'm at least getting that data to come in, I'll be more comfortable working with their team to find other solutions to track across all channels over time. \n\nMeanwhile, if I could just figure out why my Google Hosted 'All Conversions' aren't populating..... (see the [SECOND issue](https://www.reddit.com/r/PPC/comments/1kcg4s3/google_ads_location_extension_question_x2/) I lay out here). Thanks for all the assistance on this, y'all.",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1klyimo/2_wordpress_sites_exact_same_install_tags/",
        "num_comments": 10,
        "comments": [
            {
                "body": "1. Site Kit is crap, you have to get rid of it and install a plugin like “WPcode snippet” I am often annoyed with SiteKit. (Possibly with GTM4WP)\n2. Consent signals can also largely block the reporting of tags. Checks if the consent mode signals are OK ✅",
                "author": "Chemouel_Dgx",
                "score": 2
            },
            {
                "body": "I second.  \nInstall GTM using the GTM4WP plugin—it's the smarter way.",
                "author": "wardogfufu",
                "score": 2
            },
            {
                "body": "thank you so much for taking the time to provide the insight. I'll take some action and report back. Thanks!",
                "author": "Idontlikethenamegame",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Agree with Chemouel, get rid of SiteKit. As for the duplicate tag warning that you are getting, SiteKit probably installed GA4 tracking code as well as the GTM container (which probably contains GA4 tracking already).",
                "author": "blaff3687",
                "score": 1
            },
            {
                "body": "If you're using GTM, remove GA4 from other places and keep all GA4 tags within GTM. This way it's easier to prevent duplication.",
                "author": "Etianen7",
                "score": 1
            },
            {
                "body": "So I've not made any changes as of yet - I wanted to explore the consent signals you've mentioned as that's outside my wheel house. I'm an contractor ads manager who has been granted access to the site with permission to set up Site Kit. I'll need to talk to them before I install any further plugins. \n\n\nMeanwhile, I see they are using PixelYourSite for consent settings and where I see there are some sections on GTM and there is a some development stuff for firing sequence and other various things that are also outside my pay grade. I don't know this plugin at all?\n\nAny insight as to how I might be able to find a solution here? I'd love to get this figured out without needing to ask them for help. Thanks.",
                "author": "Idontlikethenamegame",
                "score": 1
            },
            {
                "body": "In my opinion, you shouldn't fiddle too much with WordPress if you don't know what you're doing. \nPixelYourSite + SiteKit + code snippets is already a lot. And I've seen WordPress crash for less than that. However, you can ask them to list the code plugins they are currently using and why. If everything is not centralized in GTM it quickly becomes a mess. \nManaging consent with PixelYourSite must also be the problem and I didn't even know this plugin did that! Not very academic. It is better to have a CMP (CookieBot, Axeptio, Didomi, etc.) which manages all of this from GTM. \nSo unfortunately I can't help you much more. In general it takes a little audit to go further and really know what to do. \nWordPress can quickly get out of hand! Too many plugins, no data layer, snippets, hard code…etc. \nRemove SiteKit and install GTM4WP instead already.  You will definitely see a difference. In a case like that, we have to move forward one step at a time, I want to say!",
                "author": "Chemouel_Dgx",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1749810836.0,
        "title": "Wix Studio - Problem with implements GTM codes",
        "author": "GeNeSiS998",
        "id": "1lackvi",
        "selftext": "Hello,\n\nI have an issue with installing Google Tag Manager codes through the Wix platform. After installing the codes, GTM only reads the codes on the homepage, even though during installation, I selected to apply the codes across all pages of the site. Has anyone else experienced this issue? Thanks in advance for any response.",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1lackvi/wix_studio_problem_with_implements_gtm_codes/",
        "num_comments": 6,
        "comments": [
            {
                "body": "If you are on a different page, and you refresh the page, do the tags trigger?",
                "author": "Etianen7",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "1. How did you install GTM in Wix? Through the native integration in the Marketing Integrations page or by adding the JS scripts in the head and body of the page?\n\n2. Are you using any cookie consent plugin that might be blocking GTM from loading?",
                "author": "whitepanda07",
                "score": 1
            },
            {
                "body": "Do you have problems with page view tags specifically? WIX is a single page application and page views can be tracked with a history change trigger.\nThis does not affect the tracking of user initiated actions such as link clicks.\nEven if this is not the issue, I wanted to add this to the thread, it is a common problem with WIX sites.",
                "author": "dengjika",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1739793610.0,
        "title": "Code for Googletag manager not working - is it incorrect?",
        "author": "tryinganewpath",
        "id": "1iri94w",
        "selftext": "I was told to add this code immediately after the header tag on every page of my site, so that we can use the google consent manager tag. However, when I am troubleshooting, apparently no tag can be found. I have been trying for hours but I am really confused. This is what I was told to insert:\n\n \n\n<script>\n\n// Define dataLayer and the gtag function.\n\nwindow.dataLayer = window.dataLayer || \\\\\\\\\\\\\\[\\\\\\\\\\\\\\];\n\nfunction gtag(){dataLayer.push(arguments);}\n \n\n// IMPORTANT – DO NOT COPY/PASTE WITHOUT MODIFYING REGION LIST\n\n//Set default consent for specific regions according to your requirements\n\ngtag('consent', 'default', {\n\n  'ad\\\\\\\\\\\\\\_storage': 'denied',\n\n  'ad\\\\\\\\\\\\\\_user\\\\\\\\\\\\\\_data': 'denied',\n\n  'ad\\\\\\\\\\\\\\_personalization': 'denied',\n\n  'analytics\\\\\\\\\\\\\\_storage': 'denied',\n\n'regions':\\\\\\\\\\\\\\[<list of \\\\\\[ISO 3166-2 region codes\\\\\\](https://en.wikipedia.org/wiki/ISO\\\\\\_3166-2)\\\\\\\\>\\\\\\\\\\\\\\]\n\n});\n\n\n\n// Set default consent for all other regions according to your requirements\n\n\ngtag('consent', 'default', {\n\n\n  'ad\\\\\\\\\\\\\\_storage': 'granted',\n\n\n  'ad\\\\\\\\\\\\\\_user\\\\\\\\\\\\\\_data': 'granted',\n\n\n  'ad\\\\\\\\\\\\\\_personalization': 'granted',\n\n\n  'analytics\\\\\\\\\\\\\\_storage': 'granted'\n\n});\n\n \n\n</script>\n\n\n<!--Banner script here!-->\n\n\n \n\nIt then said to insert our website code from Consent Manager immediately afterwards. I have done all of this but it is still not working and I am getting errors in my Google Analytics account. I know it says to edit the regions but then the instructions said to leave it blank so I am utterly confused. Can anyone help? What am I doing wrong?",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1iri94w/code_for_googletag_manager_not_working_is_it/",
        "num_comments": 19,
        "comments": [
            {
                "body": "Sorry it pasted horribly and I can’t seem to fix it. It was line by line. And no I’m not sure what to do for the region list as we don’t want specific regional settings I don’t think? We are based in the UK but do get some international traffic",
                "author": "tryinganewpath",
                "score": 2
            },
            {
                "body": "My recommendation would be:  \n\\- talk to the person who sent you the code. Ask them to send you the proper code (properly formatted, with regions included or not), without any placeholders or repeated escaping slashes. Regarding the regions, discuss with them which countries or regions you want to manage consent for, so that this is reflected in the code. Make sure you copy the code correctly so that the formatting isn't lost.\n\n\\- OR research how Consent mode should be implemented, e.g starting here [https://developers.google.com/tag-platform/security/guides/consent?consentmode=advanced](https://developers.google.com/tag-platform/security/guides/consent?consentmode=advanced) and finalize the code yourself. You should still discuss which the target regions should be.\n\n\\- choose one of those two options based on your current working relationship with the other person and skillset.",
                "author": "Etianen7",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Your code looks all messed up, did it look like that when you pasted it into your site? Did you add an actual region list?",
                "author": "Etianen7",
                "score": 1
            },
            {
                "body": "[removed]",
                "author": null,
                "score": 1
            },
            {
                "body": "Hey, let us know if removing consent code helped. And remember one main thing - consent **isn't only about banner**, it's also about consent log - which this solution won't provide.",
                "author": "WojtGalucci",
                "score": 1
            },
            {
                "body": "When I first came across this I struggled with endless options to get consent installed. Let me know if you need help and I will take a look.",
                "author": "sweetchiicka",
                "score": 1
            },
            {
                "body": "Hi all, I'm a former mysql/php developer and I recognize the code problem which is preventing others from helping.\n\nThe backslash is an escape character:\n\\\n\nThese are added around \"reserved\" characters that have special meaning to the web parser and would cause the page to distort.\n\nLooks like op fixed the problem, but this explains why.",
                "author": "Far_Highlight_4334",
                "score": 1
            },
            {
                "body": "The code was directly from Google Analytics, I'll try to paste it below again in case it works better! We are using Consent Manager as our CMP. I am trying to follow all the online instructions but something is definitely not working properly\n\n`<script>`\n\n`// Define dataLayer and the gtag function.`\n\n`window.dataLayer = window.dataLayer || [];`\n\n`function gtag(){dataLayer.push(arguments);}`\n\n \n\n`// IMPORTANT – DO NOT COPY/PASTE WITHOUT MODIFYING REGION LIST`\n\n`//Set default consent for specific regions according to your requirements`\n\n`gtag('consent', 'default', {`\n\n  `'ad_storage': 'denied',`\n\n  `'ad_user_data': 'denied',`\n\n  `'ad_personalization': 'denied',`\n\n  `'analytics_storage': 'denied',`\n\n `'regions':[<list of` [`ISO 3166-2 region codes`](https://en.wikipedia.org/wiki/ISO_3166-2)`>]`\n\n`});`\n\n`// Set default consent for all other regions according to your requirements`\n\n`gtag('consent', 'default', {`\n\n  `'ad_storage': 'granted',`\n\n  `'ad_user_data': 'granted',`\n\n  `'ad_personalization': 'granted',`\n\n  `'analytics_storage': 'granted'`\n\n`});`\n\n \n\n`</script>`\n\n`<!--Banner script here!-->`",
                "author": "tryinganewpath",
                "score": 1
            },
            {
                "body": "[removed]",
                "author": null,
                "score": 1
            },
            {
                "body": "Thank you! Unfortunately the code was sent from our PPC agency who say they don’t know more than that. It’s essentially from the Google analytics guide. I looked at the link you sent too but it’s too complicated for me. I’m thinking maybe we need to find an emergency web developer or something",
                "author": "tryinganewpath",
                "score": 1
            },
            {
                "body": "Sorry I don’t know why. This is the code I used and I added it to the website header, site wide. I also added the semi-automatic blocking code from Consent Manager within the body, which is what it told me to do. I have previewed the site in tag assistant and it does seem like the tag is firing now, but Google analytics is just showing an error still and says none of it is set up.\n\nI have spent 6 hours on this already today and just feeling incredibly stupid and frustrated. Web development is not my area of expertise!",
                "author": "tryinganewpath",
                "score": 1
            },
            {
                "body": "What consent management platform are you using? Most of them have built-in ways to implement consent mode which will not require developers (e.g deployment via a WordPress plugin or via Google tag manager for example). The current CMP you have may have a detailed guide on how to do that.",
                "author": "Etianen7",
                "score": 1
            },
            {
                "body": "[removed]",
                "author": null,
                "score": 1
            },
            {
                "body": "Sorry late reply, if you're still stuck DM me, I'll help you fix it",
                "author": "sp_net",
                "score": 1
            },
            {
                "body": "We’re using Consent Manager. It had a guide but I did follow it all and somehow it still didn’t work :( I am sure there is something wrong somewhere, maybe on the site itself, so I’ve reached out for some help from our PPC agency’s developer guy as clearly this is too far from my skill set. But thank you for trying to help me!",
                "author": "tryinganewpath",
                "score": 1
            },
            {
                "body": "Thanks this maybe actually sounds like a good plan. In this case would I go through and delete any consent manager code first?",
                "author": "tryinganewpath",
                "score": 1
            },
            {
                "body": "You're welcome!\n\nHave you tried these? [https://help.consentmanager.net/books/cmp/page/google-tag-manager-%28gtm%29](https://help.consentmanager.net/books/cmp/page/google-tag-manager-%28gtm%29)  \n[https://help.consentmanager.net/books/cmp/page/working-with-gtm-google-consent-mode-v2](https://help.consentmanager.net/books/cmp/page/working-with-gtm-google-consent-mode-v2)  \nThere's no need to implement Consent mode code directly if you follow the GTM instructions.",
                "author": "Etianen7",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1748550886.0,
        "title": "Consent Checks On Checkout Page - Shopify Checkout Extensibility",
        "author": "Plastic-Schedule-629",
        "id": "1kylfzc",
        "selftext": "Hi all,\n\nDoes anyone know how to check the current consent status on Shopify checkout pages that use Checkout Extensibility? Aside from reviewing the `dataLayer` or using the Consent Inspector (which doesn’t appear to work reliably on these pages), is there anything we can run in the browser Console to verify consent state?\n\nThe reason I’m asking is that we have two Google Ads Conversion Tracking setups: one implemented via GTM and the other through a Customer Events pixel. The pixel-based implementation is recording conversions accurately, but the GTM-based one is significantly underreporting. I suspect this may be due to the built-in consent checks in the Google Ads Conversion Tracking tag template--where it won't fire unless it has ad\\_storage | ad\\_personalization | ad\\_user\\_data consent as granter (or atleast that's my belief)\n\nFor context, the client is using OneTrust for consent management, but no custom consent update scripts are currently pushing consent state into the GTM `dataLayer`.\n\nLooking for your guidance!\n\nFor reference: i am using this script and aligning the variables using this:  \n[https://docs.google.com/document/d/12So6IxULwH0\\_wPhhL3bUqDc1DJPYwZx1twMWQqOqdQg/edit?usp=sharing](https://docs.google.com/document/d/12So6IxULwH0_wPhhL3bUqDc1DJPYwZx1twMWQqOqdQg/edit?usp=sharing)  \n",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1kylfzc/consent_checks_on_checkout_page_shopify_checkout/",
        "num_comments": 7,
        "comments": [
            {
                "body": "The bottom to last one (not required one) for both of the parts!",
                "author": "Plastic-Schedule-629",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "In Customer Events, which setting is selected for privacy?",
                "author": "Taca-F",
                "score": 1
            },
            {
                "body": "GTM tags won’t fire if consent isn’t passed in.\n\nShopify Checkout Extensibility limits access to window.Shopify.customerPrivacy so GTM can’t reliably read consent there.\n\nOneTrust must push consent into gtag() or dataLayer. If it doesn’t, GTM treats consent as denied by default.",
                "author": "thehighesthimalaya",
                "score": 1
            },
            {
                "body": "any idea how to update the script to push consent into gtag via OneTrust? Not a dev so at a loss here!",
                "author": "Plastic-Schedule-629",
                "score": 1
            },
            {
                "body": "By default, OneTrust doesn’t push consent into gtag() or dataLayer, which is why GTM treats everything as denied.   \n  \na quick fix your dev (or you, if you're comfortable) can add **after consent is granted**:\n\nfunction applyConsentToGtag() {\n\n  gtag('consent', 'update', {\n\nad\\_storage: 'granted',\n\nad\\_user\\_data: 'granted',\n\nad\\_personalization: 'granted'\n\n  });\n\n}\n\n\n\n**To run this after OneTrust consent, you can use:**\n\nwindow.OptanonWrapper = function() {\n\n  if (OneTrust && typeof OneTrust.GetConsentStatus === 'function') {\n\nvar groups = OneTrust.GetConsentStatus();\n\nif (groups.includes('C0004')) { // C0004 is usually advertising, confirm in your dashboard\n\napplyConsentToGtag();\n\n}\n\n  }\n\n}\n\n\n\nThis will sync your ad tags once the user accepts. You can also verify it's working in GTM’s Preview mode by checking the consent state.",
                "author": "thehighesthimalaya",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1741616668.0,
        "title": "Google Tag Manager Changes email incorrect?",
        "author": "jamieburchell",
        "id": "1j7zsz2",
        "selftext": "Just received this email from Google:\n\n>**Google Tag Manager containers will automatically load a Google Tag starting in April 2025**\n\n>**What’s changing?**  \nCurrently, you have 32 Google Tag Manager containers that send events before loading a Google tag. Starting April 10, 2025, containers with Google Ads and Floodlight tags will automatically load a Google tag first, before sending events.\n\nAll of my GTM containers already have a Google Tag firing on trigger \"Initialization - All Pages\". No other tags fire before that except for default consent settings at \"Consent Initialization - All Pages\".\n\nIs this yet another incorrect, misleading and ultimately useless notification from Google?\n\nI would ask them directly, but the email is from a no-reply address and despite the reassurance that I can \"contact them any time about this change\" there apparently isn't a route to do so.\n\nEdit: It turns out what they mean is I should add a Google Tag for Ads, as well as the one I have for GA4. No idea where they got that number of containers from though - I must have about 3 that use Ads. Also, even after adding the suggested tag it's still prompting me to create the same missing tag.",
        "score": 12,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1j7zsz2/google_tag_manager_changes_email_incorrect/",
        "num_comments": 13,
        "comments": [
            {
                "body": "You probably needed it",
                "author": "DigitalStefan",
                "score": 4
            },
            {
                "body": "It pretty much announces itself as an ignorable email anyway.\n\nFalls under “nothing for me to do here” in my priority list.",
                "author": "DigitalStefan",
                "score": 3
            },
            {
                "body": "Had a job where the guy before me who quit was actually NOT firing the Google Tag on initialization. This change is to address 'those guys'.",
                "author": "Humble_Elderberry_25",
                "score": 3
            },
            {
                "body": "Send the notification to those guys then 🤷🏻‍♂️",
                "author": "jamieburchell",
                "score": 3
            },
            {
                "body": "They added GTAG randomly to my container, value is AW-xxxxxxx",
                "author": "mar1_jj",
                "score": 3
            },
            {
                "body": "Until they start adding random tags and triggers to my container that is.",
                "author": "jamieburchell",
                "score": 2
            },
            {
                "body": "i am just glad that he is gone.",
                "author": "Humble_Elderberry_25",
                "score": 2
            },
            {
                "body": "yep",
                "author": "mar1_jj",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Then you should be good, no action needed. I think Google just mass emails everyone with a GTM account they don’t actually check your container to see if the update applies to you. \n\nI’ve seen client containers where they don’t have it set up properly so this should fix that for those people.",
                "author": "coffeeandbags",
                "score": 1
            },
            {
                "body": "Honestly, Google share some blame here. They keep trying to make implemention easy, resulting in many people going with the easy option resulting in not the best implementation.\n\nDid you notice the recent update in GTM where you create a Google Tag and it automatically receives an Initialization trigger by default?\n\nBut then by default a GA4 Google Tag sends a page\\_view event, which I think should be separate and fired via All Pages.\n\nLong story short, I manage to earn above the UK average salary because I know how to wrangle GTM into a good shape.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "I really wouldn’t worry about it. Nothing we can do other than keep an eye out.",
                "author": "DigitalStefan",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1749462920.0,
        "title": "Conversion tracking tag is fired but not hits being sent to google ads!",
        "author": "BigMidnight2104",
        "id": "1l70r4c",
        "selftext": "I’m using Google Tag Manager to fire a Google Ads conversion tag on a custom form submission event: dataLayer.push({\n\n  event: \"form\\_submit\\_custom\",\n\n  form\\_type: \"lead\\_form\",\n\n  user\\_data: {name: \"testjune\", phone: \"+918220001xxx\"}(replaced actual number),\n\n  gtm.uniqueEventId: 11\n\n}) In Preview Mode, the event shows up, and the tag fires — but no hit is being sent. Tag Assistant shows “No hits were sent by this tag,” and I don’t see any network requests going out to Google Ads.\n\nInterestingly, a purchase event (not inside the GTM container) is sending hits successfully to Google Ads — both conversion and remarketing \n\ngtag(\"event\", \"purchase\", {\n\n  value: 0,\n\n  conversion\\_linker: true,\n\n  allow\\_enhanced\\_conversions: false,\n\n  send\\_to: \"AW-xxxxxxx/label\\_\"\n\n})(replaced ID and label)\n\nI’ve also disabled automatic form collection and user data collection in the tag settings to rule out consent or user info blockers.\n\nIs there anything I'm missing that’s required for the Google Ads conversion tag to actually send the hit from a custom event? Appreciate any help or suggestions.",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1l70r4c/conversion_tracking_tag_is_fired_but_not_hits/",
        "num_comments": 3,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1746907042.0,
        "title": "Two GA4 streams in one tag manager, need advice?",
        "author": "dbbuda",
        "id": "1kjiuu8",
        "selftext": "Hi everyone,\n\nI'm looking for advice on my GA4 setup inside tag manager. Currently, I have two separate GA4 Properties: one for my main marketing website and another for our LMS platform on a subdomain (where users register/log in). This means I have two different Measurement IDs.\n\nThis setup makes it hard to track the full user journey from marketing to LMS engagement.\n\nMy questions:\n\n- Has anyone done a similar GA4 consolidation?\n- Tips for a smooth transition and correct data setup (I know historical data stays separate)?\n- Specific GTM configurations to watch out for with a single GA4 config tag for both streams?\n- How did this change impact your user journey analysis and reporting?\n- Any considerations for having a public marketing site and a members-only LMS under the same GA4 Property (but separate streams)? How do you segment this effectively?\n\nAny advice would be great. Thanks!",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1kjiuu8/two_ga4_streams_in_one_tag_manager_need_advice/",
        "num_comments": 5,
        "comments": [
            {
                "body": "Having all the data collected in a single property allows you to easily separate registered users from unregistered. In other words, it's a waste of money showing ads for certain campaigns for users that are already on the hook. If you're not utilizing the User ID features I suggest you start doing so.\n\n\n\n\nSegmentation can be done based on hostname, user properties or a combination of both depending on what you're after. Which is why two data streams doesn't make sense if you simply want to segment based on the hostname as you can easily do so even with a single stream.\n\n\n\nAs for having two data streams. You would benefit from just sticking to one. The only reason to have two would be if the main domain and subdomain require different tag settings for some reason and you've already stated that you will be using one Google Tag for both streams.\n\n\nIf you're using the same GTM container on both domains it makes even less sense having two streams as you would have to configure the container to juggle two different measurement IDs based on the hostname. This means making sure that you're not accidentally sending the same data to both streams simultaneously.",
                "author": "brannefterlasning",
                "score": 7
            },
            {
                "body": "Keep it simple. Add the subdomain to your website property data stream. Make sure you have a user id property on logged in users and use this to segment logged in users in an audience in GA4.",
                "author": "Amazing_Cod6382",
                "score": 4
            },
            {
                "body": "Use a single ga4 account, use the host name to differentiate, enable bigquery and you are ready to track complex user journeys.",
                "author": "ds_frm_timbuktu",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Awesome, thank you so much",
                "author": "dbbuda",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1748542282.0,
        "title": "How to access ad_personalization and ad_user_data in BigQuery?",
        "author": "hipsterrobot",
        "id": "1kyhtsw",
        "selftext": "Hi all, our company has recently implemented OneTrust to collect user consent stuff in order be compliant with consent mode v2. We are also asked to share this data with a customer data platform that we work with, so they're asking us for a list of all our users and their ad\\_personalization and ad\\_user\\_data status. However, I'm simply not able to find this data in the BigQuery event or user exports we receive. \n\nThe users\\_ table have these fields: \n\n    privacy_info.is_limited_ad_tracking, privacy_info.is_ads_personalization_allowed\n\nThe events\\_ table these following fields: \n\n    privacy_info.analytics_storage, \n    privacy_info.ads_storage, \n    privacy_info.uses_transient_token \n\nHowever none of this seem to match exactly what they actually need. The is\\_ads\\_personalization\\_allowed field only returns (not set) even though we definitely collect this data and it's being sent to OneTrust. Google and AI tools have failed me, so any advice would be appreciated!",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1kyhtsw/how_to_access_ad_personalization_and_ad_user_data/",
        "num_comments": 2,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Those options were added with advanced consent mode, but have not been added to the BigQuery export yet.",
                "author": "radar_3d",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1745959216.0,
        "title": "Error Message: Cannot parse target: \"\"GTM-ID\"\"",
        "author": "Adorable-Werewolf77",
        "id": "1kaycap",
        "selftext": "Hi, \n\nI've tried to connect my site with Google Tag Manager and then connects others platform like Google Ads, Analytics etc. to GTM.   \nWhen I test my tags via GTM Debug, console says that: Cannot parse target: \"\"GTM-ID\"\". (in ID there is my ID)  \n  \nOn my app I use Next.js 14.2.23, and next/third-parties \\^15.x.xx libraries to install my GTM. The documentation says that these versions are compatible.\n\nI've implemented GTM like this in layout.tsx.   \n\n\n    import { GoogleTagManager } from '@next/third-parties/google';\n\n      return (\n        <html lang={locale}>\n          <GoogleTagManager gtmId='GTM-ID' />\n          <head>\n\n    <body> \n    <noscript>\n              <iframe\n                src=\"https://www.googletagmanager.com/ns.html?id=GTM-ID\"\n                height=\"0\"\n                width=\"0\"\n                style={{ display: 'none', visibility: 'hidden' }}\n              ></iframe>\n            </noscript>\n\nIn Analytics > Administration > Streams it says that there's no data within last 48 hours but in Google Tag Manager, it is implemented.   \n   \nCould anyone tell what am I doing wrong and help me with proper configuration?  \nBest,   \nErick   \nr/GoogleTagManager \\#GTM ",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1kaycap/error_message_cannot_parse_target_gtmid/",
        "num_comments": 5,
        "comments": [
            {
                "body": "Just to double check, in the code did you replace \"GTM-ID\" with your container ID?",
                "author": "Etianen7",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "I have the exact same issue. Tried everything from removing variables, tags and even deleting the whole container and adding a completely new container. Which still left me with the same issue. \n\nAfter some digging I finally find out that the \"Source - System\" means that this is 100 % an implementation issue. It has nothing to do with your tags, variabler or triggers.   \n  \nI have now gone through the whole implementation using chat-GPT and have found some potential fixes that will be tested in collaboration with developer tomorrow. Fingers crossed, it will resolve the issue.",
                "author": "Beneficial_World9917",
                "score": 1
            },
            {
                "body": "Hi, yes, shure, I did!",
                "author": "Adorable-Werewolf77",
                "score": 1
            },
            {
                "body": "Update: Chat GPT was actually able to identify which part of the code that was causing this and after som help from developer we actually got rid of the issue. In this case there was a jtag trying to configure the GTM-id but my tip would be to ask Chat gpt to go through your code with the goal to identify what part of the code is causing the error message.",
                "author": "Beneficial_World9917",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1747323254.0,
        "title": "Can having two gtag instances in the same GTM container (Google Ads + Floodlight) cause conversion tracking issues?",
        "author": "run-wthewolf",
        "id": "1knb7yj",
        "selftext": "Hey everyone,  \nHas anyone experienced issues when running multiple `gtag` instances inside the same GTM container?\n\nIn the past few weeks, I’ve seen 3 different clients suddenly report a major drop in Google Ads conversions — while GA4, Meta, and other platforms remained consistent with no drop at all.\n\nAt first, I suspected it might be related to the recent cookie handling changes by Google, but none of them are using any advanced consent features or cookieless setups yet.\n\nHowever, there *is* one thing they all had in common: a new Floodlight tag was added recently (at different times for each), which also uses a `gtag` as part of the DV360 setup.\n\nIn theory, these shouldn’t conflict — the original Ads conversion tags remained untouched — but this pattern is hard to ignore.\n\nCould it be that the Floodlight `gtag` is somehow interfering with or overriding the Ads conversion tracking?  \nHas anyone else run into this kind of issue?\n\nAppreciate any insights!",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1knb7yj/can_having_two_gtag_instances_in_the_same_gtm/",
        "num_comments": 3,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "DM with the websites if you can.",
                "author": "wardogfufu",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1741839728.0,
        "title": "tags firing/events showing during preview but not outside of that",
        "author": "waynegrundy",
        "id": "1ja3vtz",
        "selftext": "Update: was just on the phone with Google Support (got a hold of somebody via the Google Ads support) and they said that for some reason my debug view in GA4 is just not working properly but analytics IS actually tracking everything so.. I guess I'm good lol. Still a bit strange but at least I didn't do anything incorrectly haha.\n\n\\----\n\nSo I've set up a bunch of tags to track a variety of events. The confusing thing is that they all fire in preview (and during that also in the GA4 debug view). When I go to the same pages to trigger the same tags, tag assistant confirms that those tags were fired BUT debug view does NOT show any events. Not even the page views from my GA4 Config tag for page initializations. My website is on Wix (planning on moving to Wordpress in the near future).\n\nWix: under marketing integrations, I've connected Google Tag Manager **and** Google Tag. I've tested disabling the Google Tag option here and that made no difference. I also disabled the cookie consent banner briefly, again no events sent in debug view.\n\nThis is how the tag is set up (I followed Analytics Mania's video most recent video on this):  \n\\- Tag configuration: Google Tag  \n\\- Tag ID: the data stream ID from GA4 (triple checked that it's the right ID)  \n\\- triggering: initialization - all pages\n\nGranted, I'm very new to GTM and GA4 so I must have obviously missed something but I've been racking my brain and can't figure out what.\n\nI double checked the data filters and made sure to switch off the \"internal traffic\" filter. I do have a cookie consent banner on my website but even after accepting that, the event still doesn't show in GA4.\n\nI don't have any ad blockers on my browser (Google Chrome). I downloaded Firefox and went to my home page, still no page\\_view event shown in the GA4 Debug View (same for the Admin Debug View).\n\nI've also read that debug view can be delayed, so I've waited to see what it shows. Nothing. Whereas when I'm in preview, the event usually shows up after a minute or so.\n\nIf tag assistant is confirming the tag fired and the event was sent, something must be wrong with GA4, right? Honestly, my brain feels fried from trying to figure this out all day. I just don't get why it works in preview but not outside of that? (again, I'm very new to this stuff. Forgive me if I'm missing something obvious here)\n\nAny help is highly appreciated. I want to run Google Search Ads soon but I want to make sure everything's tracked properly.",
        "score": 6,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1ja3vtz/tags_firingevents_showing_during_preview_but_not/",
        "num_comments": 8,
        "comments": [
            {
                "body": "Did you publish the container - this could sound dumb but often overseen. \n\nNext as you debug in the preview mode, open debug view in ga4 and you should see the events coming in.",
                "author": "ds_frm_timbuktu",
                "score": 3
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Have you tried using a pixel helper extension and/or tag assistant?\n\nHave you tried to inspect using developer tools? Inspect Page > Network > Refresh Page > Search GTM or your GA4 id. That may also give you more information, what's firing, whether it's succeeding, etc.",
                "author": "murffmarketing",
                "score": 1
            },
            {
                "body": "If you used the data stream ID from GA4, then you likely used the wrong identifier. Those were the instructions a version or two ago.\n\nYou seemed content with Google's answer, so this is primarily to benefit others who find this later via search. \n\nBut feel free to verify what Google told you by  running an analytics report in GA4. You did exhaustive testing, but you forgot to verify that you actually have a problem.\n\nIf your reports have data, then all's cool.  If not, I'm sorry Google fed you BS...they don't know what they're talking about half the time.\n\nLet me know if you're report have data.",
                "author": "Far_Highlight_4334",
                "score": 1
            },
            {
                "body": "Hey, thanks for the reply. Just updated my post. I spoke to Google Support (via Google Ads) and according to them my debug view in GA4 is just not working properly but Analytics as a whole IS properly tracking everything so... \\*shrug\\*\n\nI did use tag assistant and the assistant confirmed my tags were firing and events were being sent.",
                "author": "waynegrundy",
                "score": 1
            },
            {
                "body": "Haha. Yeah, I did. \n\nWell that's the thing. When I'm in preview mode after publishing/or before publishing, the events always show up. It's OUTSIDE of that they GA4's debug view never shows any events",
                "author": "waynegrundy",
                "score": 1
            },
            {
                "body": "Events show in GA4 Debug only when you're debugging. Previewing from GTM will indicate to GA4 that you are debugging. Normal browsing on the site does not.\n\nIf you want to confirm outside of previewing within GTM you can either:-\n\n1. Look at a realtime report in GA4\n2. Use the Google Analytics Debugger extension, which also signals to GA4 that you are in debug mode: [https://chromewebstore.google.com/detail/google-analytics-debugger/jnkmfdileelhofjcijamephohjechhna](https://chromewebstore.google.com/detail/google-analytics-debugger/jnkmfdileelhofjcijamephohjechhna)",
                "author": "StefanAtWork",
                "score": 1
            },
            {
                "body": "Did you publish the container - this could sound dumb but often overseen. \n\nNext as you debug in the preview mode, open debug view in ga4 and you should see the events coming in.",
                "author": "ds_frm_timbuktu",
                "score": 0
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1724943192.0,
        "title": "I'm struggling a bit with key concepts for consent mode",
        "author": "griz_fan",
        "id": "1f44fob",
        "selftext": "Either there's some big gaps in my understanding (entirely possible) or the ad agency we're working with if full of crap. Here's the situation.\n\nWe have a WooCommerce website in the US that does not have any form of cookie consent banner implemented. There's a very barebones GTM setup, too. We've had GA4 loaded by GTM for a couple of years now, and no signs of problems that we've noticed. We recently started our first banner ad campaign and need to deploy 3 tracking tags: A site-wide retargeting tag, an add-to-cart retargeting tag, and a conversion tag on the order confirmation page. Since this is a WooCommerce site, I set up GTM4WP, which created all the necessary data layers and events. \n\nWe used the GTM preview mode, which shows all the various tags firing at the right time, picking up the right values from the datalayer and passing them into the tag variables. All looks good, but the ad agency says they're not seeing anything coming through for conversions. They said they have \"been seeing a lot of issues with google tag manager and the changes related to consent mode, and this is not just for XXXXXX but even for Google Ads.\" And then they suggested hand-coding the conversion tracking tag on the order confirmation page. This sounded like BS to me, but at the same time, I've not been keeping up with consent mode like I should have been. \n\nSo, is this plausible? There have been zero changes in our GTM container related to consent. I heard that retargeting for Google Ads would need additional set up, but we're not running Google Ads at the moment. The tags in question are clearly firing, and if there was a problem with consent mode, wouldn't that be preventing the tags from firing at all? The fact that the tags are firing means, to me at least, that is the same result as if we'd hand-coded the tag to the confirmation page; in both cases, the script for the tracking pixel loads. Am I missing something?\n\nthanks!",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1f44fob/im_struggling_a_bit_with_key_concepts_for_consent/",
        "num_comments": 26,
        "comments": [
            {
                "body": "You’re right to be suspicious and if the issue was consent mode, which it isn’t, hard coding the tag wouldn’t make a difference. I think the agency is just trying to come up with excuses for bad performance.",
                "author": "moonsal71",
                "score": 5
            },
            {
                "body": "I don’t think what they are saying is true. No need to hand code, I use GTM4WP for this and it works well. The issue is elsewhere.\n\nFew things -\n\nYou should fire conversion on purchase event, not on thank you page. That way you can get value and other data layer values, and prevent any possible duplicate conversions \n\nAre you sure you published the container?",
                "author": "nakfil",
                "score": 4
            },
            {
                "body": "yeah, I should have mentioned that we're using the events created by GTM4WP to trigger the tags, including the event-purchase for the conversion tag. I actually published it twice, just to make sure, too :) \n\nIt just sounded like a BS answer from someone hoping we wouldn't know any better. To clarify, if consent mode is set up, GTM won't even fire the tags if consent is not granted, right? There's no way the tags would fire, but GTM would somehow interfere with the cookie?",
                "author": "griz_fan",
                "score": 3
            },
            {
                "body": "I agree, I've been kicking consent mode down the road for while now, so it will need to be dealt with on this site sooner than later. But, at least I know things are set up properly in this specific case.",
                "author": "griz_fan",
                "score": 3
            },
            {
                "body": "Switching the method of implementing conversion tags from GTM to code won’t change anything. Personally, I’ve always preferred working with GTM for my clients for reasons of organization and clarity.\n\nHowever, based on what you wrote, it’s indeed possible that Consent Mode is playing a role in the misattribution of key events. Many agencies don’t have internal resources to investigate tracking issues, so they turn to Google’s Tag Team. The feedback you received from the agency seems to indicate a misunderstanding of the problem.\n\nOver the last six months, I’ve had many clients approach me due to attribution issues. These problems often stem from improper implementation of the consent banner and Google Consent Mode.\n\nYou can check this by looking in GA4 under “Report > Acquisition > Traffic acquisition.” Select the dimension “Session source/medium” and see if there is a significant portion of (direct)/(none) in the key events. If so, there’s likely an issue that requires further investigation.",
                "author": "Difficult-Jaguar7402",
                "score": 2
            },
            {
                "body": "This should not have anything to do with consent mode as you are not in Europe. But what you can do is set consent anyway using GTM.\n\nIn the community library there is a tag called Consent Mode (Google + Microsoft tags), add this to your workspace and then configure a tag for default and set all the consent signals to granted. You could also configure an additional one for update and then also set all to granted. These tags need to fire in Consent Initialization. \n\nThis is not going to show anything to your customers and this is not going to make you legally compliant, what it will do is send the consent signals so you can completely rule out Consent Mode being the problem.",
                "author": "James_Edward_A",
                "score": 2
            },
            {
                "body": "Okay, in that case, it could indeed be a way for them to shift attention away from poor performance.\n\nStill, make sure that the \"Conversion Linker\" tag is present and triggers at the same time as the \"Remarketing\" tag.",
                "author": "Difficult-Jaguar7402",
                "score": 2
            },
            {
                "body": ">If Google Consent Mode is implemented, the default behavior is that Google tags (GA4, Floodlight, Google Ads etc) *will still fire*, but they modify the data they send to the platform to redact or anonymize what is being sent.\n\nDigitalStefan is 100% correct.  We learned this the hard way: Our company does not have a banner, and consent mode was accidentally activated by a Website plugin.     \n\nAll metrics disappeared from the GA4 UI....it flatlined like a heart attack.   We couldn't figure out what was going on because everything looked like it was working correctly in GTM preview mode, and the DevTools network pings to Google.\n\nOur big break happened when I was in BigQuery and noticed the missing data there, but it had been anonymized: all session IDs and user\\_pseudo\\_id's had been stripped out.   That was when I knew it was consent mode.",
                "author": "Firm_Sense9730",
                "score": 2
            },
            {
                "body": "Wait, just to clarify. Which tags did the agency ask you to hard-code if they’re not Google Ads?",
                "author": "Difficult-Jaguar7402",
                "score": 2
            },
            {
                "body": "So if I understand correctly, their solution's tag is currently implemented through your GTM container, and they want to move it to the source code.\n\nIf that’s the case, I don’t see any reason to change the integration method; the result will be the same. To ensure their tag is working correctly, it would be wise to check on the confirmation page if the HTTP request is being sent to their platform (Inspect > Network). But in principle, I don’t see why it wouldn’t be unless your CSP is blocking their domain.",
                "author": "Difficult-Jaguar7402",
                "score": 2
            },
            {
                "body": "Your understanding is correct. I'll run another test order and this time pay extra attention to the HTTP requests. I'll even save the HAR file for reference. Thanks again for the helpful answers :)",
                "author": "griz_fan",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "When I read what they said, it sounded exactly like some non-technically inclined agencies I've had to support or have been in meetings with. In all cases, they weren't trying to hide poor performance. Rather, they were just being advertising folks that Googled the issue for 15 minutes, grabbed a theory that included a lot of the same words in the email describing the problem, etc. You get the idea. :-)",
                "author": "Strict-Basil5133",
                "score": 1
            },
            {
                "body": "Vanishingly few agencies have the requisite in-house knowledge regarding consent management at all, let alone Google Consent Mode.\n\nsource: Am the in-house agency expert for consent management and Google Consent Mode (and now Microsoft Consent Mode, it seems).",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "Thanks - since we don't have a cookie consent banner and consent mode hasn't been configured yet, I think we're in the clear from that causing issues. Also, I checked that GA4 report, and no issues there. \n\nI think the ad agency guy was just making things up and doesn't have a clue how this works.",
                "author": "griz_fan",
                "score": 1
            },
            {
                "body": "**A word of caution from our experience:**\n\nWe did this exact suggestion (artificial update tag in addition to default tag) and to our surprise, experienced continuing problems.  Not as big as our initial problems, but we determined GA4 wasn't capturing all data.\n\nIf Consent Initialization is used as a common trigger, it's assumed the Default tag will be fired first.\n\nIn testing, we found that the Update trigger sometimes fired first, even when we set Update to fire after the Default tag.   (The \"fire this tag before\" setting didn't seem to make a difference).\n\nLogically, it shouldn't make a difference if the permissions are the same.  But we found it did.\n\nWe eventually came to the conclusion that these tags are designed to work with a banner system, and it's really difficult to artificially replicate those interactions.\n\nThis was our experience.",
                "author": "Firm_Sense9730",
                "score": 1
            },
            {
                "body": "eh - not exactly the point of my original question, and this isn't about Google Ads, yet you share a link about using GTAG to track Google Ads? Sorry, way off base with this confusing answer.",
                "author": "griz_fan",
                "score": 1
            },
            {
                "body": "If you're not managing consent and Google Consent Mode is not being initiated on the site, your tags will fire as normal when their trigger conditions are met.\n\nIf Google Consent Mode is implemented, the default behavior is that Google tags (GA4, Floodlight, Google Ads etc) *will still fire*, but they modify the data they send to the platform to redact or anonymize what is being sent. If you've ever tested / QA'd or done debugging for GTM before, the way Consent Mode works looks *weird* and not a little bit unintuitive.\n\nIf you don't implement Consent Mode at all, Google will let you collect your data as you have been until now, but data collected from certain jurisdictions (mainly the EU and UK) will be unavailable for remarketing and GA4 / Google Ads audiences.\n\nIf you're operating within the US, you shouldn't be affected. Yet.\n\nThat being said, Google are continually making changes to Consent Mode and the latest (within the last few weeks) is they are signaling back to their servers the state of a \"do not track\" style signal for users based on Colorado.\n\nIt's a matter of time I think before Google start to become quite strict about \"thou shall implement Google Consent Mode\". They already made a *big* move in this direction on March 6th of this year.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "I completely agree, that agency is worthless. But, I hadn't dealt with GTM for a few months, so I started to doubt myself :( Thanks for clarifying.",
                "author": "griz_fan",
                "score": 1
            },
            {
                "body": "I haven’t experienced this exact issue but I have had issues with sequencing especially when it comes to cross domain consent. \n\nYou can try moving your update to fire on Initialization instead of Consent Initialization. That could help you. I have found that ‘fire tag before’ can be a bit stubborn.",
                "author": "James_Edward_A",
                "score": 1
            },
            {
                "body": "\n\n* The link I provided was Google's WooCommerce page.  GTAG isn't mentioned.\n* If Google Ads isn't relevant then why  did you mention it twice in your question?\n* To make this more hilarious, your question fails to explain how the ads are being delivered, despite you whining on Reddit about conversions not showing.....",
                "author": "Firm_Sense9730",
                "score": 1
            },
            {
                "body": "So I don't have a conversion linker tag set up. I thought that was only for Google Ads, but I might be mistaken. Is this needed for 3rd party tracking tags to pick up conversions, too? We're not running any Google Ads right now.\n\nIf I do need to set up a conversion linker tag, do I just fire on all pages with the default configuration?",
                "author": "griz_fan",
                "score": 1
            },
            {
                "body": "oh go fuck yourself you useless twat.",
                "author": "griz_fan",
                "score": 1
            },
            {
                "body": "Everything is a learning experience. I bet you know what the gcs and gcd parameters are supposed to look like now! 😎",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "the agency is a 3rd party digital ads platform. So it is their tracking tags. They suggested adding the pixel code for the conversion tracker directly to the order confirmation page.",
                "author": "griz_fan",
                "score": 1
            },
            {
                "body": "Could you clarify something?   I know you tested in GTM's Preview mode, but did you verify in GA4?  (and going further, did the agency receive the test conversions?)\n\nGTM isn't the source of truth.....GA4 is.   If you believe that GTM's preview mode guaranteed that GA4 will be accurate, you're in for a surprise.\n\nGTM's preview mode doesn't catch everything.  Or more accurately, the problem might not be obvious in GTM.\n\nI feel like further testing should be done to better isolate the problem.\n\nPS: Like you, I prefer GTM, but [Google's documentation](https://support.google.com/google-ads/answer/12973528?sjid=15508887817259528492-NC) describes two methods for installing GA4 or Ads in WooCommerce, and neither of them involve GTM.  If I'm having problems, I start with the official route, then deviate once I have a working path.",
                "author": "Firm_Sense9730",
                "score": 0
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1746600135.0,
        "title": "How to verify your cookie consent is working",
        "author": "websecret_by",
        "id": "1kgqu1n",
        "selftext": "Got your cookie banner set up with Google Consent Mode? Now comes the critical step – verifying that it’s actually respecting user choices.\n\nHere’s how to ensure everything is working smoothly:\n\n1️⃣ Use Browser DevTools. Before and after consent, check cookies and requests to ensure compliance. Is Google Analytics firing only after consent? Are non-essential cookies blocked before? Make sure your users’ privacy is protected.\n\n2️⃣ Google Tag Assistant. This Chrome extension shows consent status changes in real time, so you can track whether analytics and ads are only enabled when users say \"yes\".\n\nAnd don’t forget about a detailed cookie policy that aligns with regional laws (GDPR, CCPA). \n\n📘 Learn more in [our full guide with examples](https://dev.family/blog/article/how-to-customize-the-consent-cookie-banner-to-comply-with-gdpr-google-consent-mode-and-country-specific-laws?utm_source=reddit&utm_medium=post&utm_campaign=dev-family&utm_content=how-to-customize-the-consent-cookie-banner-to-comply-with-gdpr-google-consent-mode-and-country-specific-laws) of cookie policy for EU and US",
        "score": 0,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1kgqu1n/how_to_verify_your_cookie_consent_is_working/",
        "num_comments": 3,
        "comments": [
            {
                "body": "The irony of the *absolute state* of the consent management on the site you linked!",
                "author": "DigitalStefan",
                "score": 5
            },
            {
                "body": "There are errors in the article regarding the descriptions for the différents consent types.",
                "author": "Dam_",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1737103891.0,
        "title": "Tags Blocked in Google Tag Console but Firing in GTM Preview Mode – Need Help Troubleshooting",
        "author": "Working_Ask_6036",
        "id": "1i3c6oz",
        "selftext": "Hi all,\n\nI’m encountering an issue where the tags in my Google Tag Manager (GTM) container appear to be firing correctly when tested in the GTM preview mode, but when I check the Google Tag Console, I see the following messages indicating that some tags are blocked:\n\n* Tags related to **cross-domain tracking** and **advertisement data** (e.g., Google Ads, Analytics, and custom tags) are being blocked.\n* The console reports issues with certain functions such as `__ogt_ads_datatos`, `__ogt_1p_data_v2`, and `__ogt_cookie_settings`.\n\nI’ve already checked the following:\n\n1. **Tag Configuration**: All tags seem configured correctly with proper IDs and triggers.\n2. **Triggers**: I’ve reviewed the firing conditions, and they seem accurate.\n3. **Preview Mode**: Tags fire as expected in GTM preview mode.\n\nDespite this, the Google Tag Console is showing the tags as blocked. Has anyone encountered similar issues? Any suggestions on what might be causing the tags to be blocked, or how I can resolve this?\n\nThanks in advance for your help!\n\n",
        "score": 5,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1i3c6oz/tags_blocked_in_google_tag_console_but_firing_in/",
        "num_comments": 12,
        "comments": [
            {
                "body": "This issue usually happens when there's a conflict between your privacy/consent settings and the tag implementation. The fact that tags fire in preview but get blocked in production is a classic sign of this.\n\nFew things to check:\n\n1. Make sure you've implemented proper consent management - especially for ad-related tags. Those functions getting blocked (`__ogt_ads_datatos`, etc) are typically related to consent/privacy stuff\n\n1. For cross domain tracking - double check that both domains are properly configured in your GTM settings AND analytics property settings. Easy to miss one side\n\n1. Check if you're using any ad blockers or privacy extensions in your testing browser vs production\n\n1. Verify your GA4 configuration tag is firing before any other tags that depend on it\n\nWhat helped me solve this recently was implementing a consent management platform properly and making sure all advertising/analytics tags only fire after consent is granted. With b2b advertising specifically, getting this tracking setup right is super important for campaign optimization.\n\nhappy to share more specific tips if you need em - proper tracking setup makes a huge difference in campaign performance! lmk what u find when u check those items",
                "author": "thomascloarec",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Is the auto blocking in your consent management system turned on?",
                "author": "Taca-F",
                "score": 1
            },
            {
                "body": "Have a look in the browser dev console. Are there any messages about \"content security policy\" blocking some scripts?\n\nIn which market does the website operate? You mentioned that the site doesn't seem to use a consent management platform. I assume that it's also not using Google's Consent Mode, which will be a problem for Google's products if you operate in EEA.\n\nYou mentioned that the tags fire in the preview mode, but when you are in the preview mode, also take a look at the dev console network tab. Do you actually see all the network requests firing and successfully sending data? The GTM preview mode debug window mainly just shows if the trigger conditions were successfully met, but in many cases it can't tell if the network request was actually successfully dispatched (especially when it comes to custom tags).",
                "author": "TG_AnalyticsEngineer",
                "score": 1
            },
            {
                "body": "Hey, what browser did you used for testing?\n\nI had the same problem and figured out, that microsoft edge seems to block something so that Google Ads fails. After switching to Google Chrome the Conversion Tags worked properly.",
                "author": "webdev_on_rails",
                "score": 1
            },
            {
                "body": "I am getting these same console errors dispute all tags firing as they should do.. Very strange!",
                "author": "Unlikely_Mechanic_98",
                "score": 1
            },
            {
                "body": "I added domains in Google tag cross domain configuration and in conversion linker tag Enabled linking cross domain tracking enter the website in auto link fields. Still it is same error in console.\n\nTag blocked: {function: \"\\_\\_ogt\\_cross\\_domain\", instance\\_name: \"\\_Tagging Activity Tag 16 Named Tagging Activity 7\", priority: 24, vtp\\_rules: , tag\\_id: 16}",
                "author": "Working_Ask_6036",
                "score": 1
            },
            {
                "body": "I am not able to find any consent management system script on the website, I checked for custom script also but there is nothing on the website regarding cookie consent. Also looked into local storage and session storage.",
                "author": "Working_Ask_6036",
                "score": 1
            },
            {
                "body": "The website is currently operating only in India. In browser dev console I see some warning messages about script getting blocked because Chrome is moving towards a new experience that allows users to choose to browse without third-party cookies. I checked the network requests and all are successful. I filtered the network request fir Gtag and collect and all have status 200 OK and content security policy: None.\n\nAnd in console this the warning message.\n\nCookies with the `SameSite=None; Secure` and not `Partitioned` attributes that operate in cross-site contexts are third-party cookies. Chrome is moving towards a new experience that allows users to choose to browse without third-party cookies.Learn more from the linked article about preparing your site to avoid potential breakage.\n\n1. Affected Resources\n   1. 62 cookies\n   2. 14 requests",
                "author": "Working_Ask_6036",
                "score": 1
            },
            {
                "body": "I am using chrome and i did cross check in Edge and both browser shows the same thing. All my network request are successfull  and in Tag manager preview all tags are firing except in google tag console it shows those warning messages.",
                "author": "Working_Ask_6036",
                "score": 1
            },
            {
                "body": "All the requests that showed 200 OK in preview mode, what happens to those requests when you are not in GTM preview?",
                "author": "TG_AnalyticsEngineer",
                "score": 1
            },
            {
                "body": "I checked without GTM preview. Gtag, Collect and other requests has status 200 OK.\n\nThis is the message I am getting in console.\n\n1. This page tried to register an OS trigger using the Attribution Reporting API, but the request was ineligible to do so, so the OS trigger registration was ignored.A request is eligible for OS trigger registration if it has all of the following:Otherwise, any `Attribution-Reporting-Register-OS-Trigger` response header will be ignored.Additionally, a single HTTP redirect chain may register only all sources or all triggers, not a combination of [both.No](http://both.No) `Attribution-Reporting-Eligible` header or an `Attribution-Reporting-Eligible` header whose value is a structured dictionary that contains the key `trigger`An `Attribution-Reporting-Support` header whose value is a structured dictionary that contains the key `os`Affected Resources",
                "author": "Working_Ask_6036",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1721562761.0,
        "title": "Microsoft Consent Mode",
        "author": "DigitalStefan",
        "id": "1e8kl85",
        "selftext": "We've already been through the \"slight challenge\" of Google's Consent Mode V2 update, but now Microsoft have decided they don't want to feel left out, so they are mandating use of their own Consent Mode (did you know it existed?), meaning if you or your clients are making use of data collected by their Universal Event Tracking for marketing purposes, you are going to have to implement their Consent Mode.\n\nOf course, Microsoft being Microsoft, their CoMo is *not* like Google's. You can't set it up and use it in the same way, it has no integration in any of the popular consent platforms (OneTrust, CookieBot, CookieYes etc) and, worse still, their \"denied\" setting doesn't prevent the Microsoft Universal Event Tracking tag from dropping a pair of cookies. There's also of course no native integration with GTM.\n\nI've tested a few iterations of a possible best practise GTM implementation and I think I have a potential winner.\n\nEDIT: Step zero: Add the hardcoded script to your site (prior to the GTM script) :\n\n    <script>\n    window.uetq = window.uetq || [];\n    window.uetq.push('consent', 'default', {\n        'ad_storage': 'denied'\n        });\n    </script>\n\n1. Configure your Microsoft UET config tag to require ad\\_storage as additional consent (not strictly necessary, but makes your Consent Overview report make sense\n2. Remove all triggers from the tag\n3. Set \"Once per page\" in Tag firing options\n4. Create a new custom HTML tag with the following script at the bottom of this list\n5. Set tag sequencing to fire your Microsoft UET config tag after the custom HTML tag\n6. Set \"Don't fire if \\[this custom HTML tag\\] fails or is paused\" (may not be needed?)\n7. Add `ad_storage` as additional consent\n8. Add your consent platform's data layer event e.g. `OneTrustGroupsUpdated`, `cookie_consent_update` etc.\n\n&#8203;\n\n     <script>\n        window.uetq = window.uetq || [];\n        window.uetq.push('consent', 'default', {\n            'ad_storage': 'granted'\n            });\n      </script>\n    \n    Links:\n\nMicrosoft Consent Mode: [https://help.ads.microsoft.com/apex/index/3/en/60119](https://help.ads.microsoft.com/apex/index/3/en/60119)\n\nMicrosoft enforcing their own CoMo for Microsoft Ads: [https://web.swipeinsight.app/posts/microsoft-ads-enforces-consent-mode-for-tracking-in-europe-8734](https://web.swipeinsight.app/posts/microsoft-ads-enforces-consent-mode-for-tracking-in-europe-8734)\n\n**Notes:**\n\nDuring testing I did see that the network hits being sent by the UET config tag would redact visitor and session ID if the tag fired with Microsoft CoMo set to denied, but as the tag still dropped a couple of cookies I didn't want to implement it in that way and call it good. Hopefully Microsoft amend this and we can have a much simpler solution in future.",
        "score": 15,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1e8kl85/microsoft_consent_mode/",
        "num_comments": 26,
        "comments": [
            {
                "body": "People aren't going to bother and MS will have to adopt Google CM.",
                "author": "Taca-F",
                "score": 3
            },
            {
                "body": "It would have to address all the shortcomings of GTM (container size, iFrame detection etc), and even then I doubt people would take to it - MS Clarity is fantastic, free and yet people just don't know about it.",
                "author": "Taca-F",
                "score": 3
            },
            {
                "body": "That should be redundant as well unless you're loading the UET tag prior to consent being given.",
                "author": "brannefterlasning",
                "score": 3
            },
            {
                "body": "~~Not sure if this is an oversight or not but what's the point of running a script that sets the MS CoMo to \"denied\" when ad_storage is \"granted\"?~~\n\n\n\n\nAlso, I don't see a reason why you would need to set the default MS CoMo to \"denied\" unless you're loading the UET script when consent is denied. With the setup described you would only ever need to set it to \"granted\", i.e. when the UET tag fires and in that case you could switch up the tag sequencing to fire the consent tag prior to the UET tag. \n\n\n\n\nAdditionally, the documentation linked states: \n\n\n>You must set the consent setting on every page of your website. If it is not set, then UET uses granted by default. \n\n\n\n\nThis confuses me a bit since it seems that if you're already blocking the UET tag until consent is granted, there should be no need for setting a consent flag in the first place.",
                "author": "brannefterlasning",
                "score": 2
            },
            {
                "body": "This could be a bit risky for MS because it adds a dependancy they can't control. It makes sense for them to go their own way unless they actually sit down with Google to firm up the consent API as a truly interop, public API, which would actually be a great outcome because then others (Meta, ByteDance etc) could hop on board.\n\nIf anything, this move they've announced might prompt some clients to rethink the value they are getting from their MS Ads spend and just drop the platform entirely because it's too much hassle.",
                "author": "DigitalStefan",
                "score": 2
            },
            {
                "body": "Well spotted. I copy pasted the wrong script during my fight with Reddit's semi-broken editor!\n\nCorrected now.\n\n  \nEDIT:\n\n  \nFlow of logic (if I haven't screwed up) is\n\n  \n1. Prior to user granting (marketing) consent, the Microsoft CoMo script in the CHTML tag won't fire and thus the UET config tag won't fire.\n\n2. As soon as the user grants consent, the script runs, then the UET tag fires, drops its cookies, doesn't redact session or visitor ID.",
                "author": "DigitalStefan",
                "score": 2
            },
            {
                "body": "The comedy outcome of this would be Microsoft developing their own tag management system.\n\nI dread to  even imagine.",
                "author": "DigitalStefan",
                "score": 2
            },
            {
                "body": "You’re probably right. I’m just so used to implementing Google CoMo that I feel weird *not* adding the script.\n\nEdit: If MS actually figure out that their tag shouldn't drop cookies when their Consent Mode says \"denied\", their CoMo init script will be important to add.\n\nWould like to get my hands on the source for their UET tag. Not sure that's publicly available (it's a native tag).",
                "author": "DigitalStefan",
                "score": 2
            },
            {
                "body": "I’ll see if I can set up a couple of dedicated web pages each with a slightly different implementation.\n\nTime permitting. This week looks like a busy one though.",
                "author": "DigitalStefan",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Maybe you can help out here, as I didn't find any info on this, u/DigitalStefan: Is there any word on a deadline or date for this implementation?",
                "author": "ppcfaq",
                "score": 1
            },
            {
                "body": "Did you ever get round to figuring out how to fire the cookieless pings, without blocking the tag entirely? No matter how I sequence the tags, I get those \"MSPTC\" and \"MUID\" cookies dropping regardless, as you mentioned in another thread",
                "author": "domss-lite",
                "score": 1
            },
            {
                "body": "Honestly I didn’t see a deadline mentioned. I’ll find the original info that tipped me off, which was a screenshot of an email from MS. I posted on LinkedIn as well about it and I included the screenshot there. Will find it and link to it.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "As of when I tested it, there are no cookieless pings with MS CoMo.\n\nYou can get it down to a single cookie (MUID) if you implement IAB TCF, but for now we're waiting on MS to get things fixed.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "Google CM pretty much is the standard already because Google Tag Manager is so popular.",
                "author": "Taca-F",
                "score": 1
            },
            {
                "body": "The implementation method makes sense, I'm just curious about that statement in the documentation saying the script defaults to \"granted\" if consent is not explicitly denied. With the setup you have you shouldn't have to bother setting consent at all.",
                "author": "brannefterlasning",
                "score": 1
            },
            {
                "body": "Thanks so much. I'll try reaching out to Microsoft support as well to find out until when this needs to be implemented.",
                "author": "ppcfaq",
                "score": 1
            },
            {
                "body": "Fair enough! Not worth the risk for now, we'll just keep it fully blocked until opted into. They took a few weeks to roll out the Enhanced Conversions code to the UET template so maybe it'll be properly supported soon",
                "author": "domss-lite",
                "score": 1
            },
            {
                "body": "You know what… I missed the most important step which was step zero: Add the default denied script to your website.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "I've not been able to find *any* mention of a deadline.  The Swipe Insight link in my original post shows the only comms Microsoft has really put out about it.\n\nWe did reach out directly to Microsoft with a number of questions. One of which was...\n\n>What's the purpose for \"MSPTC\" and \"MUID\" cookies? Is it a GDPR concern *\\[my note: this should be ePrivacy\\]*, since they are being set before the user has granted consent?\n\nTheir frankly unbelievable response was...\n\n>Neither MSPTC nor MUID should be set before consent is granted. We should not set any cookies (3P and 1P) without consent and MSPTC & MUID are 3P [bing.com](http://bing.com) cookies. If they already exist, they may be sent and show up in a network trace, but we will throw them away (not store when we receive) if ad storage consent is denied. They may be used for anti-spam/fraud purposes only.\n\n\"Neither MSPTC nor MUID should be set...\" and yet they are and it's Microsoft's own UET tag (or dependant script, more likely) doing the setting.\n\nThey also acknowledge that the tag doesn't re-fire / issue another network hit once consent is updated. Their answer is \"this will be addressed in a future update\"\n\nSo, in summary Microsoft are telling us :-\n\n1. You must implement Microsoft Consent Mode otherwise (in affected jurisdictions) you will lose the ability to use marketing data to its full extent, just like Google did to comply with the DMA on March 6th 2024.\n2. We half-assed the logic underpinning our implementation of our own Consent Mode, despite that it's been available for many months. It doesn't work as it's supposed to and if you implement it in the manner we intend, you are going to cause cookies to be set prior to user consent.\n3. If you implement it in the way we intend, it's going to screw with your data because not only did we half-ass the logic, we half-assed the code.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "Thank you for getting back to me on this, u/DigitalStefan.\n\nAs I am not a developer: Is there a way to implement this (e.g. some implementation that differs from the faulty one Microsoft recommends) that works around the issues you just described?",
                "author": "ppcfaq",
                "score": 1
            },
            {
                "body": "My original post descibes (a little clumsily) how it's done in the least \"dev\" way possible.\n\nSkip step zero and it should still be fine, but once Microsoft actually fix things (assuming they do), the process will change in terms of the best way to do it.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "This is the source script if you wish to inspect it:\n\n\n ```https://bat.bing.com/bat.js```\n\n\n\n\n Their own documentation states that no cookies should be set when consent is denied, which is why I'm sceptical towards anything that I read in the official documentation after hearing about your experience.",
                "author": "brannefterlasning",
                "score": 1
            },
            {
                "body": "Thanks so much, this thread is a truly useful resource.",
                "author": "ppcfaq",
                "score": 1
            },
            {
                "body": "If you get the opportunity to post the results that would be much appreciated. I know I'll get a bunch of queries regarding this when I get back from my vacation. 🙏",
                "author": "brannefterlasning",
                "score": 1
            },
            {
                "body": "I've been testing. Everything still sucks and is horrible.\n\nI've deployed MS CoMo on [https://croud.com](https://croud.com) (my employer's site) and theoretically it's \"compliant\". It's my best effort.\n\nI'm really debating now whether to replace the native MS / Bing UET tag with a CHTML tag that runs the relevant script, but also includes the MS CoMo part. It would simplify the implementation because instead of sequencing two tags, it's just one tag.",
                "author": "StefanAtWork",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1733741337.0,
        "title": "Google Consent Mode V2 - Which cookies should grant which consent",
        "author": "Mitsuoka123",
        "id": "1ha72y8",
        "selftext": "We have been struggling for quite some time with GCMv2 and Google Enhanced Conversions. \n\nWe have been using one plugin on site and I don't know if it is working right.   \nWhen you accept analytics cookies, it grants all permissions:\n\n|Type|On-page default|On-page update|\n|:-|:-|:-|\n|ad\\_storage|Denied|Granted|\n|analytics\\_storage|Denied|Granted|\n|ad\\_user\\_data|Denied|Granted|\n|ad\\_personalization|Denied|Granted|\n|functionality\\_storage|Denied|Granted|\n|security\\_storage|Denied|Granted|\n|personalization\\_storage|Denied|Granted|\n\n\n\nWhen you accept advertising and tracking cookies, but deny analytics cookies, all the consents are denied.\n\n|Type|On-page default|On-page update|\n|:-|:-|:-|\n|ad\\_storage|Denied|Denied|\n|analytics\\_storage|Denied|Denied|\n|ad\\_user\\_data|Denied|Denied|\n|ad\\_personalization|Denied|Denied|\n|functionality\\_storage|Denied|Denied|\n|security\\_storage|Denied|Denied|\n|personalization\\_storage|Denied|Denied|\n\nWhat should be the good setup, is there any difference in Google Tag Manager for these cookies, or it affects some other things?",
        "score": 5,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1ha72y8/google_consent_mode_v2_which_cookies_should_grant/",
        "num_comments": 15,
        "comments": [
            {
                "body": "Thanks, in general that answers my question. The site is oldy and uses Joomla that is waiting to be replaced, and we are fighting with plugin for some time now and we cannot get it to do different consents for different cookies...\n\nThe site is [Rustical Travel](http://www.rusticaltravel.com)",
                "author": "Mitsuoka123",
                "score": 2
            },
            {
                "body": "Thanks! Yes, we know that the banner is awful, but the thing is that developer is outsourced and everything complicates even more. \n\nI'll look into these and see how that goes with Joomla... But yeah, just wanted to confirm that something is not right and how should it really be...",
                "author": "Mitsuoka123",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "It is now working right.\n\nIf you accept analytics cookies, how can that grant advertising cookies?",
                "author": "mar1_jj",
                "score": 1
            },
            {
                "body": "Generally speaking, the configuration that seems to be acceptable in most instances would look like this:-\n\nad\\_storage = Marketing consent  \nanalytics\\_storage = Analytics consent (measurement)  \nad\\_user\\_data = Marketing consent  \nad\\_personalization = Marketing consent  \nfunctionality\\_storage = Not mapped to any consent  \nsecurity\\_storage = Always granted  \npersonalization\\_storage = No mapped to any consent\n\nIf you have tags that provide site functionality or personalization, then I would consider mapping those consent categories as appropriate, but most of the time these types of things are not implemented in GTM.\n\nConsent plugins are, generally speaking, utterly dreadful. If you share the URL with me either here or in a message I can have a look in a bit more detail.",
                "author": "StefanAtWork",
                "score": 1
            },
            {
                "body": "Definitely something is not right. Which CMS are you using?",
                "author": "Taca-F",
                "score": 1
            },
            {
                "body": "I recommend using a CMP through Google Tag Manager. Suggestions are Cookiebot, Consent Studio and CookieYes.",
                "author": "Yallone",
                "score": 1
            },
            {
                "body": "I don't understand, then it is not working right if it grants all consents when you accept analytics cookies?\n\nWhat should be granted with analytics and what with advertising cookies?",
                "author": "Mitsuoka123",
                "score": 1
            },
            {
                "body": "It's Joomla that's waiting to be replaced.",
                "author": "Mitsuoka123",
                "score": 1
            },
            {
                "body": "I cannot find where in CMP I could request consent for these?  \n     \nfunctionality_storage\t  \nsecurity_storage\t  \npersonalization_storage",
                "author": "bytepursuits",
                "score": 1
            },
            {
                "body": "That depends on what you and your data officer decide...\n\nYou can have separate consent for each category or you can bulk them (e.g. advertising consent is good for advertising, personalization and user data), analytics is good for analytics, functional is good for functional and is always granted etc.).",
                "author": "mar1_jj",
                "score": 1
            },
            {
                "body": "Thanks for sharing. Yes... that's a pretty bad implementation!\n\nHonestly your major problem is the banner is so tiny and easy to ignore. Most users on desktop will probably just navigate the site without ever granting consent.\n\nAlthough of course there is another issue where consent is done \"old school\" by reloading the current page when the user changes their consent setting. That used to be the workaround for how to track users on the landing page when they granted consent.\n\nI haven't checked, but if your marketing and analytics data collection is all handled within GTM, you could solve your problems quickly by removing the plugin currently providing that cookie banner and instead implementing e.g. CookieBot, OneTrust, Enzuzo or CookieYes via their officially supported GTM tag template.\n\nAll 4 will set up the Consent Mode default and will handle the update. Generally they all have good documentation as well, but there are a number of regulars in this subreddit who can help with a best practise implementation.",
                "author": "StefanAtWork",
                "score": 1
            },
            {
                "body": "Uhm, I'm not sure that I really understand your question? In Consent Studio, these are covered by the \"Functional\" category.",
                "author": "Yallone",
                "score": 1
            },
            {
                "body": "> Consent Studio  \n\nwhat's a Consent Studio? oh the CMP. yes - that's what I would expect from CMP - but google built-in CMP doesn't have that option it seems.",
                "author": "bytepursuits",
                "score": 1
            },
            {
                "body": "Thanks for saying thanks! It's so nice to see Redditors being grateful :)",
                "author": "TheGratitudeBot",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1743413956.0,
        "title": "GTM installed on my website but Analytics isn't receiving data",
        "author": "crpl1",
        "id": "1jnzcc7",
        "selftext": "Hi! I think this is a pretty simple problem to solve.\n\nHere's the situation:  \nInitially I listened to the analytics of my website through a Google Tag (when you open Google Tag Manager you have two tabs: Account and Google Tags. I had one in Google Tags) I created, that was connected to both Google Ads and Google Analytics. It was working fine, until I had to implement consent.\n\nI created a Google Tag Manager container where I put a custom HTML tag from Sliktide (not relevant) and, after testing it in preview, it worked correctly. Then I was worried because I thought that the Google Tag I had linked to Ads and Analytics was sending data even though the user didn't consent, so I deleted that Google Tag and created one inside the container linked to my measurement id G-BLABLABLA that gets activated only when the user consents, but when I test it (by going, for example, on my website and doing some things, even with a VPN to be sue it doesn't get filtered) I don't get anything in Analytics.\n\nJust to be clear: on my website I only have my GTM-BLABLA tag installed, not any other ID.",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1jnzcc7/gtm_installed_on_my_website_but_analytics_isnt/",
        "num_comments": 4,
        "comments": [
            {
                "body": "Yes. I solved it BTW. The problem was that I added the Google Analytics stream code when I needed to add the Google Tag that I deleted",
                "author": "crpl1",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "I know is a silly question. Did you publish the container?",
                "author": "Chjji22",
                "score": 1
            },
            {
                "body": "Make sure to turn off your Adblock extension if you're using one.",
                "author": "jen-j",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1682084709.0,
        "title": "Google Tag Manager Install On GoDaddy",
        "author": "southernfly44",
        "id": "12u28cy",
        "selftext": "Hi,\n\nCan anyone provide some insight on installing google tag manager using website builder on GoDaddy? I spoke with godaddy support, and they said it is not possible using the website builder. Can anyone confirm this? I've never used this platform and do not like it, but was hoping there was a way to get it to fire. I have tried adding via HTML and that is the only possible thing I could think of. I'm doing this for a client and using this for the first time. Just seems insane that there is no way for this to work in 2023.",
        "score": 5,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/12u28cy/google_tag_manager_install_on_godaddy/",
        "num_comments": 60,
        "comments": [
            {
                "body": "The fact you can't do this in 2024 is an absolute joke.\n\nAnother joke is the client being pissed off at us because somebody convinced them to build on GoDaddy.",
                "author": "3amIdeas",
                "score": 3
            },
            {
                "body": "This works. Tested & everything!",
                "author": "Legitimate-Yak127",
                "score": 3
            },
            {
                "body": ">thanks brother this works !",
                "author": "HoratioCaine1312",
                "score": 3
            },
            {
                "body": "Its 2025 now and you still cannot do it.",
                "author": "slacktalk",
                "score": 2
            },
            {
                "body": "God bless you, bro.",
                "author": "Patient-Valuable-712",
                "score": 2
            },
            {
                "body": "thanks - i added but when i debug in tag assistant it wont recognize the site having the gtm container on the site. just wondering if anyone else had this issue. thx",
                "author": "molli0707",
                "score": 2
            },
            {
                "body": "[If this post doesn't follow the rules report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/).\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "This will not work as intended for a couple of reasons:\n\n\\- GoDaddy will only put the code within an iframe; it's sandboxed, it needs access to your actual page, not its own isolated environment  \n\\- Adding the code to the \\`<head>\\` section of the page is vital for load order. It's not about replicating it across all of your pages. It's about having it instantiate on the page before other things do. Otherwise things like analytics and such run the risk of data loss ie: a user can bounce before it bootstraps. Normally you want blocking scripts in the footer for a better user experience so you're not blocking the webpage, but for analytics and marketing this is the price to pay and how Google intends you to install it.",
                "author": "Ok-Ad-5855",
                "score": 1
            },
            {
                "body": "Yeah they are right. It's not possible.",
                "author": "therealheisenberg420",
                "score": 1
            },
            {
                "body": "Step 1 - cancel Godaddy. They are horrible for everything.",
                "author": "NHRADeuce",
                "score": 1
            },
            {
                "body": "Yeah it’s not possible. I thought the same thing until my hopes and dreams were crushed by the GoDaddy support team. Would recommend to your client that they cancel and go to another provider if they’re able to.",
                "author": "hthompson5",
                "score": 1
            },
            {
                "body": "I never realized, when I swore off GoDaddy forever upon watching with horror their overtly misogynistic marketing from 20 years ago, that I'd save myself so much headache over the course of my career by never-not-once using them. Have heard endless horror stories up to this day that make me laugh at all the tech-douche-bros who used to defend them. As the world turns 😂 \n\nBut in all seriousness at your plight, just get off GoDaddy. If your company demands using it, put your foot down and determine your boundary where you'll refuse to work on the product. They'll move on to another gullible staff member or eventually have to cave. If your client insists on using it, don't service that part of their business until they shift providers. In either case, neither is worth the consummate head-banging and time-wasting of a wholly inadequate platform, and if the other party decides to move on as a result, you'll be better off for it.",
                "author": "Nessabfly",
                "score": 1
            },
            {
                "body": "It's unbelievable to me GoDaddy have 1. Chosen to not allow GTM, and 2. Have survived this long without the BASIC marketing & analytical functionality of GTM.",
                "author": "Throawayooo",
                "score": 1
            },
            {
                "body": "Hi all! Have any one you struggled with a Meta pixel that is \"hidden\" on godaddys website ? it is NOWHERE to be found in ther settings or as a html block. I suspect Godaddy have added their own meta pixel somewhere to steal data. kan someone confirm this??",
                "author": "Adventurous_Fig_3137",
                "score": 1
            },
            {
                "body": "Hello, I just ran into this, and was able to find a solution.  What worked for me to add Google Tag Manager GTM to a GoDaddy site was to create a website HTML section to the bottom of the page.  \n\nHere is a link to a LinkedIn article regarding this - [https://www.linkedin.com/pulse/how-add-gtm-google-tag-manager-godaddy-sites-redzion-digital-glgsc%3FtrackingId=aSW26lORS1mXmIX5HrMoMA%253D%253D/?trackingId=aSW26lORS1mXmIX5HrMoMA%3D%3D](https://www.linkedin.com/pulse/how-add-gtm-google-tag-manager-godaddy-sites-redzion-digital-glgsc%3FtrackingId=aSW26lORS1mXmIX5HrMoMA%253D%253D/?trackingId=aSW26lORS1mXmIX5HrMoMA%3D%3D)",
                "author": "jc32nails",
                "score": 1
            },
            {
                "body": "[removed]",
                "author": null,
                "score": 1
            },
            {
                "body": "This is possible. It needs to all be added to the body, in 2 separate html sections. The html sections need to be given a pixel height of 1px.",
                "author": "Strumtralescent",
                "score": 1
            },
            {
                "body": "Thanks for clarifying. I figured it was true but didn’t want to believe it. Just ridiculous to not have that.",
                "author": "southernfly44",
                "score": 1
            },
            {
                "body": "1000%",
                "author": "Virtual-Ad0459",
                "score": 1
            },
            {
                "body": "But wait - a work around: [Tutorial here.](https://youtu.be/MRNFxbaQpns?si=4HOR_4UfnOwzwrDH)",
                "author": "Virtual-Ad0459",
                "score": 1
            },
            {
                "body": "Which service do you use now?",
                "author": "slacktalk",
                "score": 1
            },
            {
                "body": "Just wanted to update... this worked for me as of today.",
                "author": null,
                "score": 1
            },
            {
                "body": "This did not work for us on our site. The Tag loads in an iframe vs on the actual page. So it is installed but doesn't function as I would expect. Very frustrating!",
                "author": "BicycleCafe",
                "score": 1
            },
            {
                "body": "Link doesn't work anymore. How did you do it?",
                "author": "serhatcakmak",
                "score": 1
            },
            {
                "body": "I reuploaded the link for those without LinkedIn:  \nhttps://imgur.com/a/W9FNIeW",
                "author": "Key_Awareness6144",
                "score": 1
            },
            {
                "body": "However, Godaddy mentions on their [website](https://findhelp.wsb-estoregodaddy.com/hc/en-us/articles/360059681631-Header-HTML): \"Consent management apps are not able to prevent code from running prior to consent when the code is placed in the header HTML.\"",
                "author": "Key_Awareness6144",
                "score": 1
            },
            {
                "body": "Let's praise the Chat GPT and u/Dry_Kaleidoscope2907 as our GoDaddy gods!",
                "author": "Not_Jeffrey_Bezos",
                "score": 1
            },
            {
                "body": "Can you help me? I am trying to do this through website builder and I am definitely not a coder. Is this the header tag? The body tag? How do I add it through the setup?",
                "author": "CapeMayStays",
                "score": 1
            },
            {
                "body": "This works, but the Google Ads conversion I added through the GTM doesn't seem to function, Nor does the all pages Google Ads tag. Do you know if godaddy blocks them? It's not a trigger issue because the GA4 event works as expected.",
                "author": "Apprehensive-Desk194",
                "score": 1
            },
            {
                "body": "I did this and it create an iframe to isolate the GTM, rendering it useless. I'm trying with Dry\\_Kaleidoscope2907's code.",
                "author": "Apprehensive-Desk194",
                "score": 1
            },
            {
                "body": "Lmao see you next year!",
                "author": "3amIdeas",
                "score": 1
            },
            {
                "body": "[How to connect Google Tag Manager on GoDaddy](https://youtu.be/MRNFxbaQpns?si=4HOR_4UfnOwzwrDH)",
                "author": "Virtual-Ad0459",
                "score": 1
            },
            {
                "body": "Hiii can you please explained exactly how did you do?",
                "author": "Melodic_Instance_367",
                "score": 1
            },
            {
                "body": "If you're logged into linkedin, it still works",
                "author": "Key_Awareness6144",
                "score": 1
            },
            {
                "body": "Thank you; this is great; one question. Google Tag Manager requires two, not one, snippets. The first goes \"as high in the <head> of the page as possible\", the second is supposed to go \"immediately after the opening <body> tag\" - how do you do that with this GoDaddy website?  Do I just stack the HTML sections, or something different?",
                "author": "Chemical-League-3806",
                "score": 1
            },
            {
                "body": "Hey everyone might want to run a check. The code isn’t working anymore for me. I’m working on troubleshooting right now",
                "author": "Legitimate-Yak127",
                "score": 1
            },
            {
                "body": "I think this is supposed to go into the HTML component where we were previously putting the GTM snippet.",
                "author": "Apprehensive-Desk194",
                "score": 1
            },
            {
                "body": "Any joys in making it the conversion work for Google Ads?",
                "author": "Anxious-Educator9281",
                "score": 1
            },
            {
                "body": "Man, can u send me Dry\\_Kaleidoscope2907's code? His account has been banned",
                "author": "Weird-Control7463",
                "score": 1
            },
            {
                "body": "Any update on this anyone?",
                "author": "BizForKingdom",
                "score": 1
            },
            {
                "body": "This works fyi",
                "author": "PurkkOnTwitch",
                "score": 1
            },
            {
                "body": "Confirmed!",
                "author": "Future-Athlete2090",
                "score": 1
            },
            {
                "body": "It works ! Thank you !!",
                "author": "Scared_Basket5398",
                "score": 1
            },
            {
                "body": "I second that! My GTM is not registering the \"head code\"",
                "author": "Wh3reIsTheRum",
                "score": 1
            },
            {
                "body": "Man, u found something? I need some help with this",
                "author": "Weird-Control7463",
                "score": 1
            },
            {
                "body": "I think so, I haven't received complaints from the person that asked me to do it.",
                "author": "Apprehensive-Desk194",
                "score": 1
            },
            {
                "body": "I think this is it. I found it in one old conversation.\n\n<script>\n\n(function(w, d, s, l, i) {\n\n// Check if running inside an iframe and if parent is accessible\n\nif (w.self !== [w.top](http://w.top) && w.parent) {\n\nw = w.parent; // Reference to parent window\n\nd = w.document; // Reference to parent document\n\n} else {\n\nconsole.log(\"Can't access parent from iframe or not in an iframe.\");\n\nreturn;\n\n}\n\nw\\[l\\] = w\\[l\\] || \\[\\];\n\nw\\[l\\].push({\n\n'gtm.start': new Date().getTime(),\n\nevent: 'gtm.js'\n\n});\n\n\n\nvar f = d.getElementsByTagName(s)\\[0\\],\n\nj = d.createElement(s),\n\ndl = l != 'dataLayer' ? '&l=' + l : '';\n\n\n\nj.async = true;\n\nj.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;\n\nf.parentNode.insertBefore(j, f);\n\n})(window, document, 'script', 'dataLayer', 'GTM-123');\n\n</script>",
                "author": "Apprehensive-Desk194",
                "score": 1
            },
            {
                "body": "Did you guys ever get this working?\n\nWhen we add the HTML code, the special characters are being converted to # codes when we view the source code, and it seems the code is not working.\n\nAny other suggestions?",
                "author": "Ok_Nefariousness9011",
                "score": 1
            },
            {
                "body": "Thank you",
                "author": "Future-Athlete2090",
                "score": 1
            },
            {
                "body": "how did you get this to work? i have a landing page for my junk removal website that im trying to set up conversion tracking on. i was just using analytics. now i have found out that im completely lost and mad that i used godaddy.",
                "author": "junkman1998",
                "score": 1
            },
            {
                "body": "Did you add it as an HTML section via the Files menu item? Otherwise it will convert (escape) the code.",
                "author": "PrepperDisk",
                "score": 1
            },
            {
                "body": "I think what I was missing was making the height of the element 1 pixel, and not zero. I don't remember it that well.\n\nBut yeah, godaddy is truly awful. Wordpress seems to be the most well developed of these tools.",
                "author": "Apprehensive-Desk194",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1737128536.0,
        "title": "New to GTM and I have questions :) ",
        "author": "MarieLigier",
        "id": "1i3j5z4",
        "selftext": "Hi GTM experts! \n\nI manage digital advertising for a web app and my objective is to get people to signup for this app.\n\nThe event I consider as a conversion is a form submission (to signup).\n\nI have setup a trigger with this event, which is defined in my platform (I can't use landing urls because all steps of the registration process are using the same url path - there's no such thing as a thank you page).\n\nI have setup tags for the various advertising channels I have, and those tags are all linked to this trigger, and have an exception which is a trigger I have setup for when cookies are blocked.\n\nDoes that setup sound correct to you? \n\nIn the previous setup, there was one trigger / channel and they would only fired when the url contains the appropriate utm source. Eg for Facebook, I had one form completion trigger that would only fire when the url contained `utm_source=facebook.` But it doesn't seem to be necessary, is it?",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1i3j5z4/new_to_gtm_and_i_have_questions/",
        "num_comments": 9,
        "comments": [
            {
                "body": "I think UTM’s can be used to shows which platform lead to the conversion but you shouldn’t include it to the trigger as you can use it automatically in GA4 reporting. with the source/medium dimensions you could see which platform resulted in most conversions, in your case the form\nSubmission for example. \n\nHowever, to measure if your form is successfully completed you can enable the built in history change variables and form variables. Check via preview mode if you can identify your form submission with the history change or form events that are pushed to the dataLayer as mentioned before.\n\nAn other option could be using CSS selectors. After a successful submission there must be some text that implies that the submission was successful right? In this case you could make a trigger that targets the CSS selector with the condition that that specific text was present.",
                "author": "Pretty-Appearance226",
                "score": 3
            },
            {
                "body": "Sounds good.\n\nI see no good reason for the trigger to fire only on a specific source. Basically, you want the ad networks (such as Facebook) to track all conversions and you can use attribution to tell the conversions apart (from which source they came).",
                "author": "MariusGMG",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Why would you want to have separate tags for different traffic sources? The goal is to track all sign ups to GA4 (so just one generic trigger), and let GA4 handle attribution to marketing channels automatically (provided the UTMs are in place).",
                "author": "puk789",
                "score": 1
            },
            {
                "body": "If you are getting people from different sources you must do multi touch, to share gain between channels [https://dmcinsight.com/blog/unraveling-the-mysteries-of-multi-touch-attribution-with-google-tag-manager/](https://dmcinsight.com/blog/unraveling-the-mysteries-of-multi-touch-attribution-with-google-tag-manager/)",
                "author": "SpecialistScarcity47",
                "score": 1
            },
            {
                "body": "Thanks for your comment. But then how would my ads platform know that I received a registration? EG for Meta ads, I need a tag for Meta to attribute successes to the appropriate campaign/adset/ad so its algorythm can push the best performing ones, or is there another way to do that?",
                "author": "MarieLigier",
                "score": 1
            },
            {
                "body": "Apologies for the confusion, I have misread the question due to those UTMs. \n\nYou're right that UTMs in the triggers are unnecessary, as GA4 will process those automatically, and the marketing platforms will handle the attribution themselves (but it's important to send all events to those platforms either way - not just the ones originating in the platform; the more data, the better for the algorithms). \n\nHaving said that, yes, set the tags for the respective marketing platforms whilst reusing the trigger (but without any UTM conditions in it). Hope that makes sense!",
                "author": "puk789",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1741140833.0,
        "title": "Meta CAPI Showing 4x More Purchase Conversions – Any Fix?",
        "author": "MuhammadShoaibAmazon",
        "id": "1j3sd5b",
        "selftext": "Hey everyone,\n\nI’m running both TikTok and Meta CAPI for purchase events, and both platforms are triggered under the same conditions. However, for some reason, Meta’s Events Manager is reporting **4x more purchase conversions** compared to TikTok.\n\nhttps://preview.redd.it/9i32ziji5sme1.png?width=1838&format=png&auto=webp&s=a05b9e143e279f0d72010f9ae75a3f6ba2b2ed46\n\n",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1j3sd5b/meta_capi_showing_4x_more_purchase_conversions/",
        "num_comments": 5,
        "comments": [
            {
                "body": "[removed]",
                "author": null,
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "I can see from your screenshot on the graph that you are definitely overreporting server events and have dedulpicating issues because of it. It looks like server events are sent from several sources, maybe some plugin/integration/sGTM/etc is also running in parallel which also sends server events. So for one real event you should receive maximum 1 web event + 1 server event. In your case it looks like 1 web event + 3-4-5 server events.",
                "author": "Bukashk0zzz",
                "score": 1
            },
            {
                "body": "Yes pixel and CAPI both have event deduplicated Ids, but tha actual number of sales is more correct in pixel the purchase from server are 4x..",
                "author": "MuhammadShoaibAmazon",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1739361637.0,
        "title": "Large discrepancy in conversions/revenue between Google Ads pixel and GA4 - What could be the reason?",
        "author": "Automatic_Cobbler702",
        "id": "1inp5vy",
        "selftext": "Hi!\n\nHave been experiencing a quite frustrating issue regarding reported conversions/conversion value between GA4 and Google Ads.   \n  \nWould appreciate any ideas/help regarding possible reasons and solutions, as I can't see that the discrepancy is caused by how GA4 and Google Ads counts conversions. \n\n**Background**  \n\\- We are an ecommerce with two websites for country X and country Y.   \n\\- The platforms for both websites should both be identical  \n\\- All tags and triggers in GTM also appear to be identical  \n\\- The same attribution model + window is used.   \n\\- Enhanced conversions + consent mode is set-up in both markets  \n\\- When using GTM preview mode and making test purchases, both GA4 transaction and Google Ads pixel seeem to be triggering correctly on the same event (\"purchase\") with correct values.  \n\\-  There is only one Google Ads pixel set up as \"primary\" in both accounts.\n\n\\- Auto-tagging is enabled  \n\\- Can't see any differences in the set-up in GA4 or Google Ads that is different between the countries.\n\n**Issue**  \n**-** For country X - the discrepancy between Google Ads pixel conversions and imported GA4 transactions is typically between 5-10%. \n\n\\- However, for country Y the discrepancy is very high and the Google Ads pixel typically reports roughly twice the number of conversions + conversion value as GA4.  \n  \n\\- So what I am seeing is that conversions + conversion value are being recorded by GA4 but it seems that it misses a significant amount.\n\n\\- What I find strange is that the technical set-up for both country X and Y seem to be identical, but for some reason, there is a big discrepancy in country Y. \n\n  \nWould appreciate if anyone could give me some pointers on what to investigate further and/or if anyone has experienced a similar situation. \n\n",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1inp5vy/large_discrepancy_in_conversionsrevenue_between/",
        "num_comments": 6,
        "comments": [
            {
                "body": "Are you looking at attributed numbers or pure pixel fires? Quite normal to see more on Google Ads vs GA4 based on how attribution works.\nGoogle Ads only sees itself to dedupe, GA4 will see organic/direct/referral/utm traffic etc so last click is less",
                "author": "goodgoaj",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "That’s a tricky issue! Since both setups are identical, the discrepancy could be due to differences in user consent behavior between the two countries. If users in country Y reject tracking cookies more often, GA4 may miss conversions while Google Ads (using modeled data) still attributes them.\n\nYou could also check for cross-domain tracking issues, browser restrictions, and possible tag firing delays in GA4. A great alternative is Qwestify, which doesn’t rely on cookies and can provide more reliable conversion tracking. Hope this helps!",
                "author": "the-fire-in-me",
                "score": 1
            },
            {
                "body": "GA4 is a last click model, Adwords conversion pixel is a window of time after view/interaction. It would be helpful if you mentioned both country X and Y as this seems to be the only differential factor.\n\nRoughly twice the GA4 is the correct amount (check your conversion window in Google ads). So look for errors in the setup that says its about the same.",
                "author": "Mysterious_Swan_9941",
                "score": 1
            },
            {
                "body": "That's a frustrating situation, and it's definitely not uncommon to see discrepancies, though the magnitude you're describing for country Y is certainly unusual.\n\nThe fact that the setup seems identical but the results are so different points to something more subtle than a basic configuration error.\n\nA few things to investigate that might explain the difference:\n\nFirst, let's look at the data collection itself.\n\nSince you've confirmed that the tags are firing correctly in GTM Preview mode, the issue might be happening after the data is sent.\n\nAre there any differences in user behavior or network conditions between country X and country Y?\n\nFor example, is there a higher rate of ad blockers or a different distribution of browsers being used in country Y?\n\nAd blockers can sometimes block the GA4 script but not the Google Ads script, or vice versa, leading to a discrepancy.\n\nNext, consider the cookie and consent settings.\n\nWhile you mentioned consent mode is set up in both markets, are the consent banners or how users interact with them different?\n\nEven subtle differences in the wording or placement of the banner could lead to different opt-in rates, which in turn could affect how many conversions are actually tracked and sent to GA4.\n\nIt's possible that in country Y, more users are declining analytics cookies but still having the Google Ads conversion pixel fire due to a different consent category or a technicality.\n\nAnother area to check is the dataLayer implementation. \n\nWhile the GTM setup might be identical, are the dataLayer pushes themselves truly identical and consistent across both sites?\n\nA small difference in how the purchase event data is pushed to the dataLayer could cause GA4 to miss the transaction.\n\nFor example, a missing or incorrectly formatted `transaction_id` or `value` field for some purchases in country Y could cause GA4 to drop the event, while the Google Ads pixel, which might be configured to grab the value from a different source or has a more forgiving setup, still captures it.\n\nThe GA4 `purchase` event is based on the data sent to it, and if that data is incomplete or malformed for some reason, it won't count.\n\nIt's also worth double-checking that there isn't another GA4 event being triggered as a conversion action in Google Ads that's inflating the numbers.\n\nYou mentioned only one Google Ads pixel is primary, but it's always good to be certain there isn't a secondary conversion action that's counting.\n\nFinally, while you have a native integration for GA4 and Google Ads, you could also consider using a server-side solution to send conversions directly from your server to both GA4 and Google Ads.\n\nThis method can often improve the accuracy of conversion tracking by bypassing client-side issues like ad blockers and flaky connections.\n\nA solution like a Google Ads API (conversion API) combined with Stape.io and Google Tag Manager + dataLayer would be a way to have more control over the data being sent to each platform.\n\nThis ensures that the same data is sent to both GA4 and Google Ads from a reliable source.",
                "author": "Mental_Elk4332",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1738682434.0,
        "title": "Server-side tagging vs. individual API integrations",
        "author": "TC-marketing",
        "id": "1ihk19k",
        "selftext": "Hi, my company is trying to improve tracking on ad platforms like Meta etc. in light of cookies being phased out. I'm trying to understand how server side tagging fits in with what we've implemented so far and how it would change our setups going forward.\n\nWe currently have client-side GTM tags set up for all platforms we advertise on, eg Meta pixel, Pinterest, etc. Additionally, a couple years ago our dev team set up an integration with FB/Meta's Conversions API, just as a one-off, but we do not have a server-side tracking server through GTM or another platform. ETA: Reviewing [this page from Meta](https://www.facebook.com/business/help/433493041367251?id=818859032317965), we did the direct integration.\n\nWhat is the difference between doing individual conversion API setups for these platforms to complement our client-side tagging, vs. setting up a server-side tagging solution and using that instead to connect to Meta & these other ads platforms?\n\nIf we went with a solution like Stape or Elevar that sets up & manages the server side tagging for us, and they have connections with things like the Meta Conversions API, does that basically just still use all these conversions APIs except that Stape/Elevar/etc. handles the APIs through their platform instead of our dev team manually connecting to these APIs?",
        "score": 5,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1ihk19k/serverside_tagging_vs_individual_api_integrations/",
        "num_comments": 6,
        "comments": [
            {
                "body": "> a couple years ago our dev team set up an integration with FB/Meta's Conversions API, just as a one-off, but we do not have a server-side tracking server through GTM or another platform. ETA: Reviewing this page from Meta, we did the direct integration. \n\n\nHow exactly is this set up? You're sending events directly from your site server to Meta? How are you handling consent?\n\n\n\n\n> What is the difference between doing individual conversion API setups for these platforms to complement our client-side tagging, vs. setting up a server-side tagging solution and using that instead to connect to Meta & these other ads platforms? \n\n\nTime, complexity and cost. By all means, a direct integration with each individual API is great but everytime you need to make a change or add something new you need to involve a developer.\n\n\nUsing a centralized solution means that the developer can manage the quality of a single API (the one to your tagging server) instead of however many for each individual vendor you want to integrate.\n\n\nAdditionally, a dedicated tagging server allows you to do stuff other than exclusively forward requests to vendors. You can set cookies and serve scripts in a first party context, modify requests, enrich data, etc.",
                "author": "brannefterlasning",
                "score": 2
            },
            {
                "body": "correct - Stape makes server management a breeze, adds a bunch of features, and is cheaper than Google servers for any real implementation. It doesn't do anything for implementation. That's still on you. Though it offers a cool data client if you don't/can't use the GA4 one server-side.",
                "author": "hiscapness",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Iirc - Stape handles the hosting of the sGTM container & things like the reverse proxy server, it doesn't setup the actual tags (I could be wrong here) - there are templates that help. \nMost sites use a hybrid client/server-side setup, largely because GA4 tag works better that way (or see Jentis.com).",
                "author": "TedTheTopCat",
                "score": 1
            },
            {
                "body": "Is not one or the other, is both, the server acts like a safety measure since people can have adblocks or other extensions the block the google or the meta urls that send the events, so when you create the server container the url that comunicates the events comes from your own domain and its not blocked.\n\nOther uses are the customization of the data that you capture and send to different services, and depending of your business, advanced logic for custom events",
                "author": "pgm094",
                "score": 1
            },
            {
                "body": "Thanks for the clarification. I've met the Stape founder several times & he's a really cool bloke. Stape also publish a load of support material & worked with Meta to release a server side API or endpoint (at the edge of my tech knowledge here).",
                "author": "TedTheTopCat",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1740442318.0,
        "title": "Microsoft Ads is Duplicating my Events in GA4",
        "author": "Livcorbusier",
        "id": "1ixhe21",
        "selftext": "Hello,\n\nI own and run a subscription based e-commerce website that sells either a monthly membership or an annual to my platform.\n\nWe track the monthly and annual events in google Ads via tag manager and have linked these back to GA4.\n\nLast week we started using Microsoft Ads and initially opted for the automatic UET tag and goal setup via tag manager. Immediately this then duplicated our conversions in Google Ads and GA4 so we manually set up the UET tag in Tag Manager, reassigned it to the Microsoft Ads goals and deleted any trace of the previous UET tag.\n\nIt now appears that my Google Ads conversions are no longer duplicating but my Events in GA4 are still!\n\nAnyone else had this problem or found a solution? ",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1ixhe21/microsoft_ads_is_duplicating_my_events_in_ga4/",
        "num_comments": 4,
        "comments": [
            {
                "body": "I'm thinking it is a microsoft bug as I think it is set up correct (to their reccomendation). The UET tag in tag manager utilises the code from microsoft ads. The goals within microsoft ads are destination goals and must be triggering the analytics twice but they are set up in a completly different platform.",
                "author": "Livcorbusier",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Things to do\n1. Check if the event name are duplicated across the tags\n2. Check if the triggers are duplicated\n3. Setup 1 conversion event tag and for all the other tags using this event as the trigger.This can help avoid sending the same event data multiple times\n\nLet me know how it goes.",
                "author": "ds_frm_timbuktu",
                "score": 1
            },
            {
                "body": "The work of MS tags cannot be linked to GA4 or Google ADS in any way, neither by the tags themselves nor by the platform. Probably when adding MS you accidentally made some other changes that affected GA4 and Google ADS tracking.  \nPerhaps you added additional tags that generate this or tags are triggered multiple times for some reason (e.g. duplicate events in the data layer).  \nIt’s definitely worth checking in preview mode, make a conversion and check if everything works correctly, it’s also worth checking it via GA4 debug mode.",
                "author": "Bukashk0zzz",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1738244975.0,
        "title": "No conversion events counted in GA4 after installing server-side TikTok Events API with Google Tag Manager",
        "author": "Suspicious_Cut_9050",
        "id": "1idncw5",
        "selftext": "Hi there\n\nI am having issues after installing server-side TikTok Events API with Google Tag Manager. After installing the events/Conversions in Ga4 are gone so they are not being sent to GA4. \n\nStrange thing is that when I go in GTM preview mode it still fires all the tags I once implemented for GA4. But somehow they are missing in GA4. \n\nAlso strange is that my Meta Pixel and TikTok Pixel seem to work so in their Events Manager I can see those conversions and events. \n\nOther thing I noticed is that somehow the events \"gtm.init\" and \"gtm.init\\_consent\" started to show in GA4 since the day it stopped working. In GTM preview mode it also looks like those events where somehow triggered by the automatically installed TikTok Tags.\n\nI then checked if there are some consent modes that have been activated with this implementation - but that doesn't seem to be the case. Container settings don't have any consent modes activated.\n\nTo be honest I am super clueless and I know it's very hard from an outside perspective to help me here - I am also trying with TikTok support (so far so bad) - but maybe anyone out here had the same or similar issue and figured out a way or a solution??\n\nThank you so much for your help in advance!",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1idncw5/no_conversion_events_counted_in_ga4_after/",
        "num_comments": 6,
        "comments": [
            {
                "body": "Hi there!  \n1. It's Wordpress  \n2. Well I chose automatic implentation of server side tracking with TikTok so it created me a second cotainer in Google Tag Manager (which is the server side container) - I already had GA4 installed i the browser container with all the tags and triggers  \n3. Server plattform name is Google Cloud (automatic tagging server)",
                "author": "Suspicious_Cut_9050",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "[removed]",
                "author": null,
                "score": 1
            },
            {
                "body": "TikTok Events API might be causing issues with GA4. Although GTM preview shows events firing, they're not reaching GA4. Since TikTok and Meta Pixels work, it could be a GA4 tag setup issue. Check if server-side tags are conflicting with GA4 or if any consent settings are blocking data. Try ensuring that GA4 tags are set up properly. If it continues to be tricky, consider switching to Qwestify for simpler, cookie-less tracking, which might give you clearer insights and fewer issues with event data. And it also free to use.",
                "author": "the-fire-in-me",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1741013170.0,
        "title": "What kind of access is needed?",
        "author": "Boring-Attention-711",
        "id": "1j2k8ll",
        "selftext": "I’m working for a marketing agency in asia with HQ in the US. The Asia branch decided to use HQ Meta business manager to run campaigns for the Asia client. The HQ already given the ads account access. But when I asked on GTM activation, here’s what they responded with \n\n“You are a new customer, so we have not done anything related to GTM. Being a new customer, we do not know: URL, GTM, etc.\nFor that reason, we are not responsible for GTM and could not give you access, as it is something we do not have.”\n\nFor context, here’s what the client email says:\n\nTo submit GTM requests via the Welcome platform, could you share one centralized email ID for access?\nTo create the required tags/triggers, please share the user email ID for GTM access.",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1j2k8ll/what_kind_of_access_is_needed/",
        "num_comments": 3,
        "comments": [
            {
                "body": "GTM access can be granted at the account level or the container level. \nUsers can be given different permissions, such as read, edit, approve, or publish.",
                "author": "wardogfufu",
                "score": 3
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1716822409.0,
        "title": "Consent mode v2 - shopify ",
        "author": "codingcommerce",
        "id": "1d1tnlh",
        "selftext": "Hello!\n\nI am so lost. \n\nI am ppc manager and i need to get the consent mode up and running on a shopify store. \n\nI installed it using google tag manager but the client is using direct integration of google ads and google analytics. \n\nDo i have to set up everything on google tag manager? \n\nThank you very much. \n\n",
        "score": 6,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1d1tnlh/consent_mode_v2_shopify/",
        "num_comments": 24,
        "comments": [
            {
                "body": "[removed]",
                "author": null,
                "score": 3
            },
            {
                "body": "What should my GA4 trigger in gtm?",
                "author": "codingcommerce",
                "score": 2
            },
            {
                "body": "[removed]",
                "author": null,
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Do you also already have a plugin that manages consent? Suggestions are:\n- https://cookiebot.com\n- https://consent.studio\n- https://cookieyes.com",
                "author": "Yallone",
                "score": 1
            },
            {
                "body": "GTM is the easiest and reliable methode to track these events. You better go with GTM.",
                "author": "Evan-Ivan",
                "score": 1
            },
            {
                "body": "I was under impression that the privacy banner from Shopify is GDPR and cookie consent mode compliant and its integrated with GA and GAds tracking app",
                "author": "Grinchiul",
                "score": 1
            },
            {
                "body": "u/codingcommerce if you're still struggling, we've put together this comprehensive GTM tutorial on AnalyticsMania: [https://www.analyticsmania.com/post/install-google-tag-manager-and-ga4-on-shopify](https://www.analyticsmania.com/post/install-google-tag-manager-and-ga4-on-shopify)\n\nYou may also give this tutorial a read if you want to handle consent (including Google Consent Mode v2) on top of your GTM setup: [https://karolkrajcir.com/post/ga4-consent-based-conversion-tracking-on-shopify-with-custom-pixels-cookifi-gtm](https://karolkrajcir.com/post/ga4-consent-based-conversion-tracking-on-shopify-with-custom-pixels-cookifi-gtm)",
                "author": "puk789",
                "score": 1
            },
            {
                "body": "Thank you very much for your explanation. I installed consent mode via gtm. My question is if i also need to install GA4 and g ads via tag manager for the consent mode set up to work properly.",
                "author": "codingcommerce",
                "score": 1
            },
            {
                "body": "I am using cookiebot",
                "author": "codingcommerce",
                "score": 1
            },
            {
                "body": "it definitely is not compliant... it lacks basic things like Preference Centre (the floating button that lets your visitors review/change their consent), consent log, and others from what I've seen... u/Grinchiul",
                "author": "puk789",
                "score": 1
            },
            {
                "body": "[removed]",
                "author": null,
                "score": 1
            },
            {
                "body": "You do because native GA4-Shopify connection can frequently ignore cookie consent buttons and then you have issues.",
                "author": "trp_wip",
                "score": 1
            },
            {
                "body": "So,  i guess i will have to remove ga4 and g ads from shopify.",
                "author": "codingcommerce",
                "score": 1
            },
            {
                "body": "[removed]",
                "author": null,
                "score": 1
            },
            {
                "body": "[removed]",
                "author": null,
                "score": 1
            },
            {
                "body": "Purchase",
                "author": "codingcommerce",
                "score": 1
            },
            {
                "body": "Shopify",
                "author": "codingcommerce",
                "score": 1
            },
            {
                "body": "What should i choose to be GA4 trigger *",
                "author": "codingcommerce",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1734425401.0,
        "title": " A tag read consent state before a default was set",
        "author": "d4truE",
        "id": "1hg6iuc",
        "selftext": "Hello. I am currently experiencing a problem with google tag manager. \n\nI got a message \"Some pages are missing consent for EEA users\" in my tag quality tab in google ads. \n\nWhen i hop onto the tag manager i get this : A tag read consent state before a default was set .\n\nI am using consent magic pro plugin. I had some problems with my tags and i reinstalled everything. Don't know how this affected the use of the plugin. \n\nHelp appreciated. Thanks.\n\n",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1hg6iuc/a_tag_read_consent_state_before_a_default_was_set/",
        "num_comments": 8,
        "comments": [
            {
                "body": "It isn't a good idea to go cheap on consent, the risk is too high. Cookiebot is the market leader, you can be confident that if it's not working it's not because of Cookiebot, it's because of the way it's been implemented on your site.\n\nHappy to help if you need it, just send me a DM.",
                "author": "Taca-F",
                "score": 3
            },
            {
                "body": "Have you implemented your consent management through Google Tag Manager with a CMP and Google Consent Mode?",
                "author": "Taca-F",
                "score": 2
            },
            {
                "body": "There's plenty of Google documentation, videos on YouTube and I'm sure your own CMP will have documentation as well to follow.\n\nWhat is the nature of your business?",
                "author": "Taca-F",
                "score": 2
            },
            {
                "body": "Honestly, I wouldn't use Consent Magic, their own website doesn't follow proper consent best practice. I'd use Cookiebot.",
                "author": "Taca-F",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "I have actually no idea how its implemented. I had a marketing company set it up for me, however we parted ways and i am trying ads my own now. Google ads->tools->data manager->admin-> consent mode is active.  \nIs there a way to check how its implemented? and go from there?  \nThanks.",
                "author": "d4truE",
                "score": 1
            },
            {
                "body": "I have a woocommerce e-shop. Baby and kids goods. Should i remove consent magic pro plugin and reinstall/setup it?",
                "author": "d4truE",
                "score": 1
            },
            {
                "body": "Do you know of any free option? because i already paid 150€ for a year for consent magic. My licence expires May 25. But if there is not a free alternative i guess $7/month for cookiebot is reasonable for a piece of mind.",
                "author": "d4truE",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1732568721.0,
        "title": "Tag Manager Not Detected/Stopped Sending Data",
        "author": "bicycleVSCARtoo",
        "id": "1gztvga",
        "selftext": "I am working with the web developer to set up Google Tag Manager across two different sites. I wanted to install Tag Manager so that we could potentially use it to install javascript for other analytics platforms apart from Google. \n\nFor the first site, my colleague just went through the steps of setting up the Google Tag; she went and made a new property for the site, got the Google Tag ID, and gave it to the web dev who installed it through Duda's CMS/backend. I went and made a Google Tag Manager Container, gave him the GTM ID and the script/noscript code, all of which he installed. However, I can only see the Google Tag as being active when I look in the Tag Assistant. The data is still flowing through to the Google Analytics property, but for the life of me I can't figure out why the Tag Manager won't work. \n\nFor the second site, I set this up by creating a new property and data stream, but I didn't have the dev add the Google Tag first. Instead I made a container for Tag Manager and I then gave the GTM ID and the code to the dev who installed it. Then, I created a tag in Tag Manager using the data stream Google ID and sent that to a new live version through the container. Everything seems to work fine - the data stream has data, and in Tag Assistant I can see both tags are firing. \n\nI don't know enough about all of this to know if the way the first site was set up (by adding the Google Tag first) has something to do with why this isn't working. Maybe it won't let Tag Manager work if it detects an existing Google Tag? We've gone through the code for each page on the first site and ensured that the GTM tag ID is indeed present on each page, and it even says that it has been detected on 8 of 8 pages in the Tag Coverage tab. But in Tag Manager, I have an \"Urgent\" warning saying that it \"stopped sending data\" and hasn't received data in over 48 hours, and that it the tag is missing on some pages. \n\nSo I'm kind of at a loss here. Any help would be much appreciated! \n\n",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1gztvga/tag_manager_not_detectedstopped_sending_data/",
        "num_comments": 9,
        "comments": [
            {
                "body": "Okay so, I took a quick peek and I see the following:\n\n# 1.)\n\nThe container is definitely loading and I can see that it is registered by Tag Assistant as well. Although, since I don't have access to the container I cannot see the events that it is processing. Instead I have to look at the \\`dataLayer\\` array to check what is being pushed.\n\n# 2.)\n\nChecking the \\`dataLayer\\` shows two events named \\`\"gtm.js\"\\` (Container Loaded). As there should never be two of these I checked where the second one was coming from and it seems like the developer has implemented the container code twice, using two different methods.\n\n**Method 1:**\n\nThis is a modified version of the original container code. Either the dev modified it themselves or they're using a plugin of sorts that outputs this code.\n\n    <script>\n      window.dataLayer = window.dataLayer || [];\n      window.dataLayer.push({\n        'gtm.start': new Date().getTime(),\n        event: 'gtm.js'\n      });\n    </script>\n    <script async src=\"https://www.googletagmanager.com/gtm.js?id=GTM-NZB78TCN\" id=\"d-js-gtm\" onload=\"window.dispatchEvent(new CustomEvent('gtmLoaded', { bubbles: true }))\"></script>\n\n**Method 2:**\n\nThe original unmodified container code.\n\n    <script>\n      (function (w, d, s, l, i) {\n        w[l] = w[l] || [];\n        w[l].push({\n          'gtm.start': new Date().getTime(),\n          event: 'gtm.js',\n        });\n        var f = d.getElementsByTagName(s)[0],\n          j = d.createElement(s),\n          dl = l != 'dataLayer' ? '&l=' + l : '';\n        j.async = true;\n        j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;\n        f.parentNode.insertBefore(j, f);\n      })(window, document, 'script', 'dataLayer', 'GTM-NZB78TCN');\n    </script>\n    <noscript>\n      <iframe src=\"https://www.googletagmanager.com/ns.html?id=GTM-NZB78TCN\" height=\"0\" width=\"0\" style=\"display: none; visibility: hidden\"></iframe>\n    </noscript>\n\n\n\n# Conclusion:\n\n* The container is indeed being loaded, twice!\n* One of the container implementations need to be removed as having duplicates of the Container Loaded event will definitely cause issues.\n* Assuming you have access to the GTM container you should be able to see it Tag Assistant and/or Preview mode.\n* If you don't have access then that is the reason why you are unable to debug the container using Tag Assistant.",
                "author": "brannefterlasning",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "You can setup Google Tag in GA4 or Google Ads.  They are two separate IDs.  Pick your main reporting platform.  Install the tag using the ID for that platform.  Log into the chosen platform, and link the other ID to the same tag.",
                "author": "FigSpecific6210",
                "score": 1
            },
            {
                "body": "Site 1: I'm confused.  It sounds like your colleague created a property in GA4 and gave the web Stream ID to the dev. This is why the GA4 is flowing.\n\nAnd then, you created a GTM container and gave the dev the GTM ID. But, you didn't say that you added a tag and trigger to GTM.\n\nTake out the GA code and only have the GTM code in the site. Then, add a GA4 tag to the container using the Measurement ID from the GA4 property. Set the trigger for this tag to fire on all page views. \n\nTag Asistant will show that the GA4 tag is firing on all pages and dat will flow to GA4.",
                "author": "NoAge358",
                "score": 1
            },
            {
                "body": "Right - as I mentioned, when I set up the second site, we had no issues. The issue is how to proceed with the first site. Should we just remove all traces and start over? That's kind of the idea I'm getting here. I know that you're not supposed to implement both on a site at the same time, but I don't have access to the back end so I'm not exactly sure how he went about doing it. I don't know enough about HTML to look at it and determine where he could have gone wrong.\n\nThanks for your reply and help!",
                "author": "bicycleVSCARtoo",
                "score": 1
            },
            {
                "body": "I did create a tag and trigger and all of that to GTM, but the container itself isn't being detected. I don't know how the Duda back end works exactly so I'm not sure if he replaced anything or just dumped one on top of the other. If you want to install just the Google Tag, they went about it the right way - create the property, input the Google tag in the appropriate field, and it's done. If you want to do Tag Manager, I'm pretty sure you still have to put the script on the site. Then, you go through and make the tag and trigger like you mentioned, and when you preview the site with Tag Assistant, you'll see that the Tag Manager is active, and that the Google Tag is sourced from the container. That's what the second site looks like. The container source is \"on-page gtm.js snippet\" and the source for the GTag is that container.\n\nWhen I go into Tag Assistant on the first site, I only see the Google tag - that Tag Manager tag says that it isn't detected. The Google Tag says \"on-page gtag(config)\". This is despite the fact that we put the script on the site for the Google Tag Manager tag, and it appears on every page.\n\nThanks for your reply and your help!",
                "author": "bicycleVSCARtoo",
                "score": 1
            },
            {
                "body": "Yea I know that it is, and I guess I didn't realize that's what the dev had done, but it kind of seems like it. I'm not sure if he realizes that either because of the way you install stuff with Duda. When he initially installed the Gtag, he just inputs the tag ID into a field in Duda and it does the rest. When I asked him to go with Tag Manager instead, I guess he assumed that it would replace what had been done, but I'm not sure that it did. I don't know enough about the HTML to look at the site and see if it is incorrect. I see the correct tag IDs for the container and the Gtag (the Gtag would be the same whether it was installed individually or through a container I think), but beyond that I'm at a loss.\n\nThere is an option (I can't remember where right now) that says \"Ignore duplicate on-page configuration\" which is turned on. Do you think that could prevent the GTM from working if the on-page gtag config preceded it?\n\nEither way, sounds like we just need to scrub it and start over I think. Which shouldn't be a big deal I would imagine.\n\nThanks for your help!\n\nEDIT: This is the site in question by the way: [https://www.kinghorncg.com/](https://www.kinghorncg.com/) \\- just in case you wanted to take a peak. I certainly don't expect you to go to that trouble, but if you happen to have a minute to glance over it and something jumps off the page at you, let me know.",
                "author": "bicycleVSCARtoo",
                "score": 1
            },
            {
                "body": "That's all very helpful, thanks so much for taking a look! \n\nThe Tag Assistant simply says:  \nGoogle Tag: GTM-ABCDEFG not found. Please verify that the tag:\n\n* Is installed on this page\n* Is not being blocked (by a browser extension or a consent dialog)\n\nI do have access to to debug the container, and I'm able to do it on the other site (site 2). But yea, the above text is what I get from Tag Assistant for site 1. \n\nI'll relay this to the dev and see if we can't remove an instance of this - see if that helps. \n\nThanks so much again!",
                "author": "bicycleVSCARtoo",
                "score": 1
            },
            {
                "body": "First of all, it is bad practice to implement Google Tag and Google Tag Manager in parallel. If you want to use Google Tag Manager then remove the Google Tag and implement GA and all other tags using GTM.\n\n\n\n\nSecond, while it is bad practice, implementing both will not break either solution unless incorrectly implemented. Without looking at your site my guess is that the developer has made a mistake somewhere and most likely has modified the Gtag and/or GTM code in such a way that breaks the GTM container initialization.",
                "author": "brannefterlasning",
                "score": 0
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1732429501.0,
        "title": "Why is there a gap in conversions between my BI dashboard and the advertising platforms?",
        "author": "CarbonWave",
        "id": "1gykkxb",
        "selftext": "Hi all,\n\nI’m experiencing an issue where my BI dashboard consistently reports around 40% more conversions than my advertising platform. I’m using Google Tag Manager (GTM) to implement postback tracking for the advertising platforms. \nI suspect there may be a problem with how I store and retrieve the clickid parameter, but I’m not sure where the gap could be coming from.\n\nHere’s how my tracking is set up:\n1. Landing Page (LP): Capturing and Storing clickid. When a user lands on the LP, I capture the clickid parameter from the URL and store it in localStorage when they click the CTA button:\n\n<script>\n  // Define the variable to store\n  var stored_gclid = {{gclid}}; // GTM variable capturing the clickid\n\n  // Store it in localStorage\n  localStorage.setItem('stored_gclid', stored_gclid);\n</script>\n\n\n2. Thank You Page (TYP): Retrieving the clickid\nOn the TYP, I pull the stored clickid from localStorage using this custom JavaScript function in GTM:\n\nfunction() {\n  return localStorage.getItem('stored_gclid');\n}\n\n\n3. Firing the Postback\nThe postback is triggered using the clickid retrieved from localStorage:\n\nhttps://example.com/pixel?info=601023&unique_req={{Pulled CID}}\n\n\n\n* No significant browser/device differences: All users are on Windows, and Firefox is the browser.\n\nMy Questions:\n\n1. Could there be an issue with localStorage causing this gap?\n2. Is there a better way to store and retrieve the clickid to reduce these discrepancies? For example, should I switch to cookies parameters for better reliability?\n3. What else could explain the 40% gap?\n\nAny insights or suggestions would be greatly appreciated! Let me know if you need more details about the implementation.",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1gykkxb/why_is_there_a_gap_in_conversions_between_my_bi/",
        "num_comments": 9,
        "comments": [
            {
                "body": "Do you have a copy of this data stored server-side or are you just hoping for the data to be reliably sent via the user’s web browser client-side?",
                "author": "Straight_Special_444",
                "score": 2
            },
            {
                "body": "Hey there!\nI have the click IDs in my data warehouse!\nCurrently to fill the gap in reporting we manually “fire” all the missing click IDs to the platforms.",
                "author": "CarbonWave",
                "score": 2
            },
            {
                "body": "Ok thank goodness, haha. So when you manually fire all the missing click IDs, do you still see a large discrepancy or is it satisfactory?",
                "author": "Straight_Special_444",
                "score": 2
            },
            {
                "body": "There are a multitude of reasons why client-side can fail, but you’ve stumbled upon the more sophisticated solution of doing both client-side and server-side tracking (which need to be deduplicated via some unique identifier for each conversion e.g. an order id). \n\nInstead of manually firing these conversions, you could just setup a “reverse ETL” tool like Hightouch or Rudderstack that connects to your data warehouse and automatically sends those click IDs (along with other data for improved quality/matching) to the advertising conversion APIs.\n\nOnce you do this for one ads network, then setting up additional ads networks is trivial, taking less than 10 minutes.",
                "author": "Straight_Special_444",
                "score": 2
            },
            {
                "body": "Thanks! I’ll dig into that 💪🏼",
                "author": "CarbonWave",
                "score": 2
            },
            {
                "body": "No problem!\n\nThere is an untold amount of power that you can unlock by leveraging those “reverse ETL” tools on top of your data warehouse.\n\nIt makes your data warehouse not just your crown jewel for BI reports, but also for data activation/automation for ads conversion APIs, custom ads audiences based on user behavior/critera from other sources of data in your warehouse, email marketing automation, customer 360 views for sales reps within CRM or support teams in ticketing systems, etc.",
                "author": "Straight_Special_444",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Yessir! After manually firing all the missing click IDs we have a sufficient match rate between our data and the platforms.\nI wonder why some fires are successful while others not…",
                "author": "CarbonWave",
                "score": 1
            },
            {
                "body": "Are you tracking API responses, whether they're actually successful? I wonder if some may be outside of conversion window or possibly have IDs coming from a different account?\n\nAnother thing is, if you have campaigns in IOS apps (YouTube etc), it'd use IOS-specific IDs wbraid/gbraid instead of gclid. Specialized platforms like Able CDP or previously mentioned Rudderstack may be a better option for sending conversions than custom coding an integration from data warehouse or relying on GTM (which I suspect may not be getting correct values in all instances using the storage method employed).",
                "author": "paul_944",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1726157636.0,
        "title": "Are there Tracking preventions that nativly block the loading of GTM client side?",
        "author": "ImportantMusician462",
        "id": "1ff6fdn",
        "selftext": "I know there are special extensions which do so, but afaik there is no built in Tracking Prevention which blocks the loading of GTM client side entirely?\n\nOr am I wrong, but also ETP on stict doesn't afaik?",
        "score": 0,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1ff6fdn/are_there_tracking_preventions_that_nativly_block/",
        "num_comments": 14,
        "comments": [
            {
                "body": "That doesn't makes sense, first of all those tests of privacy sandbox stopped, Chrome will continue to use 3rd party cookies and second of all, GTM is not a 3rd party cookie and even in a client setup set by your own domain.",
                "author": "ImportantMusician462",
                "score": 4
            },
            {
                "body": "Google Tag Manager doesn't rely on third-party cookies.",
                "author": "phmae",
                "score": 2
            },
            {
                "body": "Google blocking its own platform? Unlikely.",
                "author": "zenith66",
                "score": 2
            },
            {
                "body": "Anything really, with the custom JS and HTML tags.\n\nI wouldn't recommend this, of course, but I've seen people do all kinds of website changes and modifications. Adding HTML content (or hiding), modifying CSS, using JS and jQuery.\n\nYou can set up a redirect quite quickly. I've seen instanced where someone added structured data or schema markup. Not the best way to do it, obviously, but sometimes it's faster or you have no choice.\n\nLots of people use it to verify the website, add meta tags, but this doesn't impact the UX.\n\nMost CMPs are implemented through GTM, so if that doesn't load the consent banner doesn't load. But you can argue that that doesn't matter if you don't want to be tracked either way.",
                "author": "zenith66",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "currently chrome is implementing third party cookie blocking on some of its users, so in that case client side gtm will be blocked even if there's no other add ons on the browser.",
                "author": "procstinator",
                "score": 1
            },
            {
                "body": "Safari blocks known trackers by default when browsing in private mode. Firefox has built-in options to block known trackers but they have to be manually enabled. Then you have privacy-focused browsers like Brave that blocks trackers out of the box.",
                "author": "brannefterlasning",
                "score": 1
            },
            {
                "body": "But GTM alone is not a tracker when it has no tags in the container. It blocks the trackers/tags, but not GTM itaelf afaik.",
                "author": "ImportantMusician462",
                "score": 1
            },
            {
                "body": "I can not say what happened in your specific case, but sometimes ad blockers and chrome blocks it. Make sure you have put the code in the right place. Then try turning off the chrome blocking mechanism",
                "author": "procstinator",
                "score": 1
            },
            {
                "body": "Yes it doesn’t, still gets blocked. Try turning off the mechanism, I've been through a similar situation",
                "author": "procstinator",
                "score": 1
            },
            {
                "body": "That's a very naive viewpoint. The very purpose of the tool is to facilitate tracking. It's literally named \"Tag Manager\". The people that make the blockers aren't stupid, they know the purpose of the tool and will block anything that comes from \"googletagmanager.com\". Some of them will even block the path \"/gtag\" so you can't circumvent the block by switching to a 1st-party domain.",
                "author": "brannefterlasning",
                "score": 1
            },
            {
                "body": "/gtag is the Google Tag, which is different from GTM. It's loaded from GTM, however.\n\nYes, some block it, but GTM should never be blocked as it can be used for many other things than ad and analytics tracking.",
                "author": "zenith66",
                "score": 1
            },
            {
                "body": ">it can be used for many other things than ad and analytics tracking\n\n\nI'd be really curious to hear what these other use cases are.",
                "author": "brannefterlasning",
                "score": 1
            },
            {
                "body": "I understand what you're getting at but just because you can do something doesn't mean you should. If you're making a tool with the purpose of blocking tracking technologies it doesn't make any sense to allow the most common culprit just because some people are using it in a way they absolutely shouldn't.\n\n\n\n\nOne could even argue that it would be a good thing for these people to get a wake up call. Maybe they'll finally realize that a Tag Manager is not supposed to be used as a CMS.\n\n\n\n\nEither way, most the situations you've described could easily be remedied by doing things correctly instead of lazily and some of them don't event matter in relation to ITP. For example:\n\n\n\n\n>Lots of people use it to verify the website, add meta tags\n\n\n\n\nDomain verification systems most likely won't be using tracking protections when verifying your site and individuals blocking the tool that injects these tags don't have any effect on the verification service.",
                "author": "brannefterlasning",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1715192444.0,
        "title": "Remote GTM jobs in agencies",
        "author": "KalaBaZey",
        "id": "1cnbi4x",
        "selftext": "Hello everyone, I’m a Google Ads freelancer and I love working in this field but I enjoy working with tracking & analytics even more. I have consulted for an in house team before where my sole job was to build their tracking in GTM and I recently reached out to an agency for a job & they told me they were relying on someone external for GTM but would be interested to bring it in house. \n\nThat didn’t pan out eventually as they said they dont have many new clients rn but it made me wonder if there’s other agencies that might need a contractor or in house specialist just for Google Tag Manager. Even with my limited number of G Ads clients I often have to redo the tracking because of changes in business goals and landing pages so agencies with more clients would need someone specifically for this. \n\nI’m looking for such agencies or in house teams who might need someone like me. I can setup all sorts of tracking including some simple Javascript & dataLayer.push() stuff, Enhanced Conversions and can also work with cookies & consent modes & what not. \n\nI want to work on more complex stuff in GTM which my small lead gen clients do not have the need for such as Server Side tracking and by being part of a bigger organization with bigger clients & more advanced systems I’d get the opportunity to do so. \n\nAny leads would be greatly appreciated. \n\nP.s I can only work remote since I’m based in Pakistan & the agency scene here is very rudimentary. ",
        "score": 7,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1cnbi4x/remote_gtm_jobs_in_agencies/",
        "num_comments": 22,
        "comments": [
            {
                "body": "I’m literally you 😅. Feel like GTM and technical marketing is made for me, but still don’t have enough experience. Anyway, good luck!",
                "author": "Cotusie",
                "score": 6
            },
            {
                "body": "DM me contact details",
                "author": null,
                "score": 3
            },
            {
                "body": "Dm contact info please. Agency owner",
                "author": "found_it_online_01",
                "score": 3
            },
            {
                "body": "I think our agency could use someone specializing in this. Can you send me a DM?",
                "author": "dudieguybro",
                "score": 2
            },
            {
                "body": "DM me",
                "author": "andr3sr",
                "score": 2
            },
            {
                "body": "Send me a DM. I have a firm called TagHero that specializes in tagging/tracking, specifically in the DTC ecomm space, and we're always plenty busy and looking for additional contractors to source projects to.",
                "author": "brett_fish",
                "score": 2
            },
            {
                "body": "Same here! It resonated with me for some reason. Found out from using contentsquare at a prior gig.",
                "author": null,
                "score": 2
            },
            {
                "body": "Thank you.",
                "author": "KalaBaZey",
                "score": 2
            },
            {
                "body": "Done. ✅",
                "author": "KalaBaZey",
                "score": 2
            },
            {
                "body": "Done.",
                "author": "KalaBaZey",
                "score": 2
            },
            {
                "body": "Done.",
                "author": "KalaBaZey",
                "score": 2
            },
            {
                "body": "juyst checked don't see any messages!",
                "author": "brett_fish",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "High Five Mate!\nSame here, I even looking for some opportunities.\nBest Wishes.",
                "author": "Evan-Ivan",
                "score": 1
            },
            {
                "body": "I've done over a 100 tag manager jobs on Fiverr to build experience (72 five star reviews) along side my day job.   I'm based in the UK. If anyone wants more info or to work on future projects together,  feel free to DM me.",
                "author": "Zealousideal-Age8860",
                "score": 1
            },
            {
                "body": "Just checking. Did you get my message request?",
                "author": "KalaBaZey",
                "score": 1
            },
            {
                "body": "Done.",
                "author": "KalaBaZey",
                "score": 1
            },
            {
                "body": "Thank you. You too.",
                "author": "KalaBaZey",
                "score": 1
            },
            {
                "body": "Looks fine on my end. Could you instead initiate the DM maybe its a bug.",
                "author": "KalaBaZey",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1734867429.0,
        "title": "Google Tag / GA4 and Google Ads... what a mess :-)",
        "author": "Holiday_Activity9191",
        "id": "1hjwugr",
        "selftext": "Hej there,\n\n* I recently switched to a cookie banner with Consent Mode V2, which requires Google Tag for the consent setup. This has worked flawlessly.\n* In the past, we integrated GA4 directly via snippets into the website code. However, now that we’re using Google Tag as well, the GA4 snippet would be used twice since our GA4, Google Ads, and Google Tag are connected, this makes the direct snipped redundant, right?\n* Google Tag Manager is already firing our purchase events without any additional GA4 tag setup. Is this normal? Will I lose any tracking if I don’t set up an additional tag for GA4 and GoogleAds?\n* I am using a third-party booking software that sends the purchase event to GA4, and we’ve connected the same purchase event in Google Ads. Am I correct in assuming that I don’t need to install the Google Ads tracking code (AW) additionally since the purchase data is already coming from GA4?\n\nLast but not least, the Google Ads tracking gets quite often lost between my WebSite and the final purchase event on the third-party website... in almost 30-50% of cases (it just indicates direct source in GA4), is there any trick to keep the attribution?\n\nThanks a lot!",
        "score": 7,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1hjwugr/google_tag_ga4_and_google_ads_what_a_mess/",
        "num_comments": 5,
        "comments": [
            {
                "body": "1. Congrats!\n2. Right.\n3. This one is a little confusing. In theory, you don't need GA at all, to connect GTM and Google Ads. You can create a trigger, and, well, trigger the Google Ads conversion tag when it happens.\n\nFor example:  \n\\-> someone visits the \"thank you page\" -> Google Ads Conversion Tracking Tag is firing.\n\nThis will work. You're very likely to use exactly this set up for the Facebook/Twitter/Whatever pixel conversion tracking\n\nBut alternatively (preferably?), you can use the above trigger to trigger not the Google Ads conversion, but to send the event to GA.\n\nExample\n\n\\-> Someone visits the \"thank you page\" -> Google Analytics: GA4 Even Tag is firing.\n\nThat tag sent the event and other information you choose to sent, to Google Analytics, and you'll see it in the settings (admin) -> property -> Data display -> events (note, it may take 24 hours or more before you see it there).\n\nThen you can mark this event as **key event** (if it's named \"purchase\", then it's likely already marked that way)\n\nThen you just need to link the GA and Google Ads(property setting/ product links).\n\nAnd you can go to Google Ads, and you can import your Key events from GA as Goals (Goals -> Create Conversion Action -> Import)\n\n4) So it's more or less the same thing that point 3, but instead of the GTM sending the event to GA, Booking platform do it, right? Sounds like it may work. I would be cautiously optimistic  about it (but not an expert, or experienced in that area).",
                "author": null,
                "score": 4
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "* Great, a lot of people don't even get that far!\n* You need to remove any tracking code which is hardcoded on the site, not just Google, and have it run through Google Tag Manager so that it can be integrated with Consent Mode.\n* See above\n* This could be a problem. Can you get your Google Tag Manager container on to the booking software?",
                "author": "Taca-F",
                "score": 1
            },
            {
                "body": "Have you setup server side tracking?",
                "author": "RogervdMatten",
                "score": 1
            },
            {
                "body": "From your description, it appears that you are using GTM, GA4, Google Ads and Google Tag Script on your website. Yes, I think you have a redundancy problem.\n\n30-50% of traffic from the direct sources because of Incorrect Event Parameters or parameters are not sent with your purchase event\n\nAs a tracking professional, I think your tracking is not done in the right way. You could have done everything with Google Tag Manager so why do you use GA4, GTag, AW script? You also didn't mention how you enabled your Purchase Data Layer which is most important.",
                "author": "motiur_ak07",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1731936146.0,
        "title": "Looking for Mentor to improve GTM skills",
        "author": "iBilal_12v",
        "id": "1gu4kez",
        "selftext": "\n👋 Hey everyone,\n\nI'm looking for a seasoned Google Tag Manager (GTM) expert to mentor me. I'm eager to learn advanced techniques and best practices to optimize my GTM implementations.\n\nAreas I'd like to focus on:\n\n- Advanced Tag Configurations: Deep-diving into tag settings, triggers, and variables for precise tracking.\n- Troubleshooting Complex Issues: Identifying and resolving common problems like duplicate sessions, cross-domain tracking, event misfires, and CAPI errors.\n- Best Practices and Optimization: Learning strategies to improve user data quality, accuracy, and efficiency for platforms like Meta & Google's enhanced conversions.\n\nIn last 5 years, I've gained practical experience with GTM on various platforms (WordPress, Shopify, custom PHP frameworks, GoHighLevel, etc.), but I'm always striving to enhance my skills.\n\nI'm willing to offer assistance in return with similar tasks. We can schedule weekly or bi-weekly sessions based on our availability.\n\nI'm excited to connect with a mentor who can share their expertise and help me take my GTM skills to the next level.\n\nThank you!\n",
        "score": 5,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1gu4kez/looking_for_mentor_to_improve_gtm_skills/",
        "num_comments": 7,
        "comments": [
            {
                "body": "I will be honest, anyone with enough expertise in both GTM and effective mentorship is going to charge a hefty fee.\n\nIt might be cheaper and more effective to just pay for the Analytics Mania GTM intermediate course and anything you struggle with you can ask about in this sub.",
                "author": "DigitalStefan",
                "score": 5
            },
            {
                "body": "Yes. I've been through all of their courses and the server-side GTM course from Teamsimmer",
                "author": "DigitalStefan",
                "score": 3
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Enough with CHAT GTP powered reddit posts. \n\nAnyway, get analyticsmania intermediate course on Black Friday and learn on your own pace with lifetime access.",
                "author": "mar1_jj",
                "score": 1
            },
            {
                "body": "Have you done the analytics mania course?",
                "author": "TheEccentricErudite",
                "score": 1
            },
            {
                "body": "I'll second that.",
                "author": "wardogfufu",
                "score": 1
            },
            {
                "body": "Thanks, I’ve not heard of Teamsimmer.",
                "author": "TheEccentricErudite",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1728036341.0,
        "title": "Created a Free Tool to Instantly Check if Your GA4 or GTM Are Implemented Server-Side or Client-Side",
        "author": "Honest-Knee2482",
        "id": "1fvvlm2",
        "selftext": "I’ve been working on a project that I think could be really useful for this community, especially if you’re dealing with a lot of tracking setups or audits.\n\n# I built the Tracker Checker, a free Chrome extension that helps you quickly see:\n\n* **GA4 & GTM Implementation**: It instantly checks if your Google Analytics 4 or Google Tag Manager setup is **server-side** or **client-side**. No more guessing or digging through scripts—you'll know right away!\n* **Detailed Tracker List**: Tracker Checker also scans the site and shows you all the trackers that are running, like Google Ads, Facebook Pixel, TikTok Pixel, LinkedIn Insights, and more.\n* **Google Consent Mode Insights**: Easily check which version of Google Consent Mode is active (v1 or v2) and verify if your consent settings are working as expected.\n* **External Resources Check**: While it's not a full performance monitor, it helps you spot external resources that could be affecting page speed or loading issues.\n\n# Why I Made It:\n\nI was frustrated with how much manual work it takes to verify if tracking setups are working as expected. Whether you're auditing a client’s site or managing your own, I wanted a tool that simplifies this process, and the **Tracker Checker** does just that. It’s free, easy to use, and doesn’t require an expert to understand the results.\n\nYou can get it here on the [Chrome Store: Tracker Checker](https://chromewebstore.google.com/detail/nixon-digital-tracker-che/niamgkmcfickcpmbdheldknknepgibed?utm_source=%2Fr%2FGoogleTagManager&utm_medium=Redditpost&utm_id=%2Fr%2FGoogleTagManager) for free. If you try it out, I’d really appreciate any feedback or suggestions for improvements.\n\nI hope it saves you some frustrations.",
        "score": 15,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1fvvlm2/created_a_free_tool_to_instantly_check_if_your/",
        "num_comments": 9,
        "comments": [
            {
                "body": "[deleted]",
                "author": null,
                "score": 5
            },
            {
                "body": "Link to repository?",
                "author": "brannefterlasning",
                "score": 3
            },
            {
                "body": "Niiiice! I'll definitely test this out when I get home!",
                "author": "Beneficial-Pair-9585",
                "score": 2
            },
            {
                "body": "Wasn't able to detect my SSGTM implementation, SSGA4. \n\nI am using a custom subdomain and leveraging Stape.io's custom loader, which makes it hard for browsers and adblockers to detect these things. \n\nOnly thing the custom loader hasn't been able to get around is GA4 event tags, but loading the config with pageviews are still able to get through uBlock Origin. \n\nFirefox and Brave aren't able to stop Stape's custom loader.",
                "author": "the_duck17",
                "score": 2
            },
            {
                "body": "sounds like a super useful tool for anyone working with ga4 or gtm setups! quick checks on whether your setup is server-side or client-side can definitely save a lot of time. i’d suggest also giving qwestify a try—it's another great tool that simplifies digging into your ga4 data and helps you catch tracking issues easily. both tools together could make your tracking audits even smoother!",
                "author": "the-fire-in-me",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Nice work! Tested [renault.fr](http://renault.fr) and works fine.",
                "author": "RCoffee_mug",
                "score": 1
            },
            {
                "body": "Thanks great helpful tool for tracking & analytics tasks. It'a a time saver.",
                "author": "No-Stable1360",
                "score": 1
            },
            {
                "body": "Interesting. Addon shows I am using server tag but testing google tag manger directly doesnt. This is so bizzare.",
                "author": "snakecharmer95",
                "score": 1
            },
            {
                "body": "Great to hear it excites you! Let me know what you think once you get to it and dont hold back, i'm here to learn!",
                "author": "Honest-Knee2482",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1729541252.0,
        "title": "Google Consent Mode with BigCommerce Issue",
        "author": "ratatat213",
        "id": "1g8zdsx",
        "selftext": "Hi all,\n\nI am running into an issue where my GAds conversion tag is not firing for purchases in GTM due to the Google Consent Mode error \"A tag read consent state before a default was set\".\n\n  \nTools I am using:\n\n* BigCommerce\n* Google Tag Manager\n\n  \nI am not sure how this could possibly be happening because I only have 2 tags in my container and both are set to \"Window Loaded\" as the trigger. Note: I set it up this way because the Update Consent tag doesn't happen in GTM until after the DOM event has loaded. \n\nThe two tags that I have are the following:\n\n* Conversion Linker\n* Google Ads Conversion Event\n\nThey are both configured with built-in consent checks and \"no additional consent required\". I have no tags that fire before this. So I don't know how a tag could read consent state before a default was set when there are no tags firing before a default or an update was set. \n\nWhen I test a purchase conversion, my GAds tag says \"Still Running\" and I am 99% sure it is because it is a consent mode error \"A tag read consent state before a default was set\". Any clues on to how to fix this?\n\n\n\n",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1g8zdsx/google_consent_mode_with_bigcommerce_issue/",
        "num_comments": 7,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "You can set triggers that could fire before the update event, so your base / page_view tags need to have trigger that fire on the update event. For conversion events, this will depend on how and when the conversion takes place.",
                "author": "Taca-F",
                "score": 1
            },
            {
                "body": "Dumb question:  but are you sure consent is actually being set? https://chromewebstore.google.com/detail/consent-mode-inspector-by/phpllnjdcoiijcpgcbhlocjgcegjfnhb?hl=en&pli=1",
                "author": "aaronebennett",
                "score": 1
            },
            {
                "body": "Your're having problems because you failed to follow Google's instructions to use the Consent Initialization for setting default and update Consent states:\n\nhttps://support.google.com/tagmanager/answer/10718549\n\nAs long as you do that. AND have values for Default, your error will go away.\n\nAbout the \"update event happening after DOM loaded\" statement:: that's not how it works.  If you use the correct trigger, the update happens before the DOM loads based on user input or cookie value.\n\n The \"no additional checks needed\" selection is not really relevant here...read up on their purpose.",
                "author": "Far_Highlight_4334",
                "score": 1
            },
            {
                "body": "The conversion happens on a thank-you page. But I can’t fire it until the “Window Loaded” event because the Update configuration is so slow.",
                "author": "ratatat213",
                "score": 1
            },
            {
                "body": "I wasn’t able to select when the consent settings would trigger because that was a native configuration in BigCommerce. However, I was able to get this resolved! \n\nThanks. ",
                "author": "ratatat213",
                "score": 1
            },
            {
                "body": "You are confusing Consent Mode basic with advanced\n\nhttps://support.google.com/google-ads/answer/10000067?hl=en\n\n\nGoogle doesn't hold up events in v2.  It allows the page the load unobstructed while holding onto the conversion then allows that data to flow when it can",
                "author": "Far_Highlight_4334",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1710871156.0,
        "title": "Google Ads not recording enhanced conversions (GTM4WP plugin)",
        "author": "Alis86",
        "id": "1biqo30",
        "selftext": "Hi all, \n\nI installed months ago GTM4WP WordPress plugin to connect my website with woocommerce to google tag manager and manage my google analytics. I followed their instructions to create a container for my woocommerce e-commerce events (purchase, add to card, and so on). I also have google site kit plugin installed. \n\nThis part of the job worked properly and I can see every purchase and their value inside my google analytics website. It is also recording when a purchase comes from paid shopping or ads. \n\nThen  I connected Google Ads to my Google Analytics Tag and imported all the conversions and enhanced conversions and I can see purchase, add to cart events and  more that I created. BUT I'm missing something because Google Ads doesn't record any purchase, while Analytics does. \n\nI am missing something? I see Google Ads has a tag itself too. However I can't understand why Google lets me import Analytics events and enhanced conversions in Ads and then doesn't align the records between the platforms. I also tried waiting 24 hours after a purchase has been made and recorded, but nothing. \n\nAlso, I see and there's also an option to blend Analytics and Ads tags and it is making me more confused about how the right way to proceed. \n\nNow I'm thinking about removing all the GA4 enhanced conversion from Google Ads and setting up Ads tag in tag manager to work on its own. Can this be the right way to work?",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1biqo30/google_ads_not_recording_enhanced_conversions/",
        "num_comments": 21,
        "comments": [
            {
                "body": "You may have more than one GA tag on your site if you’re using GTM4WP and you’ve set up GA through sitekit. \nIf you’re using GTM, there’s almost no reason to use sitekit",
                "author": "HawkeyMan",
                "score": 5
            },
            {
                "body": "If you're spending and seeing conversions from Ads in Analytics, it means that there's something wrong with how conversions are set up in Ads.\n\nIt might just be that they're Secondary objectives and don't show in the main view, or something deeper. But it's almost impossible to say without taking a look.",
                "author": "zenith66",
                "score": 3
            },
            {
                "body": "How much are you spending on Google ads?",
                "author": "zenith66",
                "score": 2
            },
            {
                "body": "I’ve seen this too. GA4 generally attributes less to Ads but its a small difference. It lists them as Direct. \n\nHere’s a great way to test this. Add Google ads conversions directly through GTM but add them as secondary in G ads. That way the algorithm doesn’t get double data while you can see & compare the numbers daily to figure out if there’s a significant difference between the two.",
                "author": "KalaBaZey",
                "score": 2
            },
            {
                "body": "Firstly, you should delete the site kit form website. Then go to google tag manager, test a demo purchase on debug view. \n\nFor Google ads enhance conversion tracking you should use Google tags not GA4. Because you cannot send the information without Google ads tag. If you are importing gads conversion from GA4, you will miss the enhance conversion",
                "author": "sz-sourov",
                "score": 2
            },
            {
                "body": "The stats in sitekit are very limited so I’d recommend removing it and using GA directly.",
                "author": "HawkeyMan",
                "score": 2
            },
            {
                "body": "I’ve seen the same. A particular search campaign in Ads gets 3 conversions one day but in GA4 the same campaign is shown to have 4 conversions…\n\nMaybe GA4 counts each conversion while Ads only imports one conversion per click?\n\nBtw ever since I added direct GTM tracking I have concluded there’s very little difference between the two. Insignificant. So maybe its GA4 reports being messed up or something or maybe the time delay…",
                "author": "KalaBaZey",
                "score": 2
            },
            {
                "body": "GA4 and Ads count conversions differently. Ads when the click happened, GA4 when the conversion actually took place.",
                "author": "zenith66",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "This is also a doubt I had. I first installed sitekit to have analytics inside the dashboard. Then I added GTM4WP to get the conversions. I left sitekit only to check statistics from the dashboard.",
                "author": "Alis86",
                "score": 1
            },
            {
                "body": "It depends from the campaign. However my GA4 told me conversions come from Google shopping but Ads can’t see them.",
                "author": "Alis86",
                "score": 1
            },
            {
                "body": "From my GA4 reports I can see many conversions from paid shopping, so from Google Shopping. But they were not listed in my ADS Gshopping campaign. So Ads can’t check my revenue.",
                "author": "Alis86",
                "score": 1
            },
            {
                "body": "Thanks. I checked my settings right now: I imported enhanced conversions from GA4 fo GAds using google tag manager. However I'm just re-checking everything and repeating my steps from the beginning to see what I'm missing.",
                "author": "Alis86",
                "score": 1
            },
            {
                "body": "Great. If you need any tracking related help, feel free to reach out. Thanks!!!",
                "author": "sz-sourov",
                "score": 1
            },
            {
                "body": "I removed it yesterday!",
                "author": "Alis86",
                "score": 1
            },
            {
                "body": "Well, the problem is that my Ads purchase conversions are always zero, while in ga4 there’s a number",
                "author": "Alis86",
                "score": 1
            },
            {
                "body": "Somethings wrong with the set up. Also, check the traffic source of the conversions in GA4 by things like source/medium and also by campaign name to see if it really came from the ads campaign or google is just grouping its default channel there",
                "author": "KalaBaZey",
                "score": 1
            },
            {
                "body": "I think it is something deeper because they are not secondary. So I'm just checking again everything.",
                "author": "Alis86",
                "score": 1
            },
            {
                "body": "I'm going to check everything, thanks for the advice",
                "author": "Alis86",
                "score": 1
            },
            {
                "body": "Send me the website, I'll take a quick look and let you know if I see anything out of the ordinary.",
                "author": "Fine-Marketing-8134",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1735557074.0,
        "title": "page view event in hybrid SPA setup with advanced consent mode",
        "author": "Pretty-Appearance226",
        "id": "1hpl1du",
        "selftext": "Our e-commerce store has a hybrid SPA setup.  True page reloads happen at least when a user visits the website and on the thank you page when a purchase is made. We have advanced consent mode implemented and I’m trying to fix the page_view event for non-Google platforms when a user has not interacted with the cookie banner yet.\n\nIf a user has never been on our webshop then a cookie banner is shown and, since ads cookies aren’t accepted yet, the facebook pageview for example is blocked. If a user then accepts all cookies we would miss out on the first page view. So, I added the cookieScriptUpdate as a trigger too. Now, the users page view event would initially be blocked as it should. Then, after accepting cookies, it would fire the page view event. But this leads to a new problem, if a user had already consented, a page load would result in our custom page view and the cookieScriptUpdate event to fire a page view event, resulting in 2 page views being sent.\n\nI can fix a workaround with custom HTML and CJS triggers and variables but was wondering if someone has a ‘cleaner’ solution.\n\nExample 1:\nUser visits first time > \npage_visit is blocked because no consent is given > \nuser accepts cookie > \npage view is fired with cookieScriptUpdate event\n\nExample 2:\nUser visits and consent is accepted in a previous session > \npage view fires on page_vist > \npage view fires again on cookieScriptUpdate\n\nAlways triggering it on the update statement isn’t possible since it would only show once at multiple pages due to the SPA setup.\n\nThanks in advance!",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1hpl1du/page_view_event_in_hybrid_spa_setup_with_advanced/",
        "num_comments": 1,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1714500452.0,
        "title": "None of my conversion tags are firing",
        "author": "sab366",
        "id": "1cgzg8l",
        "selftext": "I just got Google Ads running after a brief period of no advertisements, and I noticed conversions weren’t being recorded. Ended up in Tag Assistant and found that every event tag from both platforms around form fills/conversions are not firing.\n\nThe majority of these tags’ triggers are ‘submit’ or landing on a specific thank you page after submitting a form. I thought I had a decent grasp on Tag Manager knowledge but this is throwing me for a loop. \n\n(Solved)\n\n",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1cgzg8l/none_of_my_conversion_tags_are_firing/",
        "num_comments": 17,
        "comments": [
            {
                "body": "Oh wow what a nightmare. Where do I even start with this one?\n\nI guess first of all I can tell you why most of your triggers are not working:\n\n1. The condition for a lot of them is that the Page URL is an exact match but your confirmation page always includes a unique query string for each individual submission.  Instead of using strict equality on the full URL, you need to base your trigger conditions on either pathname or use the contains or matches comparison.\n2.  I've inspected most of the forms that I've seen on the page and none of the form submission buttons actually match the classes that are required in your triggers.\n3.  Even if the form submission buttons did match the classes in the triggers, every single one of these forms is contained within an iframe, meaning you do not have access to any HTML or event within it.\n\n\n\nOther things I've noticed:\n\n* This site asks for the users consent and then proceeds to dump a shit ton of trackers no matter what the users choice was.\n* The GTM container is loaded from some kind of wrapper function that often takes a really long time to execute. At one point I had to wait around 15 seconds before the container was actually injected.\n* There are other google scripts and trackers from other vendors being loaded outside of the GTM container. There seems to be no control or structure regarding any of these trackers.\n\n  \nGood luck!",
                "author": "brannefterlasning",
                "score": 7
            },
            {
                "body": "Man you have like 18 tags firing on the initial page load.",
                "author": "KalaBaZey",
                "score": 2
            },
            {
                "body": "Since this seems to be a WordPress site I would bet you that most of these issues arise from certain plugins. If you have access to that then that's where I would start to clean up.\n\n\n\n\n\nRegarding the wrapper function around the GTM script, it's really an event listener that is waiting for a specific event to be dispatched before loading the container. Not sure what triggers the event, could be waiting for all other content to load or a user interaction. Can't unfortunately check now as I'm writing this from mobile.",
                "author": "brannefterlasning",
                "score": 2
            },
            {
                "body": "You still have tons of Universal Analytics tags which has been almost sunset by Google now. \n\nAlso I found your problem with Google ads tag not firing. Your trigger is configured to fire on page URL equals /thank-you-demo but your actual thank you page has some extra sumbission ID after thank-you-demo so equals trigger won’t work. Instead use “contains” that will make it fire. \n\nAlso you should delete the links as they reveal all your internal tags & stuff.",
                "author": "KalaBaZey",
                "score": 2
            },
            {
                "body": "I just checked and it did fire for me. You should recheck. \n\nI’d rather delete them. But your website is quite a clusterfuck so I’d recommend documenting all these steps so that you know what you did & why. Also, take few steps per Version so that you can revert to the older version if something breaks.",
                "author": "KalaBaZey",
                "score": 2
            },
            {
                "body": "Have you reloaded the thank you page?",
                "author": "KalaBaZey",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "This is a High Level form, no thank you page triggering will work on that. you need to create a listener code to track this types of hs form",
                "author": "motiur_ak07",
                "score": 1
            },
            {
                "body": "Looks like you have Hubspot forms embedded on your website. They're actually not that difficult to track and I think you have the listener code added already. \n\n  \nFirst thing I would do is go to Variables, and in the Built In Variables section, click on Configure and enable anything that you think will be useful for you. I typically enable all of them, not sure if that's against any best practice but it has always helped me especially when I'm debugging a website that i'm unfamiliar with. I guarantee there's some valuable information that has been hidden in your debug sessions so far because they've been disabled.    \n\n\nNext, as I said initially, the Schedule Consultation form is a Hubspot form. I sent a test lead, then clicked on the \"Click\" event on the left side of GTM preview (when you enable all the built-in variables, you'll see form submit variable here as well), then I looked in the Variables tab at the **Click Text** variable. The 'value' looks like a random string of numbers and letters.. but there's at least 1 important piece of info that you'll eventually report on via a dataLayer variable for: form ID.  The other obvious tell that it's a Hubspot form and someone called it out in their comment.. Hubspot forms tend to append the ?submissionguid= at the end of the thank-you page URL. The trigger you'll need likely hasn't been created yet. \n\nI've got a link to a blog that outlines what steps you'll have to take. It's pretty straight forward assuming you've got access to the Hubspot portal where you'll grab your tracking code. After that, it's some straightforward Tag Manager work and you're set.  Also, whoever managed this Container prior to you, yikes. But that's not your fault, this is an easy clean-up. \n\nIf you need help reply on here and I'll follow up. or DM me for the blog/instructions.",
                "author": "blaff3687",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Thank you for telling me this! I inherited these accounts after my boss left. I’ve been juggling a lot since then, and thought things were fine because GA4 was showing data regularly. Apparently I’ve got my work cut out for me.\n\nRegarding the GTM wrapper function- is that something in the tags that I can just go in and delete and rest like configuration tags, or is there a separate process for replacing the function with something else?",
                "author": "sab366",
                "score": 1
            },
            {
                "body": "Inherited the accounts. I’ve done a little bit in analytics and tag manager, but was always afraid to remove an older tag and break something on the website.",
                "author": "sab366",
                "score": 1
            },
            {
                "body": "I changed the trigger from equals to contains “thank-you”, but it’s still not firing on Tag Assistant. Are changes instantaneous?\n\nI paused a ton of outdated tags, but will that have the same effect as deleting them entirely?",
                "author": "sab366",
                "score": 1
            },
            {
                "body": "That’s weird. I’ve reloaded the debugging a few times since then and it’s still showing under Tags Not Fired. I may just have to wait and see if it tracks after the next conversion.",
                "author": "sab366",
                "score": 1
            },
            {
                "body": "I have. I’m seeing hits are being sent on the Google Ads side, but on the Tag Manager side, still nothing.",
                "author": "sab366",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1731421361.0,
        "title": "Has consent banner implemented in GTM significantly increased the bounce rate of your landing page?",
        "author": "trucker-123",
        "id": "1gpltj5",
        "selftext": "Hi. To make a long story short, I tried to implement a Cookie Script consent banner in GTM (Google Tag Manager) that only appears for customers in the UK and EU. I am finding out that this doesn't work well, because many conversions outside the UK and EU are not being counted in Google Ads (the technical reason is because \"Default Consent (Global)\" being set to \"Denied\" for my Cookie Script GTM tag settings and Google Ads support says it must be set to \"Denied\" after I talked with them).\n\nMy original plan was to only show the consent banner in the UK and EU (and/or other regions where it's mandatory).  But because some conversions outside the UK and EU are not being counted in Google Ads, the only way to address this situation is to show the Cookie Script consent banner to all my customers around the world, and the consent banner also probably needs to cover most of the landing page, to force an \"Accept\" all cookies or \"Reject\" from the customer (hopefully I can get most customers to \"Accept\" the cookies).\n\nNow my questions is, after you put up a consent banner that took up most of the landing page to force an \"Accept\" all cookies or \"Reject\" it from the customers, how was your bounce rate on your landing page? Did the bounce rate on your landing page increase significantly after you put up a consent banner ? Or did the bounce rate only increase slightly and the consent banner didn't stop many customers from browsing your website?",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1gpltj5/has_consent_banner_implemented_in_gtm/",
        "num_comments": 3,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "You do not have to show a banner in many jurisdictions and you can safely set the default to \"granted\" also in many jurisdictions. Google are not exactly consistent in their knowledge or advice on this and also asking them this type of question is borderline asking them for legal advice, which they are not able to provide.\n\nHowever, to answer your question, a consent banner *will* cause some users to bounce. You may never know exactly how many because bounced users will not have given consent for their data to be used in your reports, so GA4 will either receive no data about them or minimal, redacted data. At best, Google Consent Mode might be able to model that data into your reports or you could make some educated guesses based on your BigQuery data (if Google Consent Mode is active).",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "> Google are not exactly consistent in their knowledge or advice on this and also asking them this type of question is borderline asking them for legal advice, which they are not able to provide.\n\nI am worried that Google has some mechanism to detect that the cookies are being set to \"Granted\" for a country/region outside of the UK/EU, especially with changing laws in every country around the world on cookies, and if they detect one infraction on my account down the road, my account could be suspended. \n\n> However, to answer your question, a consent banner will cause some users to bounce. You may never know exactly how many because bounced users will not have given consent for their data to be used in your reports, so GA4 will either receive no data about them or minimal, redacted data. At best, Google Consent Mode might be able to model that data into your reports or you could make some educated guesses based on your BigQuery data (if Google Consent Mode is active).\n\nThanks!   I would imagine that UK & EU users are used to seeing consent banners now so their bounce rate would be low.   But I am not sure if other users around the world, outside of the UK & EU, are used to consent banners now, so their bounce rates could be much higher when they see a consent banner.",
                "author": "trucker-123",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1718701060.0,
        "title": "Ecommerce tracking with consent mode v2",
        "author": "Cognitive_catfish",
        "id": "1dim1zu",
        "selftext": "Hello Tag Manager genuises\n\nI recently purchased Complianz and followed their guide to setup Consent mode V2. My earlier tag configuration with consent mode V1 allowed me to create classic ecommerce tracking on my site using a costum event with regex matching like so:\n\nview\\_item|view\\_item\\_list|select\\_item|add\\_to\\_cart|remove\\_from\\_cart|view\\_cart|begin\\_checkout|add\\_payment\\_info|add\\_shipping\\_info|purchase\n\n  \nComplianz's own support team claim, that they currently don't support ecommerce tracking with consent mode V2. But I mean ... Ecommerce tracking is pretty essential. \n\n  \nTwo questions here:\n\n1. Do I even need a custom ecommerce tag to track purchases with consent mode V2?\n\n2. If yes, how can I configure it?",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1dim1zu/ecommerce_tracking_with_consent_mode_v2/",
        "num_comments": 12,
        "comments": [
            {
                "body": "If complianz is set up right, it will just work. All google tags will obey the consent and update according if it's later grant.",
                "author": "benl5442",
                "score": 2
            },
            {
                "body": "There shouldn't be, but things happen and half the game with implementing good data collection in GTM is guarding against the unknown.\n\n`^(view_item|view_item_list|select_item|add_to_cart|remove_from_cart|view_cart|begin_checkout|add_payment_info|add_shipping_info|purchase)$`\n\n... is the solution because it restricts matches strictly to e.g. \"view\\_item\" and will not match \"view\\_items\"",
                "author": "StefanAtWork",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Related: that’s not entirely correct regex. It’s not super likely it will cause you a problem, but bear in mind that the regex you’ve shown will match event names like “deselect_item” and “not_a_purchase”",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "You need to use gtm4wp with e-commerce option together with complianz. Use gtm4wp only for datalayer and not to inject GTM id and complianz to inject GTM id with consent mode signals.\n1/ in gtm4wp Settings -> Google Tag Manager -> General, change the Container code ON/OFF setting to Off; as Complianz will now place the gtm script.\n2/ Complianz -> Integrations -> Plugins disable gtm4wp\n3/ Complianz Consent -> Statistics Configuration. You can now enable Consent Mode if you have Premium plan",
                "author": "Fun_Ad_2011",
                "score": 1
            },
            {
                "body": "Hm why would there be a not_a_purchase event?\n\nAnd also, how would you rewrite that regex to make sure it captures those exact events OP is looking for?",
                "author": "Buqly",
                "score": 1
            },
            {
                "body": "Working for me ! \n\nComplianz says that connecting the GTM through complianz is enough but if you want the datalayer then You have to install the GTm4WP an turn on the datalayer and turn off the container ( so complianz can connect to the gtm without duplicated code )",
                "author": "walidono",
                "score": 1
            },
            {
                "body": "Gotcha, thanks!",
                "author": "Buqly",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1716244029.0,
        "title": "How can I send events from a server app to GTM server container?",
        "author": "Kutsan",
        "id": "1cwscg6",
        "selftext": "I'm sorry if this has been asked before, but I couldn't find any resources on this topic. How can I send events from my server application to my server container?\n\nI'm trying to use the [TikTok Events API](https://tagmanager.google.com/gallery/#/owners/stape-io/templates/tiktok-tag) to send purchase (`CompletePayment`) events to TikTok. These purchase events are generated on the server using a third-party service which is Appsflyer (I'm receiving them via a webhook from Appsflyer), so I can't use client apps to send events to the web container and then to the server container.\n\nI found a relevant section [here](https://developers.google.com/tag-platform/tag-manager/server-side/send-data?option=GTM#server-to-server_apps), but it lacks detailed explanations and examples. I'm also not sure if I should be using the measurement protocol at all.\n\nFor context, I'm a developer working with Node.js. I'm still new to server-side tagging and would appreciate any guidance or resources you can provide. Thanks in advance!",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1cwscg6/how_can_i_send_events_from_a_server_app_to_gtm/",
        "num_comments": 12,
        "comments": [
            {
                "body": "I think this is a great plan, well done.\n\nThe only advice I give you is that in the future, after you run some campaigns and you learn how they perform you may want to pass additional datapoints like \"\\_ttp\" cookie since the more data you send to the ads platform the higher are the odds you get better results. I'm not experienced with TikTok API, but they also may have something Facebook call Advanced Matching or Google Ads call Enhanced Conversions where you can send hashed email address of the user to optimise further.\n\nGood luck",
                "author": "small_foot_2490",
                "score": 3
            },
            {
                "body": "Definitely use Measurement Protocol. GTM server container clients are ways to accept traffic/events into the server container (like API endpoints). GA4 client would be used to accept events sent from the browser and Measurement Protocol is meant for the server-to-server communication.\n\nI would recommend following the guide you linked, start filling in the query parameters and work in GTM debugger session to see what is being populated in the container. Then pipe it into TikTok API.\n\nThis is for tracking Paid Ads performance? I guess the biggest challange is how would you tie the server-side event with some attribution/source of traffic data. Do you have an idea how to address that?",
                "author": "small_foot_2490",
                "score": 2
            },
            {
                "body": "Hi, we are going to use the same approach but for Facebook web2app flow and use AppsFlyer Push API further to send events to sGTM and with Conversions API to Facebook then. This definitely should work for `install` event in AppsFlyer.   \nBut what I am thinking and please help if you have any updates. Whether it's possible to pass the same way the subsequent in-app events, is it even possible to attach somehow fbc and fbp cookies as AppsFlyer event parameters for Facebook to match those conversions when running Ads further?  \nOr is AppsFlyer so smart to record the fbc/fbp values from the Onelink Smart script after install and store them for attribution on all subsequent events on the mobile device further?  \nhow are you going to preserve for example `ttclid` for the `purchase` event after install?",
                "author": "WorldlyOpposite2842",
                "score": 2
            },
            {
                "body": "Thank you, this is very helpful. Found this `original_url` in the field dictionary.  \n  \nIf I understand you correctly, this field is responsible for overall attribution and is retained across all subsequent AppsFlyer events after `install` ? and it does not matter whenever subsequent events are triggered: within the session when the `install` was recorded or within other app sessions?",
                "author": "WorldlyOpposite2842",
                "score": 2
            },
            {
                "body": "You're welcome.\n\n> If I understand you correctly, this field is responsible for overall attribution and is retained across all subsequent AppsFlyer events after `install`?\n\nYes, that's correct. If your user arrives via your generated URL, AppsFlyer will provide you this link back to you. I'm monitoring purchase events on AppsFlyer, and it still retains the `original_url` field.\n\n> and it does not matter whenever subsequent events are triggered: within the session when the install was recorded or within other app sessions?\n\nYes, I think that's the case. As I mentioned, my purchase events could be triggered days after the user begins using my app, yet I continue to receive the `original_url` with attached `fbc` cookies, all thanks to AppsFlyer.",
                "author": "Kutsan",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "This was very helpful, thank you! I'll follow the guide as you suggested.\n\n>This is for tracking Paid Ads performance? I guess the biggest challange is how would you tie the server-side event with some attribution/source of traffic data. Do you have an idea how to address that?\n\nYes, that's correct. I'm still new to this whole topic, but here's what I'm thinking. I'm using a web-to-app page campaign strategy for mobile app ads. The ads are web pages, and I'm leveraging the Appsflyer OneLink Smart Script feature to generate app store links on those pages. I can add additional query parameters to the links generated by the Appsflyer OneLink feature and access them later via their webhook events. Specifically, I'm attaching the `ttclid` cookie value when a user clicks the links. With the Appsflyer SDK installed in the mobile apps, I can retrieve this `ttclid` value in the Appsflyer webhook (though it's also accessible in the mobile apps, but I don't need it for this scenario). Additionally, the RevenueCat integration provides purchase events in Appsflyer. My plan is to listen for Appsflyer `install` and `purchase` events and send those events to my sGTM container with `ttclid` in them, which will then forward them to the TikTok Events API. What do you think about this approach?",
                "author": "Kutsan",
                "score": 1
            },
            {
                "body": "I started using [https://www.getmonita.io/](https://www.getmonita.io/) makes sure these tags are firing correctly and it let's you setup custom alerts to any conversion events. Pretty cool it sends you an email as soon as a real-time pixel sends bad data (user, contact etc.), and then displays all the tag alerts/cookies/libraries loaded in a live dashboard streaming from bigquery. They have a free subscription allows you to implement GTM Monitoring + Auditing would def recommend giving it a go has saved me hoursss!!!",
                "author": "WorthTraffic4929",
                "score": 1
            },
            {
                "body": "I wasn't sure if I was on the right track, but getting your approval reassured me a bit. Thank you so much.\n\nAlso, I'll definitely look into using the `ttp` cookie and advanced matching techniques. Thanks again!",
                "author": "Kutsan",
                "score": 1
            },
            {
                "body": "In AppsFlyer Push API, you can retrieve the `original_url` from the webhook response. AppsFlyer retains this URL across your user journey. On your website, you can use JavaScript to fetch the `fbc` and `fbp` cookies and append them to the URL generated by the AppsFlyer Smart Script as a query string. Then, when monitoring the AppsFlyer Push API, you can extract this URL from the original_url field and access the `fbc` and `fbp` values. That's what I do right now.\n\nAdditionally, I have a Node.js application set up to monitor AppsFlyer events. This app captures events from AppsFlyer and forwards them to my sGTM container as custom events. This enables me to use sGTM features to further send events to TikTok and Facebook.\n\nI hope I understand your question correctly and this helps.",
                "author": "Kutsan",
                "score": 1
            },
            {
                "body": "Looks interesting, I'll look into it. Thanks for sharing!",
                "author": "Kutsan",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1728419978.0,
        "title": "Help with GTM configuration to accept platform events",
        "author": "Aimou23",
        "id": "1fza00g",
        "selftext": "Hey everyone,\n\nI'm reaching out because I've integrated GTM into a plateform called Givecloud, but I'm not receiving any events in GA4. I’ve followed the setup instructions, but now I’m stuck at the troubleshooting stage and could use some guidance. Here’s what the platform says:\n\n[Conversion Troubleshooting](https://help.givecloud.com/en/articles/1541670-google-tracking)  \nHaving a difficult time tracking your conversion event? Try:\n\n* Make sure you aren’t using any of Google Tag Manager’s custom event tracking as these could override Givecloud's event tracking.\n* Make sure you have Google Tag Manager configured to accept all events. Or, if you prefer to limit the events being received, ensure your Google Tag Manager account is configured to accept the `contribution_paid` event.\n* Make sure your Google Tag Manager recognizes `contribution_paid` as your conversion event.\n\nMy main questions are:\n\n1. **What does it mean to have GTM \"configured to accept all events\"?** I usually create custom tags and triggers for my site, but I believe from this message that custom event tracking might override or interfere with Givecloud's event tracking. How do I make sure GTM is set up to \"accept\" the events Givecloud sends?\n2. **If I limit the events, how do I specifically allow the** `contribution_paid` **event** without creating custom triggers that could cause conflicts?\n\nI’m still pretty new to GTM and don’t understand eveything yet, so any guidance would be much appreciated. Thanks!",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1fza00g/help_with_gtm_configuration_to_accept_platform/",
        "num_comments": 4,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "The documentation is confusing, but what they mean is to set up a custom trigger for a Custom Event with the name \"contribution_paid\", which you should be seeing in Preview Mode. You'd then want to set up a GA4 even tag for \"purchase\". I take it you've already made sure your Google Tag / pageview tag is firing on Givecloud as well?",
                "author": "Taca-F",
                "score": 1
            },
            {
                "body": "Thank you so much for your response, I really appreciate it! I’ll set up an event then, because the page view does fire :)",
                "author": "Beginning_Rain8294",
                "score": 1
            },
            {
                "body": "No problem, if you need any more help PM me",
                "author": "Taca-F",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1714615178.0,
        "title": "Simo Ahavo but for Adobe ",
        "author": "xxlizardking-kongxx",
        "id": "1ci3xhr",
        "selftext": "I know this is for subs for gtm but Who is the equivalent to Simo Ahavo for Adobe? Also any good Adobe resources recommendations\n\nEdit: looking for Adobe target, experience platform tags or dynamic tag management",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1ci3xhr/simo_ahavo_but_for_adobe/",
        "num_comments": 14,
        "comments": [
            {
                "body": "As a Simo fan boy.. this question made me laugh. That’s all I have to contribute, sirry",
                "author": "found_it_online_01",
                "score": 5
            },
            {
                "body": "[https://jimalytics.com/](https://jimalytics.com/) :)",
                "author": "Traditional_Cat808",
                "score": 2
            },
            {
                "body": "Of course but all of the Adobe analytics or anything related to it are either non existent or don’t have a strong community. I was reaching out here because hopefully people from here have worked on Adobe as well, it’s in the same universe.",
                "author": "xxlizardking-kongxx",
                "score": 2
            },
            {
                "body": "Adobe - \"either non existent or don’t have a strong community\" - truest words ever spoken",
                "author": "Humble_Elderberry_25",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Adobe is a company. Which one of their products are you interested in?",
                "author": "Drendo",
                "score": 1
            },
            {
                "body": "Asking for Adobe Analytics?",
                "author": "analyst_bappy",
                "score": 1
            },
            {
                "body": "It might be more productive to seek Adobe expertise on an Adobe sub reddit.",
                "author": "Humble_Elderberry_25",
                "score": 1
            },
            {
                "body": "Try measure slack",
                "author": "brekelbende",
                "score": 1
            },
            {
                "body": "Adam Greco",
                "author": "DangerousBook794",
                "score": 1
            },
            {
                "body": "Adobe analytics, tag, dynamic tag management",
                "author": "xxlizardking-kongxx",
                "score": 1
            },
            {
                "body": "Yes Adobe analytics, Adobe target, dynamic tag management",
                "author": "xxlizardking-kongxx",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1728289563.0,
        "title": "Measurement protocol hits not visible in serverside GTM",
        "author": "marcosittner",
        "id": "1fy2rwg",
        "selftext": "Hi i am trying to send events via measurement protocoll from a php script to my serverside-GTM.\n\nI have the problem that the events dont arrive at the MP-Client in GTM.  \nWhen i just open [http://gtm.myserver.de/mp-client](http://gtm.myserver.de/mp-client) (client listening on /mp-client) in my browser i get error 400:\"must be a post-request\" and i see the same error inside GTM preview mode so the hit arrives at the client.\n\nBut hits sent from my php script to the same endpoint get the answer 200:\"null\" and are not shown in GTM preview mode as if they wouldnt even arrive at the client.\n\nDo you have an idea what i am doing wrong inside my request?\n\nThats my php-code:\n\n  \n\n\n$ch = curl\\_init(\"http://gtm.myserver.de/mp-client\");\n\ncurl\\_setopt($ch, CURLOPT\\_RETURNTRANSFER, true);\n\ncurl\\_setopt($ch, CURLOPT\\_HTTPHEADER, \\[\n\n'Content-Type: application/json',\n\n'method' => 'POST',\n\n'content' => $payload\n\n\\]);\n\ncurl\\_setopt($ch, CURLOPT\\_POST, true);\n\ncurl\\_setopt($ch, CURLOPT\\_POSTFIELDS, json\\_encode($payload));\n\n$response = curl\\_exec($ch);\n\n$http\\_code = curl\\_getinfo($ch, CURLINFO\\_HTTP\\_CODE);\n\nif ($response === false) {\n\n$error = curl\\_error($ch);\n\ncurl\\_close($ch);\n\nhttp\\_response\\_code(500);\n\necho json\\_encode(\\[\n\n'status' => 'Error sending to SGTM',\n\n'error\\_details' => $error\n\n\\]);\n\nexit();\n\n}\n\ncurl\\_close($ch);\n\n  \nThe $payload is an array containing every attribute i saw in the google documentation. (v, tid, cid, t, ec, ea, el, ev, events)",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1fy2rwg/measurement_protocol_hits_not_visible_in/",
        "num_comments": 4,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": ">The $payload is an array\n\n\nThe payload is supposed to be a json object not an array.\n\n\n\n\n>every attribute i saw in the google documentation. (v, tid, cid, t, ec, ea, el, ev, events)\n\n\nNone of those shortened properties are listed in the official docs. Which page are you reading?\n\n\n\n\nHere is the official reference:\nhttps://developers.google.com/analytics/devguides/collection/protocol/ga4/reference?client_type=gtag",
                "author": "brannefterlasning",
                "score": 1
            },
            {
                "body": "Thanks for your help.\n\nI was reading this page (the last section):  \n[https://developers.google.com/tag-platform/tag-manager/server-side/send-data?hl=en&option=GTM](https://developers.google.com/tag-platform/tag-manager/server-side/send-data?hl=en&option=GTM)\n\n  \nThere i see those properties. I also saw the page you sent but were confused because it looks different.  \nI was assuming i was reading the documentation for sending with measurement protocol to GTM and the other one was only for sending to GA4 directly.",
                "author": "marcosittner",
                "score": 1
            },
            {
                "body": "Yeah I understand that it is confusing. Google officially provides documentation only for Measurement Protocol hits sent using gtag.js, GTM or Firebase. All three do processing on the payload to shorten the request URL. You can mirror the schema manually but the issue is that Google does not provide any type of payload-to-query translation table.\n\nThere are external sources that can help out with this, for example: [https://www.thyngster.com/ga4-measurement-protocol-cheatsheet/](https://www.thyngster.com/ga4-measurement-protocol-cheatsheet/)\n\nBut, since POST requests with JSON payloads are supposedly supported, you should be able to follow the [gtag.js schema](https://developers.google.com/analytics/devguides/collection/protocol/ga4/reference?client_type=gtag) to create your payload and send it directly to you server container without additional processing.",
                "author": "brannefterlasning",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1721742538.0,
        "title": "Google Tag Manager Mentor",
        "author": "Federal-Dot4580",
        "id": "1ea8ao2",
        "selftext": "Hi guys,\n\nI was wondering if someone would be interested helping me expand on the current knowlege about GTM.\n\nA bit of context: I can set up GA4 base codes on websites trough GTM and directly. \n\nI create google ads facebook Linkedin and bing conversions. \n\nI can create shopify conversions as well as woocommerece and presta shop conv. \n\nI implement consent mode v2 and can find my way around most platforms when I need to.\n\nNow for the important part I know that the GTM is much more than this and that it has a lot more capabilities so it would be cool to have someone reccomend how to expand my knowlege in GTM.",
        "score": 5,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1ea8ao2/google_tag_manager_mentor/",
        "num_comments": 8,
        "comments": [
            {
                "body": "Follow Analytics Mania and Measure School on YouTube. They have great how-to videos on \"intermediate\" lessons.",
                "author": "Direct-Foundation909",
                "score": 10
            },
            {
                "body": "Then after this go in the lands of simo ahava for more complex stuff.",
                "author": "dowmi12",
                "score": 6
            },
            {
                "body": "Or just to learn stuff you'll never use lol. No idea who is using batch_order_id and batch_page_id in bigquery and why but god bless you guys.",
                "author": "TheHobbyist_",
                "score": 3
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "One thing to know about GTM is it can only track conversion with page loads, so if it’s a SPA then it needs script inserted to create history source for it to work.",
                "author": "JoanLockwood",
                "score": 1
            },
            {
                "body": ">Or just to learn stuff you'll never use lol.\n\nThat's the entire education system, mate!",
                "author": "Direct-Foundation909",
                "score": 1
            },
            {
                "body": "The difference between working with a client with $100k turnover versus one that spends that much each month on Facebook ads.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "I can teach you : \n\n-GTM installation on other CMS \n\n-useful but less known triggers \n\n -must know variables and what they are for\n\n- how to install and troubleshoot a GA4 Ecommerce with the Datalayer\n\n-how to read and use the Datalayer for conversions\n\n-how to setup classic and dynamic remarketing with GTM\n\n-implementing enhanced conversions tracking\n\n  \nI can make you a quote based on what you need, feel free to DM for more informations",
                "author": "Tricarrier",
                "score": 0
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1725997438.0,
        "title": "Google ads registers purchases that I don't have ",
        "author": "TheSuyyen",
        "id": "1fdqxlf",
        "selftext": " I made search campaigns on Google ads for my landing page. I made the conversion to get purchases on my thank you page . I installed the tag and conversion linking with tag manager and verified it correctly. \n\nFor some reason today Google ads shows me 11 purchases, but i don't have any in my system. \n\nIs there a way to see what was marked as a purchase? How or where on the platform can this be corrected?",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1fdqxlf/google_ads_registers_purchases_that_i_dont_have/",
        "num_comments": 5,
        "comments": [
            {
                "body": "I think your tracking isn't working properly. Also, when you use page links as triggers, a page refresh might be counted as a purchase. Try fixing this issue and check the pages where purchases have been counted by clicking on that conversion action and selecting web pages. If you need help with fixing or setting up conversion tracking with enhanced conversions, which can help reduce costs and improve tracking accuracy, feel free to reach out.",
                "author": "MarketerErfan_",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "there's something wrong with your conversion tracking. I can help, feel free to DM me",
                "author": "procstinator",
                "score": 1
            },
            {
                "body": "The problem is likely to be in an incorrect tag configuration or duplicate tracking in Google Tag Manager. To review what was marked as a purchase, you can check the events in the Conversion Report within Google Ads and also in Google Tag Manager using the preview to make sure the purchase tag is triggering correctly. Check to see if it fires more than once or on incorrect pages. To correct this, make sure the tag is only set up on the thank you page and is only triggered after an actual purchase.",
                "author": "SunActual398",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1725459759.0,
        "title": "Google Tag Manager Help",
        "author": "Hutchieeeeee",
        "id": "1f8ulwq",
        "selftext": "Hellooo everyone, \n\nHoping someone can help, all the posts seem to be complicated issues that go over my head. I am hoping my issue is just a lack of basic understanding of how this all works. I decided to DIY Google ads for my business. I have used google tag manager to set everything up. However, it didn't work at first and my conversions were not going through to google ads. After hours of messing about, I have made this mess.... \n\n--------------------------------------------------------------------------------------------------------------------\n\nI cant post photos... so no clue how to show this but. i have made a Tag with the below triggers.\n\n**Tag type**: Google Ads Conversion Tracking - Google ads\n\n**Triggering**\n\nAll Pages : *Page view*\n\nConsent Intialization - All Pages - *Consent Initialisation*\n\nInitialization - All Pages - *Initialization*\n\nPage Url Equals Booking Complete - *Page View*\n\nTag - *Page view* \n\n---------------------------------------------------------------------------------------------------------------------\n\nI have no clue what I actually need in this mess... but once i had the above it started to work. I assume a lot of this is doubled up and i dont actually need them all. The most important is the Page Url equals booking complete as that tracks when someone sucessfully books on. \n\nIt also tells me that my conversion linker tag is missing in the container? But pages are triggering otherwise and heading over to google.\n\nAny advice would be much appreciated. ",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1f8ulwq/google_tag_manager_help/",
        "num_comments": 5,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Set up the Conversion Linker; it's important for Google Ads. Click on the warning to create the Conversion Linker with the configured tag and trigger. Then, create the tag and remove any unnecessary tags and triggers to avoid confusion. If you need assistance with advanced tracking, such as enhanced conversion tracking or any other tracking needs, feel free to reach out. I can help with that.",
                "author": "MarketerErfan_",
                "score": 1
            },
            {
                "body": "To setup conversion tracking in Google Ads create a conversion action using manual method copy, you will be end up having three options to setup conversion, choose google tag manager as an option and copy the conversion id and conversion label. Now create a tag in GTM add tag type as google ads conversion tracking now paste the conversion id and conversion label in Google Tag (Google Ads Conversion Tracking ) and save the tag, now add the conversion linker tag. Now add trigger where trigger type will be page view and page url will be your booking page URL. Now test using preview in GTM if your tag is firing.",
                "author": "sandip_routh",
                "score": 1
            },
            {
                "body": "If you share the site, we can check your GTM setup with tagstack.io",
                "author": "RCoffee_mug",
                "score": -1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1727416407.0,
        "title": "GTM and Shopify Headless",
        "author": "philonik",
        "id": "1fqgxns",
        "selftext": "So here's my situation, I am running an eCom store using Webflow & Shopify Headless to manage the checkout. I have successfully installed GTM on the Webflow side and that's sending the events to GA4. I can't get it to send over the purchase event to GA4 though, it's sent over the begin\\_checkout though.\n\nAttached a copy of my code I have in my shopify checkout page...  \n  \n `// GTM for Shopify Custom Pixel`\n\n`window.dataLayer = window.dataLayer || [];`\n\n`function gtag(){dataLayer.push(arguments);}`\n\n\n\n`(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':`\n\n`new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],`\n\n`j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=`\n\n`'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);`\n\n`})(window,document,'script','dataLayer', 'GTM-T2KW982S');`\n\n\n\n`//Google Consent Mode v2`\n\n`gtag('consent', 'update', {`\n\n  `'ad_storage': 'granted',`\n\n  `'analytics_storage': 'granted',`\n\n  `'ad_user_data': 'granted',`\n\n  `'ad_personalization': 'granted',`\n\n`});`\n\n\n\n`analytics.subscribe(\"checkout_completed\", (event) => {`\n\n  `dataLayer.push({ ecommerce: null });`\n\n  `const items =` [`event.data?.checkout?.lineItems?.map((item)`](http://event.data?.checkout?.lineItems?.map((item)) `=> {`\n\n`return {`\n\n`item_id:` [`item.variant.product.id`](http://item.variant.product.id)`,`\n\n`item_name: item.variant.product.title,`\n\n`price: item.variant.price.amount,`\n\n`quantity: item.quantity`\n\n`}`\n\n  `});`\n\n  `dataLayer.push({`\n\n`event: \"purchase\",`\n\n`url: event.context.document.location.href,`\n\n`ecommerce: {`\n\n`currency:` [`event.data?.checkout?.currencyCode`](http://event.data?.checkout?.currencyCode)`,`\n\n`value:` [`event.data?.checkout?.subtotalPrice?.amount`](http://event.data?.checkout?.subtotalPrice?.amount)`,`\n\n`transaction_id:` [`event.data?.checkout?.order?.id`](http://event.data?.checkout?.order?.id)`,`\n\n`coupon:` [`event.data?.checkout?.discountAllocations`](http://event.data?.checkout?.discountAllocations)`,`\n\n`shipping:` [`event.data?.checkout?.shippingLine?.price?.amount`](http://event.data?.checkout?.shippingLine?.price?.amount)`,`\n\n`tax:` [`event.data?.checkout?.totalTax?.amount`](http://event.data?.checkout?.totalTax?.amount)`,`\n\n`items: items`\n\n`}`\n\n  `});`\n\n`});`\n\n\n\n`analytics.subscribe(\"payment_info_submitted\", (event) => {`\n\n  `dataLayer.push({ ecommerce: null });`\n\n  `const items =` [`event.data?.checkout?.lineItems?.map((item)`](http://event.data?.checkout?.lineItems?.map((item)) `=> {`\n\n`return {`\n\n`item_id:` [`item.variant.product.id`](http://item.variant.product.id)`,`\n\n`item_name: item.variant.product.title,`\n\n`price: item.variant.price.amount,`\n\n`quantity: item.quantity`\n\n`}`\n\n  `});`\n\n  `dataLayer.push({`\n\n`event: \"add_payment_info\",`\n\n`url: event.context.document.location.href,`\n\n`ecommerce: {`\n\n`currency:` [`event.data?.checkout?.currencyCode`](http://event.data?.checkout?.currencyCode)`,`\n\n`value:` [`event.data?.checkout?.subtotalPrice?.amount`](http://event.data?.checkout?.subtotalPrice?.amount)`,`\n\n`items: items`\n\n`}`\n\n  `});`\n\n`});`\n\n\n\n`analytics.subscribe(\"checkout_shipping_info_submitted\", (event) => {`\n\n  `dataLayer.push({ ecommerce: null });`\n\n  `const items =` [`event.data?.checkout?.lineItems?.map((item)`](http://event.data?.checkout?.lineItems?.map((item)) `=> {`\n\n`return {`\n\n`item_id:` [`item.variant.product.id`](http://item.variant.product.id)`,`\n\n`item_name: item.variant.product.title,`\n\n`price: item.variant.price.amount,`\n\n`quantity: item.quantity`\n\n`}`\n\n  `});`\n\n  `dataLayer.push({`\n\n`event: \"add_shipping_info\",`\n\n`url: event.context.document.location.href,`\n\n`ecommerce: {`\n\n`currency:` [`event.data?.checkout?.currencyCode`](http://event.data?.checkout?.currencyCode)`,`\n\n`value:` [`event.data?.checkout?.subtotalPrice?.amount`](http://event.data?.checkout?.subtotalPrice?.amount)`,`\n\n`items: items`\n\n`}`\n\n  `});`\n\n`});`\n\n\n\n`analytics.subscribe(\"checkout_started\", (event) => {`\n\n  `dataLayer.push({ ecommerce: null });`\n\n  `const items =` [`event.data?.checkout?.lineItems?.map((item)`](http://event.data?.checkout?.lineItems?.map((item)) `=> {`\n\n`return {`\n\n`item_id:` [`item.variant.product.id`](http://item.variant.product.id)`,`\n\n`item_name: item.variant.product.title,`\n\n`price: item.variant.price.amount,`\n\n`quantity: item.quantity`\n\n`}`\n\n  `});`\n\n  `dataLayer.push({`\n\n`event: \"begin_checkout\",`\n\n`url: event.context.document.location.href,`\n\n`ecommerce: {`\n\n`currency:` [`event.data?.checkout?.currencyCode`](http://event.data?.checkout?.currencyCode)`,`\n\n`value:` [`event.data?.checkout?.subtotalPrice?.amount`](http://event.data?.checkout?.subtotalPrice?.amount)`,`\n\n`items: items`\n\n`}`\n\n  `});`\n\n`});`\n\n\n\n`analytics.subscribe(\"cart_viewed\", (event) => {`\n\n  `dataLayer.push({ ecommerce: null });`\n\n  `const items =` [`event.data?.cart?.lines?.map((item)`](http://event.data?.cart?.lines?.map((item)) `=> {`\n\n`return {`\n\n`item_id:` [`item.merchandise.product.id`](http://item.merchandise.product.id)`,`\n\n`item_name: item.merchandise.product.title,`\n\n`price: item.merchandise.price.amount,`\n\n`quantity: item.quantity`\n\n`}`\n\n  `});`\n\n  `dataLayer.push({`\n\n`event: \"view_cart\",`\n\n`url: event.context.document.location.href,`\n\n`ecommerce: {`\n\n`currency:` [`event.data?.cart?.cost?.totalAmount?.currencyCode`](http://event.data?.cart?.cost?.totalAmount?.currencyCode)`,`\n\n`value:` [`event.data?.cart?.cost?.totalAmount?.amount`](http://event.data?.cart?.cost?.totalAmount?.amount)`,`\n\n`items: items`\n\n`}`\n\n  `});`\n\n`});`\n\n\n\n`analytics.subscribe(\"product_added_to_cart\", (event) => {`\n\n  `dataLayer.push({ ecommerce: null });`\n\n  `dataLayer.push({`\n\n`event: \"add_to_cart\",`\n\n`url: event.context.document.location.href,`\n\n`ecommerce: {`\n\n`currency:` [`event.data?.cartLine?.cost?.totalAmount?.currencyCode`](http://event.data?.cartLine?.cost?.totalAmount?.currencyCode)`,`\n\n`value:` [`event.data?.cartLine?.cost?.totalAmount?.amount`](http://event.data?.cartLine?.cost?.totalAmount?.amount)`,`\n\n`items: [`\n\n`{`\n\n`item_id:` [`event.data?.cartLine?.merchandise?.product?.id`](http://event.data?.cartLine?.merchandise?.product?.id)`,`\n\n`item_name:` [`event.data?.cartLine?.merchandise?.product?.title`](http://event.data?.cartLine?.merchandise?.product?.title)`,`\n\n`price:` [`event.data?.cartLine?.merchandise?.price?.amount`](http://event.data?.cartLine?.merchandise?.price?.amount)`,`\n\n`quantity:` [`event.data?.cartLine?.quantity`](http://event.data?.cartLine?.quantity)\n\n`}`\n\n`]`\n\n`}`\n\n  `});`\n\n`});`\n\n\n\n`analytics.subscribe(\"product_viewed\", (event) => {`\n\n  `dataLayer.push({ ecommerce: null });`\n\n  `dataLayer.push({`\n\n`event: \"view_item\",`\n\n`url: event.context.document.location.href,`\n\n`ecommerce: {`\n\n`currency:` [`event.data?.productVariant?.price?.currencyCode`](http://event.data?.productVariant?.price?.currencyCode)`,`\n\n`value:` [`event.data?.productVariant?.price?.amount`](http://event.data?.productVariant?.price?.amount)`,`\n\n`items: [`\n\n`{`\n\n`item_id:` [`event.data?.productVariant?.product?.id`](http://event.data?.productVariant?.product?.id)`,`\n\n`item_name:` [`event.data?.productVariant?.product?.title`](http://event.data?.productVariant?.product?.title)`,`\n\n`price:` [`event.data?.productVariant?.price?.amount`](http://event.data?.productVariant?.price?.amount)`,`\n\n`quantity: 1`\n\n`}`\n\n`]`\n\n`}`\n\n  `});`\n\n`});`\n\n\n\n`analytics.subscribe(\"page_viewed\", (event) => {`\n\n  `window.dataLayer.push({`\n\n`event: \"shopify_page_view\",`\n\n`url: event.context.document.location.href`\n\n  `});`\n\n`});`",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1fqgxns/gtm_and_shopify_headless/",
        "num_comments": 3,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "So just to be clear here that code is for customer events sandbox api only. Have you put this directly in the source code or via the customer events section in shopify admin? If its the first then that's likely your problem as this won't work directly in source code of your checkout pages. If it's the latter then I've read that customer events is not yet compatible with headless shopify (although shopify plan to do this and may have done this recently but I haven't heard anything). Therefore for headless stores, it is recommended that purchase and other order success related events be triggered through the Order Status Page field. \n\nHope this helps.",
                "author": "knowanalytics",
                "score": 1
            },
            {
                "body": "It's the later! Ok so how do I set up a trigger through the Order Status Page field?",
                "author": "philonik",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1714471349.0,
        "title": "Conversion Tag issue (Still running)",
        "author": "bhyeeraw0w",
        "id": "1cgp4tt",
        "selftext": "Hi,  \nI am reaching out in the hopes that someone can help me... I have a tag manager setup with with everything in place. Everything was working fine untill the 12th of April.  \nWe setup the consent V2 last month and it is still set currently. When debugging I noticed that the conversion request was not being sent to Google on the network panel for the conversion tag when a \"begin\\_checkout\" trigger was fired (which is our conversion trigger), so I proceeded to manually do the dataLayer.push from the trigger into the console (just like google does on the background) and for some reason the conversion tag fired and it sent the request. I thought it would be something with the implementation of our tag manager setup and consent but I then tried something different: I reloaded the page and manually did the dataLayer push twice in a row for the conversion trigger (begin\\_checkout) and the first time once again didn't sent the request and the second did? Has something changed recently? Why is the trigger not sending the request the first time?  \nAll help would be appreciated, thank you.",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1cgp4tt/conversion_tag_issue_still_running/",
        "num_comments": 11,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Hey, I'm in the exact same boat. The Google conversion tag is still running in preview mode. I heard it has something to do with consent mode v2 which uses a new parameter called GCS. Have you figured out the solution? Are conversions passing through to Google ads?",
                "author": "myyouthisyourz",
                "score": 1
            },
            {
                "body": "no, i am still trying to figure this problem out...\nconversions are not passing as the tag is not \"succeeded\" after it starts, it is always \"still running\"...\neverything is set, consent is set, i don't understand were the problem is, but can you give me the source of information for the GCS parameter you talked about? i want to look into it please",
                "author": "bhyeeraw0w",
                "score": 1
            },
            {
                "body": "If you're using an older version of Chrome, then it may not support the GCS parameter. You can try testing it on a different browser to see if your issue is related to Consent Mode V2",
                "author": "myyouthisyourz",
                "score": 1
            },
            {
                "body": "i have been working with both Firefox and Chrome, everything was working fine with the current setup until the 12th",
                "author": "bhyeeraw0w",
                "score": 1
            },
            {
                "body": "I have checked and i currently have the parameter present.. My problem is that if a conversion tag fires once it doesnt work but if the SAME conversion tag is fired twice, it only works fine the second time...  It never works the first time, so I have to have two triggers which is strange and doesn't make sense to be consent related I guess... My first conversion tag stays \"still running\" while the second shows \"succeeded\" and there is in fact a XHR network request to send the conversion to Google..",
                "author": "bhyeeraw0w",
                "score": 1
            },
            {
                "body": "Not sure if I could be of any help to you, but here's a [guide by Analytics Mania. ](https://www.analyticsmania.com/post/google-analytics-tag-in-gtm-still-running/)Give it a read",
                "author": "myyouthisyourz",
                "score": 1
            },
            {
                "body": "thanks for your help... gladly and not so gladly the problem aparently sorted itself out.. the same way it stopped working on its own it is now working again.. strangest thing this is...",
                "author": "bhyeeraw0w",
                "score": 1
            },
            {
                "body": "Happy to know it's all good. How did you fix it? Did you make any specific changes?",
                "author": "myyouthisyourz",
                "score": 1
            },
            {
                "body": "I can't say I did.. I did changes across different days and none of them work.. I didn't change anything for 3 or 4 days and it started working again so it is very hard to figure if I did change something or not that made it work and also depends on the configuration you have...",
                "author": "bhyeeraw0w",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1724948972.0,
        "title": "Help serving google scripts from my own server",
        "author": "cpmadera",
        "id": "1f46sha",
        "selftext": "So I've been trying to setup loading Google scripts through server-side tagging so that they load from my own server  \n[https://developers.google.com/tag-platform/tag-manager/server-side/dependency-serving?tag=gtm](https://developers.google.com/tag-platform/tag-manager/server-side/dependency-serving?tag=gtm)\n\nWhen implemented, I seem to only get gtm.js loaded through my server, but gtag/js still is from googletagmanger.com. Wonder what i am doing wrong? Or is this is supposed to be the case? Anyone been able to do this successfully?\n\n\\*\\*UPDATE\\*\\* I figured it out - needed to add transport\\_url parameter with my tagging server url to the google tags in the web container",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1f46sha/help_serving_google_scripts_from_my_own_server/",
        "num_comments": 2,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1716455824.0,
        "title": "GTM sometimes not loading tags in multiple websites",
        "author": "DistanceK",
        "id": "1cyojih",
        "selftext": "Since a few weeks I have trouble loading in my GTM containers. Our company manages dozens of tag managers and last week a customer notified me that their scripts are not working. I tested in some other projects and had no problems, so the problem seemed customer specific. Since then i have discovered 2 other projects with the same problem.\n\nContext: I'm a back-end developer with technical background, so I'm experienced with debugging.\n\nI have tested on multiple devices, different networks, different browsers, disabled pieces of code to make sure there was no interference and got the same results. After you refresh the website a few times suddenly tag managers starts loading the scripts. Sometimes scripts load in after the first visit and when you refresh not anymore, so there is no consistency.\n\nI have spent so many hours searching on Google and Reddit for people with the same problems but cannot find them so this is my last resort. Most issues I can find are basic ones like forgetting to commit your container or using a wrong trigger. In my case this container worked and just stopped working on some occassions. I can only conclude at this moment that Google has some problems on their back-end. I live in Europe so maybe this is a consequence of the new DSA laws?\n\nWhen I use GTM preview function the Google Consent Mode default tag (this is the first tag which loads on consent initialization) shows it cannot fire. When I look at the errors tab it just show a list of errors without any details. I cannot find any page with more detail about the errors. The console in Dev Tools is also empty, no errors to be found over there.\n\nIn one of our customers Google Analytics it is very obvious that tag manager does not work. In this screenshot you can see there are barely any visitors that are getting tracked. Then suddenly the peak at Saturday May 11th and finally I removed tag manager at customers request and just put the GA4 script in the website code and the tracking worked fine.\n\nHas anyone encountered similar issues in the last weeks? Thanks in advance!\n\n  \n**SOLVED**: After months of searching I found the issue. In our codebase we use the global variable 'map' and this conflicted with Google Tag Manager. Quite weird as these websites worked for years and suddenly this was a problem. Renamed the global variable to GoogleMap and all issues dissapeared. Tag manager errors were gone and the GA4 tracking visitors numbers went back to normal.\n\nRemoved the screenshots as this case is closed.",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1cyojih/gtm_sometimes_not_loading_tags_in_multiple/",
        "num_comments": 6,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "I'm not sure if this is exactly your issue, but caching or minifying can affect the functionality of GTM. Have there been changes recently to the way caching is handled for this client's website?",
                "author": "Etianen7",
                "score": 1
            },
            {
                "body": "Same issue for me over the last 2 weeks, the debugging tool can't find GTM container. It does recognise GA4 code so I don't think caching is a problem. Haven't found a solution yet.",
                "author": null,
                "score": 1
            },
            {
                "body": "No recent changes have been made to these websites, they are all websites around 4 years old. Other websites under our management that use the same caching and minifying processes still work with GTM. Did some extra tests concerning caching but cannot find any cause here unfortunately. Thanks for your response!",
                "author": "DistanceK",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1714607863.0,
        "title": "Duplicate Page Views on Preview",
        "author": "ezioauditore696",
        "id": "1ci1del",
        "selftext": "Hey all,\n\nFirst time here.\n\nI was testing my company's google tag manager because I was finishing implementing Consent Mode V2 and I noticed that everytime I go to a new page, the page view hits twice... I never noticed this before, so I wonder if you guys have any idea why this happens?",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1ci1del/duplicate_page_views_on_preview/",
        "num_comments": 7,
        "comments": [
            {
                "body": "I kinda got it. It was actually the hubspot tag that was sending a second hit. Why the hell. I just put the triggering as consent trigger instead, and all good now.",
                "author": "ezioauditore696",
                "score": 3
            },
            {
                "body": "Perhaps the site has both g-tag analytics and GTM (which includes page\\_view)?  \nCan you tell me the website address?",
                "author": "Puzzleheaded-Week305",
                "score": 2
            },
            {
                "body": "1) your gtag is sending hits\n2) your consent mode update is sending hits\n\nSolution- add a parameter to stop sending page view data for consent initialisation \nSet “ send_page_view” as false",
                "author": "adlurinikhil",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "I kinda got it. It was actually the hubspot tag that was sending a second hit. Why the hell. I just put the triggering as consent trigger instead, and all good now.",
                "author": "ezioauditore696",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1705843267.0,
        "title": "Third party cookies elimination",
        "author": "valeriervn",
        "id": "19c3a7k",
        "selftext": "As you might know, Google is eliminating third party cookies. I have clients who own a small business, most of them without much technical knowledge. I am thinking about what the best solution would be for them, so that they are still able to run their meta ads.\n\nI read about server side tagging, but that seems to be too complicated for those small businesses (or is it not?). I am able to set up the tagging but would rather not maintain it. \n\nWhat are you solutions to this developement? ",
        "score": 4,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/19c3a7k/third_party_cookies_elimination/",
        "num_comments": 10,
        "comments": [
            {
                "body": "Nothing. There is nothing for your client  to do here. Meta and Google Analytics use first-party cookies for core functionality.\n\nSome have said that server-side GTM is some solution to this but that’s false. I use ssgtm and think it’s pretty cool but it won’t solve this. Worth investigating but for other reasons.\n\nThat said, to the extent that some types of advertising will be affected, like retargeting, ultimately the solutions will be provided by the vendors.\n\nYou’ll see some mention that the solution is to use “first-party data” as well, but I struggle to see how a small business could effectively use it, but maybe I am missing something.\n\nSo, TLDR: don’t worry about it :)",
                "author": "nakfil",
                "score": 2
            },
            {
                "body": "Ah that's good to know. Thank you so much for explaining!",
                "author": "valeriervn",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "you are conflating tools that use 3rd party cookies (like Adobe products) with tools that do not use 3rd party cookies (like Google products). the \"There is nothing for your client to do\" from earlier is the correct response.",
                "author": "Humble_Elderberry_25",
                "score": 1
            },
            {
                "body": "[deleted]",
                "author": null,
                "score": 1
            },
            {
                "body": "Good to know, thanks!",
                "author": "valeriervn",
                "score": 1
            },
            {
                "body": "For sure!",
                "author": "nakfil",
                "score": 1
            },
            {
                "body": "Can you clarify further?  I am looking for an alternative to track conversions for Google Ad Manager since Google is sunsetting those next month with no alternative.",
                "author": "Monado_DaysoftheNew",
                "score": 1
            },
            {
                "body": "Did not find something Volumen… did you want to say « Voluum.com »?\n\nIt’s like a data lake solution ?",
                "author": "KingStonk69",
                "score": 1
            },
            {
                "body": "[deleted]",
                "author": null,
                "score": 1
            },
            {
                "body": "It’s Google Ad Manager, not Google Ads.  Totally separate platforms :(",
                "author": "Monado_DaysoftheNew",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1715068224.0,
        "title": "DataLayer",
        "author": "Emiqq",
        "id": "1cm6ed6",
        "selftext": "How do you push data to the datalayer in GTM?\n\nDo i have to create a datalayer tag or is it already existing?\n\n I am trying to connect the dots, and this is the missing piece of information, that I feel will unlock so much potential. \n\nI Would love some ressources/tips/videos if anyone have any. \n\nBest. ",
        "score": 0,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1cm6ed6/datalayer/",
        "num_comments": 6,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "You don’t push from within GTM but rather through your websites code. You can do it through GTM by running custom HTML tags using Javascript and what not but it still runs on the website and sends events to the datalayer.",
                "author": "KalaBaZey",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1710768765.0,
        "title": "Explain me how to integrate  GTM like am 5yo please",
        "author": "CardiologistMain5833",
        "id": "1bhqtj3",
        "selftext": "Hi, as I say in the title please explain me the gtm and how it works.\n I work in marketing and I manage multiple e-commerce platforms. Until now I have created multiple conversions (like purchase or add to cart) in Google Ads or GA4, but one client wants to see the monthly ROAS in e-commerce ( monetization in GA4) \n\nI tried to look at some tutorials but it is very hard to understand how to implement this kind of tag. \n\nI am relatively new in this field and also my colleagues from the web development have no idea about how to implement these tags on a website. \n\nPlease if you have the time explain me what I have to do and how can I help my colleague to understand. \n\nThank you \n",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1bhqtj3/explain_me_how_to_integrate_gtm_like_am_5yo_please/",
        "num_comments": 7,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Whats so hard about this? Purchase conversion action already carries the value with it. What you need is just divide all purchases value by ad spend and thats your ROAS",
                "author": "KalaBaZey",
                "score": 1
            },
            {
                "body": "If u need help, txt me.",
                "author": "flash175",
                "score": 1
            },
            {
                "body": "Implementing e-commerce tracking in GA4 can’t really be explained to a 5 year old. Yes, you can use GTM to implement the Tags yourself, but I would recommend hiring a consultant to do it correctly for you if you don’t have an actual marketing analyst familiar with tagging at your disposal. Expect to pay them $100-$200 an hr to do this for you.",
                "author": "coffeeandbags",
                "score": 1
            },
            {
                "body": "Hey! Feel free to DM me if you're looking for someone to talk you through this.",
                "author": "Exciting_Exercise525",
                "score": 1
            },
            {
                "body": "For ROAS reporting use Looker Studio. Import GA4 purchase data to Looker Studio, or data blend using all ad channels.",
                "author": "Softninjazz",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1713273171.0,
        "title": "PLEASE HELP! GTM Order of firered Tags",
        "author": "412prince",
        "id": "1c5frw9",
        "selftext": "Hi everyone, and thanks in advance for your assistance!  \nI configured a  Google Tag Manager setup for a client and then aimed to replicate the entire setup on my own site, which is built in a very similar manner. I imported it, and almost everything is functioning correctly, except for the order in which the tags are firing.  \nI understand that I can adjust the priority in the designated area, but that's not the issue I'm facing. For instance, the first tag, which requests the user ID, fires on \"**consent**\" (the earliest possible trigger - for me? maybe you know smth else). However, the user ID value returns only after \"**window loaded**\". This scenario is unacceptable because all the configured tags are set to fire on \"**window loaded**\".  \nCurrently, my \"**window loaded**\" event occurs in position 7, but it should ideally be at position 15 like my client's page (from where I imported it), after everything else has loaded, such as the user hash, etc.  \nCould someone please provide me with tips on how to fix this and delay the window loaded or boost the other ones?",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1c5frw9/please_help_gtm_order_of_firered_tags/",
        "num_comments": 6,
        "comments": [
            {
                "body": "I guess I don't really understand why you want the additional events, but it seems like you want to make additional dataLayer pushes. You can ask a Dev to do this or set them up yourself in GTM: https://www.analyticsmania.com/post/datalayer-push/",
                "author": "WorkingBetter",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "If your tag needs the user ID and that only fires on window loaded, then you should adjust your trigger and set it to window loaded instead of consent.\n\n\nShould your setup require other tags to fire on window loaded as well, but after the user ID tag then you can adjust their priority: https://support.google.com/tagmanager/answer/2772421\n\n\nHope this helps :)",
                "author": "WorkingBetter",
                "score": 1
            },
            {
                "body": "This is not really my issue over here. I need a way to set up more events between consent and window loaded. \n\nWhen I created it on the other account, there were instantly two  times set and also messages which appear between consent and window loaded which causes a delay for window loaded and give the hashed user id time to come back \n\nSo do you know how to get this “set” and “massage”\n\nThanks in advance🙏",
                "author": "412prince",
                "score": 1
            },
            {
                "body": "The order of my current push events are not according to what it should be. \nThe better solution would be to re-organize the push event which appears after window loaded to be before window loaded, but I don’t know how to do that. \n\nSo my second opinion was to create more push event that window loaded will automatically get delayed…",
                "author": "412prince",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1707764358.0,
        "title": "Consent Banner without a subscription",
        "author": "FastWave",
        "id": "1ap7rwa",
        "selftext": "Hi.\n\nI am looking for a consent banner solution that would integrate with Google Tag Manager and support GDPR. \n\nHowever, all the common solutions that I've come across (like CookieBot and CookieYes) are great but considering they are $100+ per year for a single site (e.g a site with a blog and 2 languages often already exceeds the free tier), it seems a bit excessive to pay this money, especially considering that web hosting itself is almost as expensive. \n\nAny recommendations? ",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1ap7rwa/consent_banner_without_a_subscription/",
        "num_comments": 9,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "You can try Klaro (open-source). I've checked their documentation and this guide so far\nhttps://measureschool.com/cookie-consent-banner/\n\nI haven't tried it yet. I prefer to pay 10€/month for cookiebot and spend my time elsewhere.\n\nGood luck !",
                "author": "yerdna",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "The cost of non-compliance could be a lot more.\n\nAlso, CookieBot has a free tier. You could use that.\n\nThe cost to *them* is it takes bandwidth and compute resource to run scans of your site and also to maintain the database of known cookies. That's why they have paid tiers.\n\nCookieBot is also one of the easiest (if not the absolute easiest) to integrate with GTM.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "If you use wordpress complianz pro is 59 euro for one license and as far as I know, keeps working even after the subscription runs out. You won't get updates though.",
                "author": "benl5442",
                "score": 1
            },
            {
                "body": "I sell ready to use code for 50 euro. Dm me if you’re interested.",
                "author": "zombiekop",
                "score": 1
            },
            {
                "body": "would your traffic fall within the limits of osano? https://drewspen.weebly.com/blog/implement-osano-cmp-in-gtm-with-consent-mode",
                "author": "Humble_Elderberry_25",
                "score": 1
            },
            {
                "body": "Thanks for the response. If on a free tier, do I understand correctly that Cookiebot will stop showing the banner if their scan detects that subpage count exceeds 50? Or is it rather that they only scan up to 50 and just ignore the rest for their 'analysis'?",
                "author": "FastWave",
                "score": 1
            },
            {
                "body": "I’ve never tested the theory to find out. At the stage where I’d have 50 pages, I’d just pay for the service.",
                "author": "DigitalStefan",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1707184652.0,
        "title": "Consent Mode V2 Question",
        "author": "Gullible_Attitude_20",
        "id": "1ajybwh",
        "selftext": "Quick question around consent mode. Our agency (US based) is utilizing Google advertising products (Google Ads, GA4) for our clients, but we do not target EEA users within these platforms. We also do not use the built in audience capabilities within these platforms. Our clients' websites however, do receive some traffic from EEA areas. Is Consent Mode V2 implementation required if we're not targeting these EEA / EU users? \n\nThanks! ",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1ajybwh/consent_mode_v2_question/",
        "num_comments": 9,
        "comments": [
            {
                "body": "https://www.reddit.com/r/PPC/comments/1acapxu/google_consent_mode_v2_needs_to_be_set_up_before/",
                "author": "Humble_Elderberry_25",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "You do not have to make any changes if you are not targeting EEA users.",
                "author": null,
                "score": 1
            },
            {
                "body": "No. Not *yet*. I'd recommend planning for it though. I'm expecting the story of CoMo V2 to have a few twists and turns over the next 12 months.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "Cool - I agree with you. We’re keeping an eye on it, since the current documentation is a little unclear in regards to targeting those users with advertising campaigns or just having traffic from those areas and their visit being recorded in an analytics platform. \n\nAlso, it would require our clients to get CMP’s, etc and they turn their heads a little when you say ‘you have to get a CMP, even though you don’t target EEA / EU users and really only service users in the southeast US.",
                "author": "Gullible_Attitude_20",
                "score": 1
            },
            {
                "body": "Even \"pure US\" clients are going to have to deal with a CMP at some point as more and more states will likely bring in their own laws like California have.\n\nGoogle are really in the middle of a big ass-covering exercise and they are not cutting much slack. They are not the ones that are going to be caught with their pants down if regulators come knocking!",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "Yes I can totally see google expanding on consent mode to help them absolve any violations to CCPA and other US state legislature in the future.",
                "author": "Gullible_Attitude_20",
                "score": 1
            },
            {
                "body": "In fact, CoMoV2 is Google trying to get more data even when the consent is denied. And the \"basic\" vs \"advanced\" naming is in itself a testament to deception.",
                "author": "iroko537",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1710942269.0,
        "title": "GTM vs Direct Coding for Google Ads Conversion Tracking",
        "author": "Axxi222",
        "id": "1bjds6l",
        "selftext": "I'm currently evaluating the best approach for implementing Google Ads conversion tracking on my e-commerce platform for most accurate conversion tracking.\r  \n\r  \nThe choice stands between embedding the Google Ads conversion tracking script directly into the site's HTML with a built-in module that we've been using for 10 years, but there is no option for \"enhanced conversion\" here. Or would Google Tag Manager (GTM) be better for potentially more accurate conversion datat to Google Ads.\r  \n\r  \nTo put it simply:\r  \n\r  \n**Direct Code with Built-in Module**: We've been using this traditional method for 10 years. However, it lacks the option for \"enhanced conversion.\"\n\nOR\n\n**Google Tag Manager (GTM):**\r  \n\r  \nGiven the impending changes with third-party cookies and the need for more adaptable tracking solutions, would GTM provide a significant advantage in terms of capturing more accurate conversion data compared to the built-in module approach we've relied on for a decade?",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1bjds6l/gtm_vs_direct_coding_for_google_ads_conversion/",
        "num_comments": 6,
        "comments": [
            {
                "body": "GTM has been the better option for over 10 years. I can't think of a single reason to code tags directly to the page. You will have an entire world of options available to you. Or, take a look at Zaraz from Cloudflare. Either option will be a massive step up from where you're at now.",
                "author": "griz_fan",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Thanks for the response. We've made the switch to GTM, and it's working well so far. However, we encountered an issue, detailed in this post:\n\n[https://www.reddit.com/r/GoogleTagManager/comments/1biqqki/migrating\\_google\\_ads\\_conversion\\_tracking\\_to\\_gtm/](https://www.reddit.com/r/GoogleTagManager/comments/1biqqki/migrating_google_ads_conversion_tracking_to_gtm/)\n\nWould you possible know why we are getting this error? I resolved it by setting up a 'Google Tag' in GTM with our Google Ads ID, and then the error ceased. But from what I've read and understood, setting up the 'Google Ads Conversion Tracker' and 'Conversion Linker' should have been sufficient. I'm affriad that now with the recent \"Google Tag\", it might cause some problems, for example i'm seeing a few double conversions registration in Gads now, that later are being corrected.",
                "author": "Axxi222",
                "score": 1
            },
            {
                "body": "unfortunately, these things can be difficult to diagnose without access to the GTM account. GTM has a great preview and debug mode feature that should help a LOT. This article is from a source I trust, and walks you through using debug mode to understand how the tags are firing, what events are triggering each, the variables and data layer available at each event. Hopefully, this will not only help solve that immediate problem, but also help you understand how GTM works a bit more, so you can take full advantage of what it offers.\n\n[https://www.analyticsmania.com/post/google-tag-manager-debug-mode/](https://www.analyticsmania.com/post/google-tag-manager-debug-mode/)",
                "author": "griz_fan",
                "score": 1
            },
            {
                "body": "Yes, I've tried every possible combination and nothing works except adding this \"Google Tag.\" Looks like I'll need to consult with an expert. Thanks for the reply!",
                "author": "Axxi222",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1706961294.0,
        "title": "Tracking Issues - Advice needed.",
        "author": "Key-Mountain-3616",
        "id": "1ahuhwy",
        "selftext": "Hi folks. \n\nJust needed a bit of advice on GTM tracking. \n\nin our previous set up, all Tags (Google, Analytics) were hard coded to our website. We made the move to tag manager to implement consent mode easily. \n\nEverything is working okay, but there are a few things I'm not sure too about. \n\n1. GA4 events were set up inside GA4, I also created these events with the same name on GTM. Should these only be set up in one place? Someone had already set these up in GA4 before me. \n2. Our GA4 tag is connected to universal analytics, but when adding the UA tag in GTM, it wasn't sending back data to GA4, so I created a separate tag for GA4 in GTM alongside the UA tag, which is working now. Would this cause an issue, having it set this way? \n3. We removed G Ads tracking from the website, and I've added it to GTM. The conversion tracking events/Goals are also created in GTM to fire on Pageview when a user lands on the thank you page. You can only get to the thank you page if you follow the purchase journey on the site. You can't randomly visit the thank you page. But I've been told by our dev that the conversion snippet from the old tracking is still on the thank you page. I've not noticed any changes in conversions on Google ads, all looks normal. But do you think we should remove the old snippet? as we only count 'one' conversion in Google ads, and the numbers do add up to what we're seeing in the backend. \n\nWe're also seeing the ;0 sign in Tag assistant depreciated, telling us it's a non-standard implementation, as well as missing no-script code, but this is implemented on our site. \n\nOur conversion tracking for all goals is set up based on a page view URL as a trigger. I'm in the process of setting up so that GTM can capture purchase events sent from the website as this will be more accurate. \n\nAny advice would be appreciated! \n\n&#x200B;\n\nThanks\n\n&#x200B;",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1ahuhwy/tracking_issues_advice_needed/",
        "num_comments": 8,
        "comments": [
            {
                "body": "You do not need to register custom events in GA4 for custom events from GTM. Whatever name events you set up in GTM will show up in GA4. What Gilleymedia has said is not correct. \n\nYou register custom events in GA4 based on other events inside GA4. For example there’s a default click event in GA4. You can create custom events where if the click_url parameter equals a certain URL then you register that as a separate event.\n\nThe GTM way is better just delete the custom ones as it might register duplicates this way.\n\nFor G Ads remove the existing snippet from website. Just have one GTM tag on your website and handle everything inside it. It is simple, organized and easy to work for teams.",
                "author": "KalaBaZey",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "1.) You need to [register custom events in the GA4 admin](https://support.google.com/analytics/answer/10085872?hl=en) or they won't be measured and available in the data. You need to create tags for them in GTM to send the event pings to GA4. Similarly, you need to register any custom dimensions you want to send with events in the GA4 admin. (and in the GTM tag associated with the event)\n\n2.) as far as I know, you need a GTM tag to send info to Universal Analytics and a different \"Google Tag\" to GA4. I have the Google Tag (formerly Configuration Tag) omitting the GA4 pageview and a separate GA4 pageview tag firing after the Google Tag. Of course, if you're using 360, Universal Analytics are finished this summer, so I am starting to cut way back on its use.\n\n3.) not sure. You can designate a specific event to be reported to GA4 as a conversion in the events interface, but I'm not super-current with my adwords knowledge.",
                "author": "Gilleymedia",
                "score": 1
            },
            {
                "body": "If you created events in GA4 (actually created, not just marked existing events as conversions) and then you created GA4 Event tags for those same events, you should remove the events you created in GA4.\n\nEvent modification and creation within GA4 is designed for people who are not using GTM. It gives them some similar functionality and is fine for simple sites, but mixing and matching is a bad idea because you now have to keep track of where every event originates across two platforms.\n\nYou can remove UA tags now, assuming you are not using GA360.\n\nAlso remove the on-page conversion script for your purchase flow if you have that already handled in GTM. Mostly for the same reasons. When you need to debug, change or improve your tracking, you will thank past-you for keeping everything in GTM,\n\nNot sure about \";0 sign in Tag Assistant\".\n\nYou don't need the GTM <noscript>. Functionally useless and has been for a while. It's for tracking users who have javascript disabled and practically nobody does that.\n\nGood on you for making a move away from URL triggers. Learning how to get things done with a data layer is a big \"level up\" in data collection.",
                "author": "StefanAtWork",
                "score": 1
            },
            {
                "body": "The custom events were already set up on ga4 prior to implementations on tag manager, and they were set as rule based on ga4 i.e page view contains xxx.",
                "author": "Key-Mountain-3616",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1712307699.0,
        "title": "No consistency in Google picking up Consent Mode V2 in Google Ads?",
        "author": "Podbyrin92mm",
        "id": "1bwdct2",
        "selftext": "So Consent Mode V2 should be implemented since the last few days.\n\nI manage about 30 Google Ads campaigns and I face quite some inconsistencies.\n\nThere are Google Ads accounts where Google indicates Consent Mode V2 is in place while I made zero changes in the corresponding Google Tag Manager (e.g.: no Consent Mode on my tags).\n\nAnd vice versa: I have clients for which I did the entire setup in GTM and tested it (plenty of documentation out there). But no mention whatsoever in Google Ads (conversions > diagnostics).\n\nI can't wrap my head around this why?\n\nDo I need a certain amount of conversions or clicks (I read 700 ad clicks the last 7 days?). But this seems to be inconsistent too. There are low traffic sites that are approved and high traffic sites that aren't. More worryingly, they have first-class cookie banners in place, not something obscure self-made.\n\nConversions still coming in for all accounts it seems, that's something at least.\n\nSeems like Google is shooting around blindfolded once more. Pushing to implement it but Consent Mode in GTM still in 'beta'?\n\nAny experiences or explanations?",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1bwdct2/no_consistency_in_google_picking_up_consent_mode/",
        "num_comments": 4,
        "comments": [
            {
                "body": "I think all Google cares about is if it gets those two new signals. At least with GA4.\n\nIt's not about Tag Manager settings. I've tested it. All you have to do is make sure that ad_user_data and ad_personalization signals are pushed to the data layer.\n\nYou SHOULD also change the tag consent settings in GTM to follow GDPR and so on, but that's another thing.",
                "author": "No_Celebration1487",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "I just used https://termly.io/ In the end as its cheap and handled it all in GTM fine",
                "author": "mustardpete",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1709802091.0,
        "title": "Consent Mode question - additional consent required / not required",
        "author": "mar1_jj",
        "id": "1b8q3in",
        "selftext": "Hi,\n\nwhen setting up Advanced Consent Mode I usually use All Pages or All Pages Dom Ready triggers and mark \"No Additional Consent Required\" for Google Tags.\n\nIs that okay? Or is it better to leave it as \"Not set\"? \n\nFrom what I learned, it doesn't make a difference, but for me it's easier to keep track of tags since I plan to use consent signals on other advertising platforms as well.",
        "score": 4,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1b8q3in/consent_mode_question_additional_consent_required/",
        "num_comments": 5,
        "comments": [
            {
                "body": "\"Not set\" means \"I haven't considered the consent requirement(s) for this tag\".\n\n\"No additional consent required\" means \"I've considered the consent requirement for this tag and it's fine as it is\".\n\nYour Consent Overview report should have no tags in the \"Not set\" category.",
                "author": "StefanAtWork",
                "score": 5
            },
            {
                "body": "Got it, thank you.",
                "author": "mar1_jj",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "When you say Consent Overview report, are you referring to where you validate consent mode in GTM? And is there functionally any difference when you have the tags set to Not Set?",
                "author": "stevie-janowski",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1710344037.0,
        "title": "Why Consent Overview asks to setup consent when there's already built-in consent?",
        "author": "Responsible_Routine6",
        "id": "1bduf5e",
        "selftext": "As I've understand, when there's the build in consent, it manages by itself using the advanced consent mode. What am I missing? \n\n&#x200B;\n\n&#x200B;\n\n&#x200B;\n\n&#x200B;",
        "score": 4,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1bduf5e/why_consent_overview_asks_to_setup_consent_when/",
        "num_comments": 4,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "You need to make a conscious decision:\n\n\n\"Do I want my tags to always trigger and trust that the built-in consent is compliant with the privacy laws in my area (advanced) or do I want to the tags to trigger only when the proper consent has been granted (basic)?\"\n\n\n\n\nKeep in mind that other tags might also utilize built-in consent and maybe you don't trust those as much as you trust Google (LOL). In that case, the option for an additional check is a great to have available.",
                "author": "brannefterlasning",
                "score": 1
            },
            {
                "body": "Imagine a regulator gets in touch with you and wants to audit your consent management.\n\nHow many tags do you think they want to see in the \"Consent Not Configured\" section of the Consent Overview report?",
                "author": "StefanAtWork",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1701188941.0,
        "title": "Can you reliably predict server-side GTM costs?",
        "author": "Fidget_",
        "id": "1860351",
        "selftext": "I'm a Cloud Engineer and have set up a fair few GTM Servers for clients (mostly with Cloud Run), but I always struggle to predict costs for them and give the usual line of \"approximately $45 /month (USD) according to Google\".\n\nWhilst I'm aware of the calculator in the Google docs [here](https://developers.google.com/tag-platform/tag-manager/server-side/cloud-run-setup-guide?provisioning=manual#cloud_run_calculator), I'm unsure as to what exactly the definition of \"Inbound events\", \"Outbound events\", and \"First Party serving enabled\" are.\n\nAlso how does the number of tags affect the traffic, and therefore impact on the server resources?\n\nIdeally I'd like to be given the number of hits the tracked site can expect in a month, and the number of tags, and produce a rough cost to run the Cloud Run instance per month.\n\nCheers!",
        "score": 7,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1860351/can_you_reliably_predict_serverside_gtm_costs/",
        "num_comments": 8,
        "comments": [
            {
                "body": "Not a direct answer to your question but I use Stape.io for this very reason. It’s managed server-side. The pricing is way more predictable and much cheaper. For a recent container for example we were paying $100 / month through Google Cloud and reduced to $20/month. \n\nThey also have some great features and templates to help you implement various aspects of SSGTM.\n\nIf you’re ok with using a third-party might be with a look!",
                "author": "nakfil",
                "score": 4
            },
            {
                "body": "I selfhost the docker containers on VPSes or physical servers, depending on the location of customer’s website and their needs. Sometimes even on the same host.\n\nIt’s easier this way to deploy the containers „closer” to the website in question.",
                "author": "StupidityCanFly",
                "score": 4
            },
            {
                "body": "I think the key is \"do you trust Stape?\". I think using them is a great idea, but if you're a big enough brand and you're doing things like value based bidding, you might think twice about how far trust stretches.",
                "author": "DigitalStefan",
                "score": 3
            },
            {
                "body": "Our costs have been pretty stable running since June on Cloud Run. Around $150 CAD. They ask about inbound and outbound events since it's all event-based.\n\nSo one user can fire multiple events from analytics:- load gtm (if you're pulling gtm from the server which you should be)- load analytics (if you're pulling ga4 from the server which you should be)- session\\_start- page\\_view- search- view\\_item- view\\_item\\_list- purchase\n\nPlus, all your custom events etc etc. And then outbound is things like:- load gtm (if you're pulling gtm from the server, which you should be) \\* this is the actual file being sent to the client- load analytics (if you're pulling ga4 from the server, which you should be)  \\* this is the actual file being sent to the client- all the ga4 events mentioned above- any Facebook, LinkedIn, etc. tracking code piggybacked off your GA4 events (doing it here saves front-end traffic)\n\nSo the calculator is expecting you to be some kind of wizard to a degree. But ultimately, what it's trying to calculate is the minimum containers always running and the maximum you need to scale to. Our production settings are 2, always running with a max scale of 10 (we have never scaled to 10, and we get 50k users monthly and hundreds of thousands of sessions).\n\nThose settings are supposed to handle a million page views easily. I don't know if I've helped at all, but that's our experience so far!  \n\n\nEdit: currency mistake.",
                "author": "TheMexicanPie",
                "score": 2
            },
            {
                "body": "Yep, valid point. I have seen some larger names in Analytics recommend them so it’s given me some reassurance. But, I’m quick to lose trust in a company if they break it so it’s worth keeping an eye on.",
                "author": "nakfil",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Adding to this question, as I have heard rumors about this. Are \"outbound\" events that go to non-google tools priced differently than \"outbound\" events within Googles ecosystem. Any insights on this would be super helpful as we are trying to price our GTMSS too.",
                "author": "dgpaul10",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1704875120.0,
        "title": "How to setup Banner and Consent mode",
        "author": "Aby666",
        "id": "1933i0m",
        "selftext": "Hi everyone \n\nI am interested in setting up the above in GTM. I am thinking of OneTrust.\n\nAlso I am confused on what is the right approach on how to use Google consent inside GTM.\n\nDoes anyone have any good resources",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1933i0m/how_to_setup_banner_and_consent_mode/",
        "num_comments": 5,
        "comments": [
            {
                "body": "If you use OneTrust CookiePro (which is an excellent product) don't be tempted to use autoblock. It's crap",
                "author": "chrisdufff",
                "score": 3
            },
            {
                "body": "You can find some resouces through a quick Google search:\n\nhttps://www.onetrust.com/blog/how-onetrust-integrates-with-google-consent-mode/\nAnd some user generate debugging here:\nhttps://www.reddit.com/r/GoogleTagManager/comments/tn2g5g/onetrust_and_consent_mode_via_google_tag_manager/\n\nWe use either https://www.cookiehub.com/ or https://www.cookiebot.com/ for our clients and try to handle all 3rd party scripts within GTM if possible. These are paid solutions but work well in our experience.",
                "author": "Abattage",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Taneli Salonen of 8-bit Sheep published his solution for installing and configuring OneTrust consent management from inside Google Tag Manager. \n\n\nhttps://tanelytics.com/integrate-onetrust-with-google-tag-manager/\n\n\nTaneli's solution covers everything except the implentation of the actual OneTrust Javascript call. Julius has an improved version of the OneTrust Javascript implementation. But the rest of Julius' solution does not leverage Google Consent Mode - so just that piece interests me as a 'Set Up' tag for Taneli's consent initialization triggered tag.\n\n\nhttps://www.analyticsmania.com/post/gdpr-cookie-consent-notification-with-google-tag-manager/",
                "author": "Humble_Elderberry_25",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1709837710.0,
        "title": "How long did it take you to migrate client-side GTM to sGTM?",
        "author": "AgencyAdOps",
        "id": "1b92gsx",
        "selftext": "I'm curious on how long it's taking people to migrate tags from client-side GTM to sGTM (migrate = replicating Google tags in sGTM and/or creating platform CAPI tags in sGTM). \n\nI'm estimating that for a \\~25-30 tags per client (I'm agency-side), I should estimate \\~2weeks for set and QA - also knowing that there will be overlap on work across multiple clients. \n\nAlso, does anyone know of shortcuts or a handy checklist that makes the process smoother?\n\n*Note: this is with the assumption that all sGTM installation, including GA4 config, cloud storage set up/connection, and privacy/consent settings have been completed by web dev already. I'm asking purely about tag implementation.* \n\nThanks!",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/1b92gsx/how_long_did_it_take_you_to_migrate_clientside/",
        "num_comments": 2,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1692441977.0,
        "title": "Is consent mode enough for GPDR?",
        "author": "duveral",
        "id": "15vcyec",
        "selftext": "I’ve setup my GTM workspace so the tag that fire events are sensitive to the use consent. I’ve implemented the cookies banner consent in my site and all that. \n\nMy question is: Even though the user denies, the cookies are still there (ga), they are not triggering anything on GTM but, is this GPDR compliant or should I remove the cookies manually?There are so many potential cookies from GTM so I don’t know if I’m missing something. \n\nI’m using the template of Simo Ahava.\nI’m using the oficial gatsby plug-in [Google Tag manager](https://www.gatsbyjs.com/plugins/gatsby-plugin-google-tagmanager/)",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/15vcyec/is_consent_mode_enough_for_gpdr/",
        "num_comments": 10,
        "comments": [
            {
                "body": "Thanks you are right and now the scripts are not writing any cookies because the tag is not being fired. Tricky structure but now I get it and it works as expected.",
                "author": "duveral",
                "score": 2
            },
            {
                "body": "Correct, I wasn’t doing it right. I wasn’t using any service but I can’t recall now what I was doing wrong. I believe it had to do with the initial state where you set the consent mode values.",
                "author": "duveral",
                "score": 2
            },
            {
                "body": "[If this post doesn't follow the rules report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "If the user declines statistical cookies, then you are not allowed to set statistical cookies. However you need a non-statistical cookie declaring that the user has declined statistical cookies.",
                "author": null,
                "score": 1
            },
            {
                "body": "No for the most part, but Google will never say otherwise.",
                "author": "goodgoaj",
                "score": 1
            },
            {
                "body": "Regarding the question if you need to manually delete any tracking cookies from the users browser if they don't consent to tracking is a grey area. Lawyers read GDPR differently when it comes to this question and you should always check with your legal department to get this question answered. With that said, from what I've heard from most legal departments of my clients, it is usually enough to somewhere in your cookie policy state that the users needs to delete the cookies themselves if they don't consent to being tracked, i.e. you need to inform the user.",
                "author": "brannefterlasning",
                "score": 1
            },
            {
                "body": "If I understand your question; No. Your triggers triggering base code for trackers need to check for consent before running the script. If a user accepts cookies, you need to store data concerning that consent, and provide a way for the user to edit or withdraw that consent. Blocking/allowing cookies is in itself not enough.",
                "author": "studiostefan",
                "score": 1
            },
            {
                "body": "Yes , but I haven’t found a site that states that, I’ve followed tutorials and blog posts like simo ahava with nothing related to clearing cookies. I’m trying to find an official GDPR statement about that.",
                "author": "duveral",
                "score": 1
            },
            {
                "body": "If your site is storing cookies (or local storage, or session storage) in the user's browser without consent, you are likely not in compliance with either GDPR or ePrivacy regulations.\n\nIf GA cookies are being created, some data is definitely being sent to GA.\n\nCreating a robust consent management setup in GTM is a challenge and unless you know exactly how to do it, it's extremely easy to make a mistake that will either cause users to be tracked without consent or will make a nonsense of your reporting.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "I have an update for you. Google Consent Mode is enough, if the consent popup is compatible with it. Are you using a service like Cookiebot, for instance?",
                "author": "studiostefan",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1700475498.0,
        "title": "SST - Firefox enhanced tracking protection",
        "author": "NapoleonBonafart",
        "id": "17zlfkb",
        "selftext": "Hello all,\n\n&#x200B;\n\nI recently installed server side tracking (through [stape.io](https://stape.io)) for one of my e-com clients and we saw a rise in \"unassigned traffic\" in GA4.\n\nWe managed to fix this with firing the Google Tag on \"consent initialization\" instead of DOM ready.\n\nBut now we still see a small group of unassigned and after some searching in GA4 we saw that all the unassigned traffic is coming from Firefox. Could this be caused by the enhanced tracking protection from the browser? Or could this be cause by something else?\n\nIf any more info needed, i will gladly provide.\n\nThanks a lot!\n\nAndries",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/17zlfkb/sst_firefox_enhanced_tracking_protection/",
        "num_comments": 5,
        "comments": [
            {
                "body": "Just trying to work out whether this is something you should be worried about. Firefox market share is roughly 3%, which I would say is ignorable for purposes of GA4 reporting.\n\nIdeally Firefox users would not pollute reports with incorrect data, but if it’s a small amount it may be not worth spending time trying to work around.\n\nI would test it. Install Firefox, create a few sessions that you would be able to single-out when the data surfaces in reports.",
                "author": "DigitalStefan",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": ">The Google Tag should fire on Initialization, not Consent Initialization.  \n>  \n>How many users are using Firefox? Is there a working consent management platform in place?\n\n&#x200B;\n\nAh yes you are right, checked again and it is on initialization instead of consent initialization.\n\n&#x200B;\n\nAnd no there is not a working consent management platform on it. Client only wants a popup that notifies the visitor that cookies are being used, there is only a CTA to continue. You can however on the cookie policy page chose to not use these cookies. I know this is not really how it should be :)\n\n&#x200B;\n\nWhat do you mean with your question about how many user are using firefox? Which % of total traffic?",
                "author": "NapoleonBonafart",
                "score": 1
            },
            {
                "body": "The Google Tag should fire on Initialization, not Consent Initialization.\n\nHow many users are using Firefox? Is there a working consent management platform in place?",
                "author": "StefanAtWork",
                "score": 0
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1663371011.0,
        "title": "GA4 with Google Consent",
        "author": "bookgirl4life",
        "id": "xg6euy",
        "selftext": "Can someone please help me understand the purpose behind the Consent Initialization - all pages and Initialization - all pages trigger in Google Tag Manager? Is that only meant to be used as a trigger when implementing Cookie Consent Manager (e.g. onetrust).  I currently use one trust, but it's hard coded into our site -- not set up in Google Tag Manager\n\nI added both of those triggers to my GA4 configuration tag (along with my \"All pageviews\" trigger), but by doing that I get a pageview fired at each load - consent, Initialization, and container loaded -- inflating my pageview numbers. Should I remove those triggers and instead just use the \"consent settings\" under each tag instead? Thanks!\n\n1 Comment**LikeCommentSend**",
        "score": 4,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/xg6euy/ga4_with_google_consent/",
        "num_comments": 19,
        "comments": [
            {
                "body": "You've misunderstood how consent mode works. It has nothing to do with  the terns and conditions of Google products. It adjusts how Google services *on your site* (GA4, UA, G.Ads conv. tracking, etc.) behave based on the cookie consent type the user chooses *on your site*.\n\nhttps://support.google.com/google-ads/answer/10000067?hl=en",
                "author": "Drendo",
                "score": 3
            },
            {
                "body": "Consent Initialization trigger is only for Consent Management Platform tags that must run as early as possible.\n\nIt’s usually best to hard code consent scripts on the site, but sometimes it’s easier to implement within GTM.",
                "author": "DigitalStefan",
                "score": 2
            },
            {
                "body": "Thank you! The consent manager script (one trust) was hard coded into the site. So it sounds like I don’t need these triggers then? But to ensure my tags don’t fire without cookie consent, should I use “consent settings” within teach tag instead?",
                "author": "bookgirl4life",
                "score": 1
            },
            {
                "body": "If Google Consent Mode is actually active (I believe it is by default with OneTrust now), then yes you should use the individual consent settings for each tag under the Advanced menu.\n\nN.B. one odd “gotcha” with Google tags is if you add additional consent that matches the built-in consent, you will get unexpected results. Effectively the tag will just not fire even when consent is granted.\n\nEdit: If you’re implementing Facebook tracking, watch out for its auto event listener. You have to deal with that if a user withdraws consent otherwise Facebook will continue to collect data until the next page load (reload of GTM).",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "If that's the case how does Google take consent on your site?",
                "author": "rustyWhippet",
                "score": 1
            },
            {
                "body": "Okay, thanks. As far as I can tell some tags (e.g. GA4 Configuration tag, Google Ads) already have a built in consent check, so there's nothing else to do there right? But some of them don't have built-ins -- so for those -- i'd have to add the appropriate consent check (e.g. ad\\_storage), right? \n\nThanks for the tip on Facebook as well.",
                "author": "bookgirl4life",
                "score": 1
            },
            {
                "body": "Your CMP (e.g. Cookiebot) needs to support consent mode. In this way when a user clicks makes their consent choice, Google's tags adjust on the fly. So you still need the popup, but no matter which types of cookies are consented to, Google's tag fire.",
                "author": "Drendo",
                "score": 1
            },
            {
                "body": "Yes that’s right. Google tags have built-in consent checks (mainly because they will still fire without consent, but will alter their behaviour accordingly).You have to figure out what each 3rd-party tag should require for consent.\n\nA lot of them should need analytics_storage and ad_storage, even if you’re not using them for both analytics and remarketing. Facebook is definitely in this category. \n\nAlso for 3rd-party tags, you likely need to trigger them from a custom event of OneTrustGroupsUpdated instead of using an All Pages or DOM Ready, otherwise they may try to fire before the OneTrust script has done its part during a page load. This should be detailed in OneTrust’s own documentation. It’s been a while since I’ve looked!",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": ">OneTrustGroupsUpdated\n\nThank you!",
                "author": "bookgirl4life",
                "score": 1
            },
            {
                "body": "No problem. This is a large part of my day job!\n\nI’m still learning, but I’ve worked with OneTrust and Google Consent Mode for a little while now.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": ">OneTrustGroupsUpdated \n\nThanks. Just wanted to say that I removed the consent and initialization triggers on GA4 and it still seems to be working appropriately. Yay!\n\nI have Linkedin set up  as well, and I used a custom event to have it fire with OneTrustGroupsUpdated. do i also need it to fire on OptanonConsent as well? and I added a blocking trigger so that it does not match regex targeting cookie (C0004). Does that seem right to you?",
                "author": "bookgirl4life",
                "score": 1
            },
            {
                "body": "I’ll have a look tomorrow at what my config is exactly. I was working from memory in my previous replies.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "Thank you!",
                "author": "bookgirl4life",
                "score": 1
            },
            {
                "body": "As I understand it, Google consent is based on the consent every user has to give when using a Google product. Buried in those terms and conditions is the consent to allow any site using ga to track you. \nLegally it's questionable for a business to use only that consent (Google can afford to be sued, can you?)\n\nOne Trust is an example of an entirely stand alone consent controller.  It can block the setting of cookies if used in blocking mode, or you can manually block cookies by configuring your GTM to obey the datalayer pushes OneTrust broadcasts that notify you about the user's consent status. \n\nThe two things are separate.\n\nI've not used the consent trigger. But the idea you suggested of using the normal pageview triggers combined with consent mode sounds familiar.",
                "author": "rustyWhippet",
                "score": 0
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1691070384.0,
        "title": "GA4 tag not loading when consent mode is denied?",
        "author": "behtjes",
        "id": "15h4pzq",
        "selftext": "I've set up cookieconsent for CookiePro, reading the consent state with OneTrustGroupsUpdated. When I use the preview mode in google tag manager, it shows that the GA4 tag is loaded, even when the consent state is 'denied'. However, I don't see the tag loaded when I use the Google Tag Assistant extension in chrome. I also don't see any data in developer mode or real time mode in GA4. When the cookie consent is 'granted' the tag shows up and I see data in GA4.Is this normal behavior? I thought that when the consent was denied, it should still fire the GA4 tag but with modified settings according to GDPR\r  \n\r  \n\r  \n\r  \nSee my settings here:\r  \n\r  \nGA4:\r  \n\r  \nhttps://imgur.com/6Kz4AWK\r  \n\r  \nconsent mode default:\r  \n\r  \nhttps://imgur.com/GMGt4Ig\r  \n\r  \nConsent mode update:\r  \n\r  \nhttps://imgur.com/0S1V0eY\r  \n\r  \nOneTrustActiveGroups Datalayer:\r  \n\r  \nhttps://imgur.com/szTvXD7\r  \n\r  \nLookup table:\r  \n\r  \nhttps://imgur.com/xghAtN9\r  \n\r  \nTag assistant extension permissions granted:\r  \n\r  \nhttps://imgur.com/63kZa3R\r  \n\r  \nTag assistant extension permissions denied:\r  \n\r  \nhttps://imgur.com/ylxcRlf\r  \n\r  \ntag manager preview persmissions denied, but GA4 tag loaded:\r  \n\r  \nhttps://imgur.com/TePStDQ and https://imgur.com/MtLWsJ8\r  \n\r  \n",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/15h4pzq/ga4_tag_not_loading_when_consent_mode_is_denied/",
        "num_comments": 8,
        "comments": [
            {
                "body": ">When I use the preview mode in google tag manager, it shows that the GA4 tag is loaded, even when the consent state is 'denied'.\n\nExpected behaviour. When consent is denied and Consent Mode is implemented, it will send a ping without identifiers. You can check the network tab in your Chrome developer tools to make sure no identifiers are included in the request.\n\n>However, I don't see the tag loaded when I use the Google Tag Assistant extension in chrome.\n\nThat thing is legacy. Idk if you can trust it.\n\n>I also don't see any data in developer mode or real time mode in GA4. When the cookie consent is 'granted' the tag shows up and I see data in GA4.\n\nPage visits without consent do not show up in the realtime report or in DebugView. Instead, the data is used for [behavioral modelling](https://support.google.com/analytics/answer/11161109).",
                "author": null,
                "score": 2
            },
            {
                "body": "[If this post doesn't follow the rules report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": ">You can check the network tab in your Chrome developer tools to make sure no identifiers are included in the request.\n\nI don't see any request to analytics until I grant the consent. There should be a hit to analytics right?",
                "author": "behtjes",
                "score": 1
            },
            {
                "body": "In the network tab, filter \"collect?v=2\"\n\nPrior to consent and on subsequent page views if you have denied consent you should see page\\_view hits with a parameter **gcs: \"G100\"** and the **cid** parameter will randomise on each page load.\n\nIf you grant consent, the consent mode \"update\" command will generate a hit to GA4 of a page\\_view event with **gcs: \"G111\"** and **gcu: 1**\n\nThat's what should happen in a perfect implementation. Your implementation isn't quite perfect.\n\n1. Your GA4 Configuration tag is firing on All Pages. You should change that to Initialization.\n2. Deactivate \"Send a page view...\" in the GA4 Configuration tag.\n3. Create a GA4 Event tag with an event name \"page\\_view\" and fire using an All Pages trigger.\n4. Remove Simo's Consent Mode tags and template.\n5. Unless you have non-Google tags (Facebook?) also remove the Lookup Table.\n6. If you have non-Google tags, still remove the lookup table and replace with two RegEx Tables where the input for both is the content of OneTrustActiveGroups and you return \"granted\" when the string contains \",C0002,\" for one tag (usually this is analytics consent) and \",C0003,\" for the other tag (usually marketing / targeting / ad\\_storage) *You should give users the option to manage both consent categories!*\n7. Implement the consent mode \"default\" script directly on site, immediately above the GTM script.\n8. In case you haven't already, make sure the GTM script is one of the first things within the <head> (and remove the GTM <noscript> from within the <body> ... won't affect anything for consent, but you shouldn't use it anyway).\n9. Make sure you have Google Consent Mode switched on within OneTrust. OneTrust / CookiePro will then take care of the Consent Mode \"update\" command at the exact correct moment.\n\nAdditionally I would recommend switching off as much of GA4's Enhanced Measurement as possible. If you really need scroll tracking or file download tracking, implement a tag for it. Don't let GA4 auto-collect user data. Privacy laws talk about only collecting data you know you need and you can always do a better job with a tag than GA4 can do with Enhanced Measurement.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "Thanks. I've done everything, except point 7. I don't have these rights for this website. Could you take a look at the website? -website url deleted-\n\ncollect still doesn't show up in the network tab...",
                "author": "behtjes",
                "score": 1
            },
            {
                "body": "I have had a quick look, thanks for providing the URL!\n\nYou will definitely need to implement the Consent Mode \"default\" command. I understand you don't have access / permission for that at the moment, The script I would implement to set up Consent Mode would be:\n\n&#x200B;\n\n    <!-- Google Consent Mode -->\n    <script>\n      window.dataLayer = window.dataLayer || [];\n      function gtag() { dataLayer.push(arguments); }\n      gtag('consent', 'default', {\n        ad_storage: 'denied',\n        analytics_storage: 'denied',\n        wait_for_update: 500, });\n      gtag('set', 'ads_data_redaction', true);\n    </script>\n\nPersuade a friendly developer this is needed!\n\nThere's a very good document here, direct from the CookiePro knowledgebase: [https://community.cookiepro.com/s/article/UUID-d81787f6-685c-2262-36c3-5f1f3369e2a7](https://community.cookiepro.com/s/article/UUID-d81787f6-685c-2262-36c3-5f1f3369e2a7) <--- Make sure you find the tick-box to switch on CookiePro's Google Consent Mode option, otherwise you will not see the Consent Mode update command being sent and none of your Google tags will send \"real\" data.\n\nIf you really find it impossible to get this script added, then that's the excuse to use Simo's Consent Mode template tag, but you're then going to have a more complicated job of firing tags at the right time. You will have to fire the \"default\" version of Simo's Consent Mode tag using the \"Consent Initialization\" trigger.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": ">If you really find it impossible to get this script added, then that's the excuse to use Simo's Consent Mode template tag, but you're then going to have a more complicated job of firing tags at the right time. You will have to fire the \"default\" version of Simo's Consent Mode tag using the \"Consent Initialization\" trigger.\n\nFor now I've tried to use the template, but no luck. Preview mode of tag manager shows it's working. But still no collect...\n\nSettings:\n\nhttps://imgur.com/iXBfwYm\n\nPreview consent initialization\n\n[https://imgur.com/pva7KBz](https://imgur.com/pva7KBz)\n\nga4 on initialization\n\nhttps://imgur.com/scsu0Dq\n\n&#x200B;\n\nI'll ask the developer. I hate this...",
                "author": "behtjes",
                "score": 1
            },
            {
                "body": "> I hate this...\n\nThis is my world! 😂\n\nI can see Consent Mode default in your second screenshot, which is good.\n\nI can see you've got a separate page\\_view event tag and everything looks like it's triggering correctly.\n\nI can see a GA4 hit with gcs=\"G100\", but still not seeing the Consent Mode \"update\", which should have been configured within CookiePro (it's in the link I sent in last comment).\n\nAlso, I'm suspicious maybe you have \"auto blocking\" enabled in CookiePro. That's usually a feature you don't want to use if you're managing all of your tags in GTM.. Always a headache using auto blocking.",
                "author": "DigitalStefan",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1694967212.0,
        "title": "Has Anyone Tried Analytics Mania Courses for GTM and GA4? Looking for Feedback!",
        "author": "bwaredevoodoo",
        "id": "16l4qqs",
        "selftext": "I’m pretty new to the world of Google Tag Manager and Google Analytics 4. So far, I’ve watched a few introductory videos to get my feet wet, but I’m looking to dive deeper into both platforms. I’ve also watched some YouTube videos by Analytics Mania and found them to be really insightful.\n\nI noticed that Analytics Mania offers full courses on both GTM and GA4, and I’m considering taking them. Has anyone here tried their courses? I’m interested to know:\n\n\t1. How effective are they in terms of real-world application?\n\t2. Any other feedback or alternatives you’d recommend?\n\nWould greatly appreciate any insights from those who have experience with these courses!\n\nThanks in advance!",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/16l4qqs/has_anyone_tried_analytics_mania_courses_for_gtm/",
        "num_comments": 6,
        "comments": [
            {
                "body": "Yes. I switched career in 2020 and one of the first things my employer gave me was the Analytics Mania GTM For Beginners course. Over time I negotiated access to the other courses and they have been absolutely invaluable.\n\nI would not be doing what I'm doing now without them.\n\nI don't know of any as-good alternatives. Simo's courses are a great addition though.",
                "author": "DigitalStefan",
                "score": 3
            },
            {
                "body": "If your employer gave these courses to\nYou then that’s def a good sign. Thank you so much for your feedback!",
                "author": "bwaredevoodoo",
                "score": 2
            },
            {
                "body": "[If this post doesn't follow the rules report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "I've done the GTM couse and I highly recommend it. I learned GA4 through having to do it for over 40 websites so I can't vouch from experience on that course but if it's as comprehensive as GTM was, it's worth it.",
                "author": "got80s",
                "score": 1
            },
            {
                "body": "I will second this - I've gone through the GTM+GA4 package of courses and it's a great source to go back to depending on what you're curently working on. The courses are divided into smaller chapters so it's easy to go back to specific things. Definitely worth the investment. Simo is great too, but I find him more advanced (not a bad thing though, he is super thorough)",
                "author": "sweetpotatas",
                "score": 1
            },
            {
                "body": "I agree with this! I'm a marketer & web analyst and find the courses (GTM, GA4) super helpful. Very useful to be able to go back to a certain chapters. 10/10, would recommend.",
                "author": "900722",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1698301632.0,
        "title": "Third party cookies warnings after gtag consent update",
        "author": "roskam93",
        "id": "17gq4xb",
        "selftext": "When user set:`gtag(\"consent\", \"update\", {ad_storage: \"granted\",analytics_storage: \"granted\"});`\n\nas consent settings on our website, following warnings are thrown in google chrome console:\n\n[https://user-images.githubusercontent.com/28001613/277618924-92e90436-b950-4352-a157-7b2fb6673b74.png](https://user-images.githubusercontent.com/28001613/277618924-92e90436-b950-4352-a157-7b2fb6673b74.png)\n\nand\n\n[https://user-images.githubusercontent.com/28001613/277619004-1c1b4874-0529-4ae4-8043-7aef45b844a3.png](https://user-images.githubusercontent.com/28001613/277619004-1c1b4874-0529-4ae4-8043-7aef45b844a3.png)\n\nI've noticed that this happens only when ad\\_storage is \"granted\", analytics\\_storage can be set in any option and warnings are not shown.What do we have to do to fix these warnings, if we have? \n\nChange some settings in google ads or google tag manager, something else? Or this issue will be fixed by google itself, since these are google cookies?\n\nI've asked about this in google tag manager and google analytics help forums and stackoverflow but did not get any reply yet.\n\nHope someone can give me any information or help here.",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/17gq4xb/third_party_cookies_warnings_after_gtag_consent/",
        "num_comments": 4,
        "comments": [
            {
                "body": "Finally I got answer at github: https://github.com/GoogleChromeLabs/privacy-sandbox-dev-support/discussions/173#discussioncomment-7393749\n\nIn short: \"... I think you can ignore the warnings for this specific set of cookies. On our end, we're thinking about how we can reduce the noisiness of these warnings and make them more actionable. ...\"",
                "author": "roskam93",
                "score": 3
            },
            {
                "body": "Thanks for linking this answer!",
                "author": "brannefterlasning",
                "score": 2
            },
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1686098304.0,
        "title": "Consent automatically set to granted?",
        "author": "MuffinHatLP",
        "id": "142yfc4",
        "selftext": "I just set up consent management in my Google Tag Manager and I'm seeing strange behaviour, can somebody please help.\n\n&#x200B;\n\nWhen the page first loads, before the Google Tag Manager is loaded on my website, I call:\n\n`gtag('consent', 'default', {`  \n`ad_storage: 'denied',`  \n`analytics_storage: 'denied',`  \n`wait_for_update: 500,`  \n`});`\n\nFollowing that the user is asked for consent and if given I call\n\n`gtag('consent', 'update', {`  \n`ad_storage: 'granted',`  \n`analytics_storage: 'granted'`  \n`});`\n\nif denied\n\n`gtag('consent', 'update', {`  \n`ad_storage: 'denied',`  \n`analytics_storage: 'denied'`  \n`});`\n\n&#x200B;\n\nWhen I'm inspecting whats actually going on when I open my website and before accepting or denying consent this is what I see\n\nConsent event: [https://imgur.com/XD8LeS0](https://imgur.com/XD8LeS0)\n\nI can see that it detected the default values of denied. Event consent state is also denied.\n\nConsent Initialization: [https://imgur.com/9UjAczw](https://imgur.com/9UjAczw)\n\nIt says it still know about the default values and that no update consest has happened but why has the  Event consent state changed to granted now?\n\nContainer Loaded: [https://imgur.com/W50mBwe](https://imgur.com/W50mBwe)\n\nSame as above? At this point tags trigger when I think they shouldn't? At least until i grant consent?\n\nTags triggering: [https://imgur.com/kCC5pFv](https://imgur.com/kCC5pFv)\n\nAny help would be appreciated.",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/142yfc4/consent_automatically_set_to_granted/",
        "num_comments": 8,
        "comments": [
            {
                "body": "Same issue on my GTM\n\nI tried using Iubenda coookie solution Template TAG and Consent Mode (by Simo Ahava) to set the consent mode\n\nOn **Consent** event the permission is set as **\"denied\"**, after dataLayer.push({event: \"**gtm.init**\", ...}) they change to **\"granted\"**\n\nI'm pretty sure that the same setup was working fine before \n\nAnyone with the same situation?",
                "author": "grishnackh-86",
                "score": 2
            },
            {
                "body": "[If this post doesn't follow the rules report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/).\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Based on exactly this behaviour, I wrote a WordPress plugin for Google Tag Manager that correctly sets the consent statuses. I made it work by a lot of trial and error and using \\~200 websites as test subjects. It finally worked, and I am distributing the plugin free.\n\nYou can get it and use it for your WordPress website, on, if you don't have a WordPress website, you can dissect it and extract the code and see how I did it.\n\n[https://getbutterfly.com/wp-gcp-a-wordpress-plugin-for-google-consent-mode-v2/](https://getbutterfly.com/wp-gcp-a-wordpress-plugin-for-google-consent-mode-v2/)\n\nNote that this plugin only works with GTM, not GA4, directly, as it's easier to send the consent status via GTM.",
                "author": "getButterfly",
                "score": 1
            },
            {
                "body": "It's impossible to give you any advice on this without knowing more.\n\n1. How is Google Consent Mode being implemented?\n2. Which Consent Management Platform are you using?\n3. How is that platform implemented e.g. is it via a script directly on the site, a script via a custom HTML tag in GTM or a tag template in GTM?\n\nI've seen similar behaviour recently from a \"proper\" implementation of Osano.\n\n&#x200B;\n\nEDIT: Did you spot your Google Ads tag is \"still running\"? This might be a Content Security Policy issue.",
                "author": "DigitalStefan",
                "score": 1
            },
            {
                "body": "I'm not the only one, I didn't manage to find a solution...\n\nPeople are saying I might have two default events firing but I checked and I don't.\n\nOne thing that did work is sending an update defined request right after with the default denied request even when the user hasn't expressed their preference.\n\nIm worried that is messing with the tag that have custom behaviours based on consent.",
                "author": "MuffinHatLP",
                "score": 1
            },
            {
                "body": "Hi, thanks for your response.\n\n&#x200B;\n\nI'm not using any Consent Management Platform. My implementation is basically what you see here: [https://developers.google.com/tag-platform/devguides/consent#implementation\\_example](https://developers.google.com/tag-platform/devguides/consent#implementation_example)\n\nAs I described in the post I first call this before the Google tag script runs:\n\n`gtag('consent', 'default', {`  \n`ad_storage: 'denied',`  \n`analytics_storage: 'denied',`  \n`});`\n\nThen down the line once the user selects either accept or deny I call \"update\" with the corresponding params. Example: \n\n`gtag('consent', 'update', {`  \n`ad_storage: 'denied',`  \n`analytics_storage: 'denied'`  \n`});`\n\nI hope this makes it more clear.",
                "author": "MuffinHatLP",
                "score": 1
            },
            {
                "body": "Same problem here. I set the default to denied but somehow, it gets overwritten to granted. Did you ever find the solution?",
                "author": "Deda111",
                "score": 1
            },
            {
                "body": "I never did 🤷🏽‍♂️",
                "author": "MuffinHatLP",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1687761207.0,
        "title": "Help! Almost working OneTrust and Google Consent Mode in GTM",
        "author": "google_12345",
        "id": "14j9e8a",
        "selftext": "I am using OneTrust to manage the cookies via Cookies Banner fired from GTM all the while. As Google has introduced the Google Consent Mode, I thought to give it a go since it will simplify the triggers configuration since Consent Mode is an option in the tag itself. My plan is to enable the Google Consent mode with existing OneTrust script (with Google Consent Mode turned on in the admin), then slowly update each tag to fire depending on this consent mode, instead of the OneTrust default triggers.\n\nWhat I have done so far\n\n* Enabled Google Consent mode in OneTrust admin\n* Added gtag('consent', 'default', { ad\\_storage: 'denied' }); in the application\n* Enabled Google Consent Mode in GTM\n* Updated the tag to use Google Consent Mode\n* Replace the trigger of the tag to All Pages, instead of the blocking trigger by OneTrust\n* All OneTrust cookies banner script remains the same in cHTML\n\nWhat is working\n\n* The respective tag is denied when application loaded\n* When user accepts the banner, the tag will fire\n\nWhat is not working\n\n* If user refreshes the page or after the page load, Google Consent Mode back to 'denied' but OneTrust banner state is 'Accepted'.\n* It seems like Google Consent mode will work once\n\nQuestion\n\n1. How do I tell OneTrust to update Google Consent upon a page refresh or reload?\n2. Is there anything I need to update on the custom HTML that fires the OneTrust?\n3. What are those 3rd Party Community Template for OneTrust?\n\n  \n",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/14j9e8a/help_almost_working_onetrust_and_google_consent/",
        "num_comments": 7,
        "comments": [
            {
                "body": "October 25 2023, Taneli Salonen of 8-bit Sheep published his solution for installing and configuring OneTrust consent management from inside Google Tag Manager. \n\nhttps://tanelytics.com/integrate-onetrust-with-google-tag-manager/\n\nTaneli's solution covers everything except the implentation of the actual OneTrust Javascript call. Julius has an improved version of the OneTrust Javascript implementation. But the rest of Julius' solution does not leverage Google Consent Mode - so just that piece interests me as a 'Set Up' tag for Taneli's consent initialization triggered tag.\n\nhttps://www.analyticsmania.com/post/gdpr-cookie-consent-notification-with-google-tag-manager/",
                "author": "Humble_Elderberry_25",
                "score": 2
            },
            {
                "body": "[If this post doesn't follow the rules report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "One Trust setup can be really annoying. \n\nUnder consent mode events do still get sent,  but the permission code is 100 rather than 111. As such Google ignores the event under UA, and tracks anonymously under GA4. Id it possible that's what you're seeing?\n\nSimo had a good article on consent mode for GA4.",
                "author": "rustyWhippet",
                "score": 1
            },
            {
                "body": "If I only have GCM enabled in the tags within the google tag manager, and don’t have Onetrust GCM toggle on, will GCM signals still be respected?",
                "author": "Effective-Meat2546",
                "score": 1
            },
            {
                "body": "Hi, I'm not referring to GA4 but just a general tag with Floodlight. My problem when user reloads the page, Google reinitialized the consent which means previously granted tags are denied again. How do we get Google Consent to retrieve from cookies what already been granted?",
                "author": "google_12345",
                "score": 1
            },
            {
                "body": "You should be seeing the \"default\" push for consent mode followed by an \"update\" push after consent status is known, i.e. just around the time \"OneTrustGroupsUpdated\" event fires.\n\nIf you message me the URL (or share here if you're allowed / OK to) I'm happy to have a look.",
                "author": "StefanAtWork",
                "score": 1
            },
            {
                "body": "Yes, I can see the \"OneTrustGroupsUpdated\" event whenever an action done on the OneTrust Banner. When I set the trigger to this event, the tag will fire correctly. Is this how it suppose to work where we need to bind the tags to fire base on this event?\n\nI was expecting the Google Consent mode to have minimal changes to the tags, where my trigger will remain the same (eg All Pages).",
                "author": "google_12345",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1697742618.0,
        "title": "GTM Server Side Container API",
        "author": "Puzzleheaded_Lie1670",
        "id": "17bqxp1",
        "selftext": "I am wondering if [https://developers.google.com/tag-platform/tag-manager/api/v2](https://developers.google.com/tag-platform/tag-manager/api/v2) would work with a GTM Server Side Container hosted on AWS orAzure?  If not, what are possible solutions for that?\n\nThanks in advanced!",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/17bqxp1/gtm_server_side_container_api/",
        "num_comments": 3,
        "comments": [
            {
                "body": "If this post doesn't follow the rules [report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Are you a marketing professional and have 15 minutes to share your insights? [Take our 2023 State of Marketing Survey](https://lookingformarketing.com/survey/state-of-marketing?utm_source=r_googletagmanager&utm_medium=social).\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Should work if you ask me.",
                "author": null,
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1691504083.0,
        "title": "Track user ID on external website",
        "author": "Skymbo_",
        "id": "15ljfia",
        "selftext": "Hi, I start from zero skills on Google Tag Manager and basic skills on Google Analytics.\n\nI would need that from a website of mine (on which I have Analytics but I don't know how well configured it is), I track the user who comes in by assigning him an ID and when he goes to an external booking platform (which allows me to insert codes in the header and footer) I see that it is always the same user ID and I see the activities he does on that platform, until the booking is finished.",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/15ljfia/track_user_id_on_external_website/",
        "num_comments": 4,
        "comments": [
            {
                "body": "[If this post doesn't follow the rules report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "You could pass the id as a query param in the outgoing links to the booking platform. On the booking platform, you'd grab the id from the url and store it in a cookie. You can now use the id in any tag.\n\nIt can all be done in GTM, but it will require some coding. How are your JavaScript skills?",
                "author": "pixeltan",
                "score": 1
            },
            {
                "body": "I’m 0 in Js, is there something ready to use?",
                "author": "Skymbo_",
                "score": 1
            },
            {
                "body": "If you're able to add your own GA4 property to the external domain, you could use the built in cross-domain tracking features from GA4 ([link](https://support.google.com/analytics/answer/10071811?hl=en)).",
                "author": "pixeltan",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1696000869.0,
        "title": "GTM Custom HTML not working on non-Chrome browsers?",
        "author": "Unholycookiez",
        "id": "16veiao",
        "selftext": "I've been messing around with Custom HTML to inject scripts into my site and I noticed that the scripts only seem to work on Chrome.\n\nTo test this theory I made a Custom HTML script that looks like this:\n\n<script>    \nconsole.log(\"hello world\");    \n</script> \n\n   \nResults:\n\nChrome: hello world    \nBrave: nothing    \nKiwi: nothing    \nFirefox: nothing   \n \nAm I missing something here? Why does it only work on Chrome? Brave is even a Chromium-based browser so that's quite shocking.",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/16veiao/gtm_custom_html_not_working_on_nonchrome_browsers/",
        "num_comments": 2,
        "comments": [
            {
                "body": "Is GTM even being loaded in those other browsers? I know Brave by default tends to block tracking tech.\n\nI've just installed Firefox and it works fine for me. I realise this doesn't help you much, but it does mean it's something specific to either your Firefox and other browser settings or something specific to your GTM implementation.\n\nUnlikely, but have you been experimenting with GTM block/allow list? [https://developers.google.com/tag-platform/tag-manager/restrict](https://developers.google.com/tag-platform/tag-manager/restrict)\n\nOr have you got a CSP (content security policy) on site that might block things?",
                "author": "DigitalStefan",
                "score": 2
            },
            {
                "body": "[If this post doesn't follow the rules report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1690217906.0,
        "title": "Consent initialization may not be working ?",
        "author": "Connect-Bedroom-4565",
        "id": "158g9ys",
        "selftext": "Is anyone having issues with consent initialization - all pages being unavailable ?\n\nThe consent initialization firing trigger appears blocked/ not triggering either. \n  \nI've also noticed cookies started to drop before consent was given. This wasn't the behavior a few day back, therefore I believe they are related.\n\nIve found this online https://support.cookiehub.com/article/167-issues-with-default-consent-state-in-google-tag-manager-may-2022 and no other sources saying the same. But it seems to be a known issues. Im trying to apply the recommended javascript on that article, but was wondering if any one has other alteratives or suggestions ?",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/158g9ys/consent_initialization_may_not_be_working/",
        "num_comments": 4,
        "comments": [
            {
                "body": "I'm not seeing any issues. I've just created a new container, added the CookieBot tag template and was able to create a tag with Consent Initialization trigger.\n\nIf you're trying to use a Consent Initialization trigger for a Custom HTML tag to insert the Consent Mode default command, that's not going to work. Just due to the nature of how browsers work, GTM can't push Custom HTML into the DOM as early as a Consent Initialization trigger might lead you to believe.\n\nWhat are you actually trying to implement? If you just need to set up Consent Mode, there is a tag template in the community gallery by Simo Ahava that does a great job of it.",
                "author": "DigitalStefan",
                "score": 2
            },
            {
                "body": "[If this post doesn't follow the rules report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Now that I implemented GA4, this started to happen, it wasnt like that with UA.",
                "author": "Connect-Bedroom-4565",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1695923626.0,
        "title": "GTM issue : Could not connect to Tag Assistant",
        "author": "Low-Series9767",
        "id": "16umozy",
        "selftext": "Hello good afternoon!\r  \n\r  \nI'm experiencing tracking issues when trying to view events from a page integrated into the site via Google Tag Manager.\r  \n\r  \nEvents belonging to the website work normally, however, the following message appears when trying to view events from the integrated page: \"Tag Assistant Not Connected error Could not connect to Tag Assistant\".\r  \n\r  \nHowever, when you refresh the page, tagging returns to working normally. Therefore, it is suspected that there may be some type of bug on the platform.\r  \n\r  \nThe problem only occurs on the Google Tag Manager platform. Google Analytics and Google Ads are normally tracking all pages.\n\nThe GTM tag is installed correctly on these sites.",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/16umozy/gtm_issue_could_not_connect_to_tag_assistant/",
        "num_comments": 1,
        "comments": [
            {
                "body": "[If this post doesn't follow the rules report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/). Have more questions? [Join our community Discord!](https://discord.gg/looking-for-marketing-discussion-811236647760298024)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1686158869.0,
        "title": "Tag Assistant says Event Consent State is \"granted\" even thought default is set to \"denied\"",
        "author": "MuffinHatLP",
        "id": "143jdeo",
        "selftext": "I have consent setup on my website.\n\nWhen the website first loads I send a consent default event with all consent states set to denied.\n\nAfter, I ask the user for consent and communicate that to the tag manager with the consent update event.\n\nLooking at the Tag Assistant before the user responds I can see that the first consent default event was picked up and set: [https://imgur.com/XD8LeS0](https://imgur.com/XD8LeS0)\n\nThe problem is all the following events have that same Event Consent State then set to granted even thought I never sent an consent update event: [https://imgur.com/9UjAczw](https://imgur.com/9UjAczw), [https://imgur.com/W50mBwe](https://imgur.com/W50mBwe), [https://imgur.com/kCC5pFv](https://imgur.com/kCC5pFv)\n\nWhat is going on here? Shouldn't all the following Event Consent States be set to denied?\n\nI tried sending an update event right after the default request and in that case the denied consent seems to persist through the next triggers.",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/143jdeo/tag_assistant_says_event_consent_state_is_granted/",
        "num_comments": 4,
        "comments": [
            {
                "body": "As it's obvious which website this is, I went and had a look.\n\nLooks like you've fixed this issue now - or at least I don't observe any problems. Prior to selecting consent, the data layer clearly has only a single consent default command, correctly set to \"denied\" for all.\n\nWhen I revisit, there's a correct sequence of consent default = denied, followed by consent update = granted (I'd accepted cookies on first visit).",
                "author": "DigitalStefan",
                "score": 2
            },
            {
                "body": "Yes, but do you see the screenshots I posted? Do you think what Tag Assistant is reporting is normal? Why is the event state \"granted\" if the default is \"denied\" and no update event was sent?",
                "author": "MuffinHatLP",
                "score": 2
            },
            {
                "body": "I did and I agree that looks absolutely wrong. Tag Assistant is a wonderful debug tool, but it's at the bottom of a \"chain of trust\" for me.\n\nFrom worst to best it goes Tag Assistant ---> AdSwerve Datalayer Inspector+ (Chrome extension) ---> Network tab in Chrome dev tools.\n\nFor data layer debugging, there's also the Dataslayer extension, which my colleagues love but I've never liked. Just invoking \"datalayer\" in the dev console is my go-to.\n\nIn your situation, my thought process is \"have we got a second GTM container on the page, causing issues?\" ... \"have we got anything else hardcoded, or is there some (un)helpful plugin from our CMS interfering with events?\" and then when I know exactly what scripts and tags are / aren't running, only then do I start down a path of debugging what I've implemented.",
                "author": "DigitalStefan",
                "score": 2
            },
            {
                "body": "[If this post doesn't follow the rules report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/).\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1685074127.0,
        "title": "GTM Custom Listner Issues",
        "author": "silkieyt",
        "id": "13s2qot",
        "selftext": "I'm officially the worlds worst coder, so I'd really appreciate it if someone could give me a hand with this listener.\n\nEssentially, the site I'm using say, quote:  \n\n\n*\"When an order is placed, a Javascript event called WebPlatform.Events.ORDER\\_COMPLETED - you can listen for it, for example with:window.addEventListener(WebPlatform.Events.ORDER\\_COMPLETED, function (event) {*  \n*var order = event.detail.order;*  \n*...*  \n*});And populate your dataLayer.However, the order details are already reported to Goolge Tag Manager as part of the ecommerce event, i.e. this is essentially reported to GTM already (if you have GTM installed):dataLayer.push({*  \n*'event': 'ecommerce',*  \n*'ecommerce': {*  \n*'purchase': {*  \n*'actionField': {*  \n*'id': (unique order id)*  \n*'revenue': (order total)*  \n*},*  \n*'products': (product details)*  \n*}*  \n*}*  \n*});*  \n\n\n*Hope this helps.\"*  \n\n\nThe problem i've encountered is, based on my testing, the purchase and ecommerce \n\nevents don't show up in my GTM previewer, so I'm trying to create the listener with a custom HTML tag... But I don't really know what code to actually put in that custom HTML tag to get it to show me what purchases I've made, when a purchase is made, etc. etc.  \n\n\nThanks for any help!",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/13s2qot/gtm_custom_listner_issues/",
        "num_comments": 2,
        "comments": [
            {
                "body": "[If this post doesn't follow the rules report it to the mods](https://www.reddit.com/r/GoogleTagManager/about/rules/).\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/GoogleTagManager) if you have any questions or concerns.*",
                "author": "AutoModerator",
                "score": 1
            },
            {
                "body": "Replace the line of three dots (...) with window.dataLayer.push(order)",
                "author": "brannefterlasning",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1673979685.0,
        "title": "Server Side Preview not showing requests/events (manual setup/docker)",
        "author": "Nightslide1",
        "id": "10eja77",
        "selftext": "Hey, I'm selfhosting my GTM via the official docker image/[setup guide](https://developers.google.com/tag-platform/tag-manager/server-side/manual-setup-guide).\n\n&#x200B;\n\nBasically my problem:\n\nIf I send a manual test request to the server container, it shows up in the preview of the server container. But if I send anything else (even if I just go to the tracking URL itself) it doesn't show up in the preview.\n\nImages of my setup(must view to understand anything): [https://imgur.com/a/gZNDSuG](https://imgur.com/a/gZNDSuG)\n\nThe normal tagging server also returns http 400 if you just go to it without a path.\n\n&#x200B;\n\nHas anyone else ever experienced a problem like that or knows any possible fixes?",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/10eja77/server_side_preview_not_showing_requestsevents/",
        "num_comments": 5,
        "comments": [
            {
                "body": "Can you tell me the place where we need to set this \\`X-Gtm-Server-Preview HTTP header\\`? I cant find settings in my Web Container or GA tags. Should I do it in my docker configuration? As I understand this header is Dynamic",
                "author": "Glad_Care_7108",
                "score": 2
            },
            {
                "body": ">If I send a manual test request to the server container, it shows up in the preview of the server container. But if I send anything else (even if I just go to the tracking URL itself) it doesn't show up in the preview.\n\nIn your client, you have to use the `X-Gtm-Server-Preview HTTP header`\n\n>The normal tagging server also returns http 400 if you just go to it without a path.\n\nI think this is correct if you don't have a client for that path",
                "author": "siuvdlec",
                "score": 1
            },
            {
                "body": "Thanks for answering! I actually just found that out like 10 mins ago, took me around 5 hours to figure that out since it's never featured in any tutorial. \n\n&#x200B;\n\nHopefully this helps some people that are stuck with this issue too.",
                "author": "Nightslide1",
                "score": 1
            },
            {
                "body": "did you find the answer?",
                "author": "Careless_Ball_1447",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1665434944.0,
        "title": "Server-side tagging with server-side GTM",
        "author": "valistyle",
        "id": "y0pnf9",
        "selftext": "Hello\n\nI've read the docs about server-side tagging with server-side GTM ([https://developers.google.com/tag-platform/tag-manager/server-side/intro](https://developers.google.com/tag-platform/tag-manager/server-side/intro)) and have one big question:\n\nDoesn't the fact that you need a \"normal\" client-side GTM container on the website to send data to the server-side GTM container makes the whole concept senseless (in regard to privacy and GDPR), since the request to [googletagmanager.com](https://googletagmanager.com) does violate the GDPR.\n\nWhy isn't it possible to completely self-host the GTM and use it without a request to Google servers?\n\nOr do I get something wrong?",
        "score": 4,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/y0pnf9/serverside_tagging_with_serverside_gtm/",
        "num_comments": 7,
        "comments": [
            {
                "body": "SST is NOT made for circumventing GDPR! If your users do not consent to data collection and you still send their data through SST you are breaking the law. Be very careful with this.\n\n\nWith that out of the way, the point of GTM SST is to make it easy to (1) set up first party tracking and (2) offload the client side from JavaScript and outgoing network requests. Sure, the GTM container is fetched from Google and your tracking call eventually end up at Googles servers but they are routed through your own first party domain. If you have set everything up properly, the user will never see an outgoing network call to Google, they will see a call to your domain.\n\n\nOnce the call ends up in your server side container you can forward all the necessary information to other vendors, i.e. Facebook for example. But you still need the users consent to do this legally.\n\n\nAs for why you should use a client side container in combination with SST, it's just to make it easier for you to set everything up. Nothing is stopping you from making a manual request to your own server but GTM just makes it so much easier with all the existing templates that exist for GA. Also, you might want to run other tags in that container that might not yet be supported in SST without creating a custom client and tag template.",
                "author": "morningcoma",
                "score": 4
            },
            {
                "body": "It's about the services that you run into GTM, not the tool itself. External scripts like the Facebook Pixel can get blocked by browsers like Safari and Firefox. If you send this data through your server side tagging server to their API (Facebook Conversions API as example), it can't get blocked.\n\nAlso, they make money on using their servers. You pay for every request from and to it. :)",
                "author": "finnrt",
                "score": 2
            },
            {
                "body": "There is no need to call the Google domain with server-side GTM. You can load the client-side GTM from the domain you use for server-side GTM. \n\nAlternatively, you can also replace the client-side GTM with actual HTTP post requests to the server-side GTM.",
                "author": "illlwill",
                "score": 2
            },
            {
                "body": "Pulling your GTM container JS from googletagmanager.com is not going to violate GDPR. You're not sending user / personal data to googletagmanager.com as part of that process. It's just a download of a file.\n\nThe data you send to server-side GTM is up to you to control, but the point is you're sending that data to an endpoint you have full control and responsibility for, whether that endpoint is on GCP, AWS, Azure or even self-hosted on your own server(s).\n\nGDPR, ePrivacy etc. apply to what you're sending to server-side and what you're also then sending *from* server-side to e.g. GA4, Facebook (via CAPI), TikTok etc.\n\nThere are some good, off-the-shelf consent management platforms you can implement and you can use those either with or without Google Consent Mode to also control tags within server-side. There's no need to (or excuse to!) violate GDPR, ePrivacy, CCPA or any of the other various privacy laws worldwide if you take care to implement correct consent management.",
                "author": "StefanAtWork",
                "score": 1
            },
            {
                "body": "Thanks, I just read this section in the docs too. It makes sense now. :)",
                "author": "valistyle",
                "score": 1
            },
            {
                "body": "Thanks for your answer. I know that it does not send any personal details when loading the JS from googletagmanager.com BUT it does send a request to a US server and this does technically send the IP of the user.\nSome companies, including mine, prefer it to not do this but send the data then directly server to server where the IP is anonymized.",
                "author": "valistyle",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1654852684.0,
        "title": "Server Side GTM & GA4 Measurement Protocol --> how do I process GCLID when calling MP GA4 ?",
        "author": "Dependent-Benefit943",
        "id": "v93pnb",
        "selftext": "Hi!   \n\n\nDoes anyone have working implementation of SGTM being triggered by external GA4 MP calls (not web) for purchases for Google Ads?  \n\n\nWe have a SGTM setup running with:  \n\\- visitor traffic through web gtm --> sgtm --> ga4 + fb + gads  \n\\- marketing id's like gclid, fbc, fbp, client\\_id are captured on the webcalls and stored in Firestore  \n\\- purchases are being called a-sync from a script calling the SGTM GA4 Measurement Protcol Client.  \n\\- each marketing tag retrieves the required marketing id's from firestore upon a tag firing for 'purchase' events.  \n\n\nThis is working as expected for GA4 and Facebook, but I am running into problems with Google Ads.  \n\\- GADS is not registering conversions on the pixel  \n\\- GA4 import into GADS is giving 0 purchase, but I do have attributed conversions in GA4\n\nIt all points to missing GCLID - but...  \n1) **How do I pass the gclid in a MP GA4 call to the SGTM container so that  the GA4 and GADS tag will pick them up natively?**   \n\n\n\\- I cannot enrich the call u\\[pon firing the GADS server tag for conversions does not have custom field to append data to the outgoing call, it seems to consult the first party fpgclaw by itself.   \n\n\n\\- I considered adding it to the original MP call to SGTM in the event as a gclid parameter like I used to do for UA:  \n[https://developers.google.com/analytics/devguides/collection/protocol/v1/parameters#gclid](https://developers.google.com/analytics/devguides/collection/protocol/v1/parameters#gclid)\n\nBut I cannot find any reference in the MP for GA4:  \n[https://developers.google.com/analytics/devguides/collection/protocol/ga4/reference?client\\_type=firebase#payload\\_query\\_parameters](https://developers.google.com/analytics/devguides/collection/protocol/ga4/reference?client_type=firebase#payload_query_parameters)  \n\n\n**2) When looking at the outgoing calls of the server side GADS tag it seems it still requires the BROWSER for a callback to the marketing platforms instead of taking a direct server to server / api route. Can I even use the GADS server tag in combination with making MP GA4 calls ?**\n\n  \nWhen reading [https://www.simoahava.com/analytics/google-ads-server-side-tagging-google-tag-manager/](https://www.simoahava.com/analytics/google-ads-server-side-tagging-google-tag-manager/) he stopped at the webcall - maybe  u/sahava has since then ran into the MP conundrum also?  \n\n\nReading that blog I am considering tagging on the gclid ON the page\\_url in the initial MP call so it looks like it is part of the url structure upon the request coming into SGTM hence bypassing the need for a cookie.",
        "score": 6,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/v93pnb/server_side_gtm_ga4_measurement_protocol_how_do_i/",
        "num_comments": 8,
        "comments": [
            {
                "body": "Add this cookie to the headers of your request to the measurement protocol in your sGTM:\n\n    function gclidCookie(\n    gclid\n    ?: string, \n    clickedAtSeconds\n    ?: number) {\n      if (!\n    gclid\n    ) return;\n      \n    // If we don't know when the Ad was clicked, assume it was now\n      if (!\n    clickedAtSeconds\n    ) \n    clickedAtSeconds\n     = Date.now() / 1000;\n      const cookie = `_gcl_aw=GCL.${\n    clickedAtSeconds\n    }.${\n    gclid\n    }`;\n      return cookie;\n    }",
                "author": "wizbcn",
                "score": 1
            },
            {
                "body": "You might have better luck in the [Measure slack](https://www.measure.chat/)",
                "author": "geek180",
                "score": 1
            },
            {
                "body": "Did you find any solution for this? Im having the same headache.",
                "author": "B9-Force",
                "score": 1
            },
            {
                "body": "I've been having the exact same problem but I didn't understand the solution mentioned in the comments, has anyone found a solution and could share it please?",
                "author": "stevreeper",
                "score": 1
            },
            {
                "body": "I did find a solution: I added the gclid as a variable on the page\\_url  \n\n\nGoogle looks in the url as a last resort when the gclid is not found in the 1st party or 3rd party gads cookie",
                "author": "Dependent-Benefit943",
                "score": 1
            },
            {
                "body": "Hi! I have same problem as you earlier. I read more articles and many times told about it with Google support but they can't help me with that.\n\nCan you pls show how MP request with gclid for GA4 look like? It's very important for me.",
                "author": "Ok-Bat-3661",
                "score": 1
            },
            {
                "body": ">page\\_url\n\nGlad you figured it out. Could you please elaborate this or provide a link for more details?",
                "author": "erosix",
                "score": 1
            },
            {
                "body": "Hey u/Dependent-Benefit943 so you are not using the Measurement Protocol obviously, as you can't set a page\\_url there? I just don't get it, why Google makes it so hard to use more server side tracking or custom tracking solutions that prevent any kind of adblockers.",
                "author": "jannik-zed",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1673632474.0,
        "title": "GTM on iOS and Android – puzzlings of a non-technical idiot",
        "author": "welshdelta",
        "id": "10b0t7s",
        "selftext": "As a designer and a non developer, I've been able to handle implementing Google Tag Manager for the web no problem. But for mobile (iOS and android) – it feels like a different trifle. \n\nI've passed the documentation to a dev colleague on my team ([https://developers.google.com/tag-platform/tag-manager/ios/v5](https://developers.google.com/tag-platform/tag-manager/ios/v5)), but my question is, as a non-technical person, will I still get control over tags and triggers like I could with the web? Is there even a data layer to work with now?",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/10b0t7s/gtm_on_ios_and_android_puzzlings_of_a/",
        "num_comments": 2,
        "comments": [
            {
                "body": "I recently went through this exploration myself, and the conclusion was that GTM for apps was half baked and not worth the trouble. To answer your question, no you don't get the same control. Unfortunate, for sure.",
                "author": "chrispgriffin",
                "score": 2
            },
            {
                "body": "You've just saved me a lot of time, thank you – much appreciated.",
                "author": "welshdelta",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1654605931.0,
        "title": "Server side tagging costs and benchmarks",
        "author": "Sphagnum_affine",
        "id": "v6uk7w",
        "selftext": "Hello,  \nWe want to use self hosted server side tagging. But I can not find any information about it perfomance. My task is to calculate cost. But there is no information how much RPS it can \"take\".\n\n&#x200B;\n\nCan anybody provide direction or link to the docs?",
        "score": 0,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/v6uk7w/server_side_tagging_costs_and_benchmarks/",
        "num_comments": 7,
        "comments": [
            {
                "body": "A basic server-side setup will set you back about 120-140 USD per month. You need at least 4 servers in your project, each costing 30 USD per month.\n\nThen it depends how much data and how many resources you digest per month  The more you use, the more expensive it becomes.",
                "author": "Podbyrin92mm",
                "score": 2
            },
            {
                "body": "https://developers.google.com/tag-platform/tag-manager/server-side/script-user-guide",
                "author": "Podbyrin92mm",
                "score": 2
            },
            {
                "body": "upd, there is some information:  \n[https://www.trakken.de/insights/gtm-server-what-does-it-cost/](https://www.trakken.de/insights/gtm-server-what-does-it-cost/)",
                "author": "Sphagnum_affine",
                "score": 1
            },
            {
                "body": "hi there, me and my friend are looking to learn about tracking. we figured out if we find someone with a mission and we do the work, we will understand it faster. \n\nCan you give your contact so we can do work for you? its free of course, we want to learn. we know python quite well if thats helping.",
                "author": "kim_en",
                "score": 1
            },
            {
                "body": "How many RPS can this setup handle? We are looking for around 2600-10400 in avg (depends on sampling), but peaks will be higher.",
                "author": "Sphagnum_affine",
                "score": 1
            },
            {
                "body": "Cool thanks:\n\n\\>In production configuration, each server costs approximately $40 / month (USD). Each server is an App Engine instance with 1 vCPU, 0.5 GB memory, 10 GB disk in the Flexible environment. We recommend running a minimum of 3 servers to reduce the risk of data loss in case of a server outage. However, you may choose to run fewer (or more) servers. We expect that autoscaling 3-6 servers (the default) will handle 50-200 requests per second, though the performance will vary with the number of tags, and what those tags do.  \n\n\nI have checked that doc but somehow missed.",
                "author": "Sphagnum_affine",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1656638175.0,
        "title": "Showing cookie consent window based on geolocation",
        "author": "ChopperDave85",
        "id": "voo8d3",
        "selftext": "I have Google's GTM cookie consent manager implemented on our website, a company with locations in the US and Europe. As you would expect, since adding consent controls I've seen a large dip in traffic and other metrics in both Universal Analytics and GA4.\n\nDoesn't make for great conversations with my bosses when they ask about website metrics and effectiveness of campaigns with UTM tags.\n\nSo what I'm wondering is can I set up something to read a user's geolocation, then have the consent window not appear if they are in a country that doesn't require it, and appear if they're in a country under GDPR. Of course if the user is under GDPR, I'd still like to have their info blocked or removed if they don't accept.\n\nIs this something that can be done?\n\nJust some background info: I'm not a developer, coding isn't my strong suit. Most of our GTM setup was done by our web developers, but I'm trying to save some cash since we're a bit over budget for the year. Should I even try to do it myself if possible?",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/voo8d3/showing_cookie_consent_window_based_on_geolocation/",
        "num_comments": 5,
        "comments": [
            {
                "body": "Short answer is yes.\n\nThe longer answer is completely dependent on your technical architecture and infrastructure (as it exists today, and your willingness to change it)",
                "author": "bradatlarge",
                "score": 1
            },
            {
                "body": "At a city level IP geolocation isn't 100% accurate (my analysis suggests about 85% for our particular situation). \n\nI don't know if that translates to country level, but I'm willing to bet that while it's probably not as bad, it's not 100% either.\n\nBecause we're crossing into legal territory I would be asking whether even 99% accuracy is sufficient for this.\n\nI come from a country where GDPR isn't a requirement, but I see these pop-ups all the time. I assume these companies have simply gone down the path of \"ask everyone\", and I wonder if that's because they can't risk missing a few people from GDPR countries.",
                "author": "spiteful-vengeance",
                "score": 1
            },
            {
                "body": "Thanks, what kind of arch and info changes might it take? I do have hreflangs in the mix to point to their local page already if that gives some insight.\n\nI'm open to changing things up.",
                "author": "ChopperDave85",
                "score": 1
            },
            {
                "body": "I see. I'm sure VPNs add a bit of a headache to the mix as well. About 80% of the traffic is from the US where I'm located, so we're missing out on a large number of the vanity metrics that give the CEO a warm & fuzzy feeling. CCPA will become a factor, but if I can do country-based, state level shouldn't be that difficult for me to figure out.",
                "author": "ChopperDave85",
                "score": 1
            },
            {
                "body": "You could go at this a variety of ways. Using a cookie consent solution that supports geo location via a CDN might be your least cost of implementation.",
                "author": "bradatlarge",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1645716538.0,
        "title": "How to know which campaigns lead to more conversion?",
        "author": "yukiiiiii2008",
        "id": "t0dp0v",
        "selftext": "Let's say I use lots of ads platform, google, facebook, twitter, etc. What is the general way to know which leads to a specific purchase event?\n\nEdit: I found an article about this topic:\n\n[https://support.google.com/analytics/answer/11242841?hl=en#zippy=%2Cin-this-article](https://support.google.com/analytics/answer/11242841?hl=en#zippy=%2Cin-this-article)\n\nBut I don't know how to set these parameters in Google Tag Manager. Which tag should I use? Thank you all.",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/t0dp0v/how_to_know_which_campaigns_lead_to_more/",
        "num_comments": 6,
        "comments": [
            {
                "body": "Maybe google it and then ask questions?",
                "author": "CroRad1987",
                "score": 2
            },
            {
                "body": "Tag incoming links from campaigns with UTM parameters (of which there are 3 common ones: utm\\_campaign, utm\\_source and utm\\_medium). You just append them to the end of incoming URLs.\n\neg: [www.yoursite.com/page1?utm\\_camapaign=summer2022&utm\\_medium=social&utm\\_source=facebook.com](http://www.yoursite.com/page1?utm_camapaign=summer2022&utm_medium=social&utm_source=facebook.com)\n\nGoogle Analytics will pick these up when the user visits, and assign all behaviour in that session to that campaign, including goals and transactions. You can see the data in Google Analytics under Acquisition > Campaigns > All Campaigns.\n\nIt's really more of an /r/googleanalytics question, not a Tag Manager one.",
                "author": "spiteful-vengeance",
                "score": 2
            },
            {
                "body": "Use utms.\nSetup goals in google analytics.",
                "author": "CroRad1987",
                "score": 1
            },
            {
                "body": "Could you add more details? or give me some links so I can deep further.",
                "author": "yukiiiiii2008",
                "score": 1
            },
            {
                "body": "Thank you so much. Got it.",
                "author": "yukiiiiii2008",
                "score": 1
            },
            {
                "body": "No problem. :)",
                "author": "spiteful-vengeance",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1644494348.0,
        "title": "GTM and GA - what are the advantages",
        "author": "prtr0",
        "id": "sp4z6j",
        "selftext": "Diff between linking my website to google analytics directly by adding code into backend vs going via gtm ... \n\nEg- when I directly link website to GA... It gets demographic data, real-time data etc ... If i link via GTM(and send pageview data), it will only recieve what I send .. it won't recieve any demographic info etc .. correct??",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/sp4z6j/gtm_and_ga_what_are_the_advantages/",
        "num_comments": 6,
        "comments": [
            {
                "body": "Pageview event in GTM is pretty much equal to a basic GA implementation. You will get the same user information in both cases, amount of demographic information depends on your settings in GA.\n\nGTM offers much more flexibility, other events are easier to add and you can install third party scripts.",
                "author": "Reallyiamnotafish",
                "score": 6
            },
            {
                "body": "Tracking pageview and events by GTM can also help you get demographics and in-market audience data to your GA. GTM actually offers you more flexibility in event tracking and you can also install third party scripts using GTM.   \nIf you are not so familiar with GTM interface and find it bit technical then you can use Tagmate (www.tagmate.app). Tagmate actually automates all GTM configurations for you and it also have some predefined event templates which can be implemented in least possible time avoiding analytics implementation cycles with the product development team.",
                "author": "Tatvic_analytics",
                "score": 2
            },
            {
                "body": "If You don't get demographic data in ga added through gtm it means that You forgot to set \"enable display advertising settings\" in GA variable settings.\n\nGtm will always provide newest tracking code version (like those when You had to migrate from analytics.js to ga.js or gtag.js or change tag domain to g.doubleclick.net) and will make sure that analytics tags will fire in order you want them (like trigger with conversion event can be instructed to fire event tag after base tag was fired)",
                "author": "patrykc",
                "score": 2
            },
            {
                "body": "Thanks, that helps",
                "author": "prtr0",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1616591420.0,
        "title": "Call an API Using GTM",
        "author": "lycurbeat",
        "id": "mc5azo",
        "selftext": "Hey guys. Does anyone know if you can call an API using tag manager.\n\nBasically I'm trying to get some customer data from our CRM platform's API into GTM",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/mc5azo/call_an_api_using_gtm/",
        "num_comments": 11,
        "comments": [
            {
                "body": "You can try messing around with an HTML tag that holds the javaScript function that retrieves data from the API and push it into the dataLayer. Then you can trigger this HTML tag whenever required (or for example on every container load).\n\nPeople have used API calls in GTM before, typical use cases are for weather and/or location APIs, you could google for these implementations to get some more inspiration.",
                "author": "stepp_ok",
                "score": 3
            },
            {
                "body": "There is a new server side tagging GTM feature rolling out soon. I think it's in Beta now. It's purpose is to be able to do what you are asking. In short, no you can't call an API with GTM currently, Javascript is not the language used to do that.",
                "author": "Frosti11icus",
                "score": 2
            },
            {
                "body": "What tools would be better?\n\n&#x200B;\n\nSo the scenario is - I want to capture on the order confirmation page info on  whether the customer is a new or existing one, based on data from my CRM platform. This data needs to be surfaced some way in GTM / the dataLayer so that it can be picked up / sent to the affiliate platform I use via their tracking tag that will be in GTM as well.",
                "author": "lycurbeat",
                "score": 2
            },
            {
                "body": "Others have mentioned this but you shouldn’t be passing email between and to GTM. \n\nThat said, what you’re describing is essentially a lookup table where if email matches in your CRM then output = existing, else = new\n\nThe better way of doing this is to let your CRM dedupe existing purchasers and only send new purchase events to the affiliate via GTM",
                "author": "FelizBoy",
                "score": 2
            },
            {
                "body": "You can technically make an API call from cutom HTML tag. Problem is, that will also expose the access token etc. because cHTML injects the script in the document which can been seen by anyone.   \nSlight better way would be to use the cutom JS variable.  You'll have to do it using XHR because custom JS variable execute synchronously.",
                "author": "VirajPrateeek",
                "score": 1
            },
            {
                "body": "What do you mean by ‘into GTM’ - data isn’t stored there, are you wanting to send additional data when a particular trigger/event fires?\n\nWhat crm are you using and where are you wanting to use the data in the end?",
                "author": "morespacepls",
                "score": 1
            },
            {
                "body": "Fyi Identifiable personal info being pushed with events goes against Google analytics policies. I'll follow because it seems an interesting question",
                "author": "Guilopes99",
                "score": 1
            },
            {
                "body": "Brilliant thank you!",
                "author": "lycurbeat",
                "score": 1
            },
            {
                "body": "Hey. I mean into GTM as a javascript variable. So basically call an API via javascript and have the data it gets displayed available in GTM to then send to another data provider. I can't give the names of the CRM or where he data is going, but i just wanted to know if it was possible to do all this via javascript with GTM. Hope that makes sense",
                "author": "lycurbeat",
                "score": 1
            },
            {
                "body": "It can be done but there are better tools/options out there. \n\nWhere do you want the data to end up? As alluded to above, you can’t leave it in GTM, so I assume you’re wanting to put it somewhere",
                "author": "FelizBoy",
                "score": 1
            },
            {
                "body": "You can store>some< bytes in GTM. You could even use the GTM API to pull it in. But it's a drag, with the updating of containers and all, plus said containers can hold very little data.",
                "author": "robin_79",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1615932169.0,
        "title": "Using datalayer and custom dimensions for analytics with Google Tag Manager and Google Analytics",
        "author": "brandbooth",
        "id": "m6ko5c",
        "selftext": "  \n\nSo I was following this tutorial on mixed analytics for datalayer and custom dimensions, and ended up doing this:\n\n       dataLayer.push({       \n           event: 'btnclick',       \n           actionType: 'play video',       \n           vid: this.video.id     \n       });\n\n&#x200B;\n\n1. I created two custom dimensions inside Google Analytics, **action type and vid**.  \n \n2. I set up two Google Tag Manager variables of type Data Layer Variable inside of Google Tag Manager, **actionType and vid**.  \n \n3. I added a GA tag with the following:  \n **Track Type: Event (wrong?)**  \n Action: {{Event}}  \n **Google Analytics settings: {{Tracking ID - GA - Settings}} (wrong?)**  \n Custom Dimensions: 1 {{Properties - Actiontype}} 2 {{Properties - VID}}  \n Triggering: Button Click (Custom Event)  \n \n4. Added a trigger in Google Tag Manager with:  \n Trigger Type: Custom Event  \n Event Name: btnclick  \n \n\nI am not sure if the Track Type inside GA tag is correct, and I am not sure if the Google Analytics settings is correct. In the tutorial, the guy uses Page View, so I am unsure if I chose the correct settings and whether it would work. I am pushing into the dataLayer after the jQuery event listener for click is triggered.\n\nWould this allow me to get the view count for all videos (We have about 1,000 videos)?\n\nAlso, upon setting custom dimension, we are given these instructions:\n\n    Example Codes for This Dimension Copy the following code snippet for your platform. DO NOT FORGET to replace dimensionValue with your own.  JavaScript (gtag.js) For instructions on how to setup custom dimensions using gtag.js, please refer to the gtag.js developer documentation.  JavaScript (Only works for Universal Analytics properties) var dimensionValue = 'SOME_DIMENSION_VALUE'; ga('set', 'dimension1', dimensionValue); Android SDK String dimensionValue = \"SOME_DIMENSION_VALUE\"; tracker.set(Fields.customDimension(1), dimensionValue); iOS SDK NSString *dimensionValue = @\"SOME_DIMENSION_VALUE\"; [tracker set:[GAIFields customDimensionForIndex:1] value:dimensionValue]; \n\nIs this necessary, because in the tutorial the author doesn't mention anything about this.\n\n&#x200B;\n\nAlso, I am not sure if using custom dimensions is necessary here. I just need to get the number of clicks on the play button, which is the same button for all videos, for each video labelled by their id. Do you have a step-by-step guide showing you how to do this?",
        "score": 2,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/m6ko5c/using_datalayer_and_custom_dimensions_for/",
        "num_comments": 5,
        "comments": [
            {
                "body": "This is over my head a bit. But join the Measure Slack channel. They’ll have your answers for you",
                "author": "FelizBoy",
                "score": 1
            },
            {
                "body": "are you setting this up for GA4 or universal analytics?\n\nif UA - why don't you just set the video action as the Event Action and the ID as the Event Label. you wouldn't need custom dimensions\n\nif GA4 - I think you'd use those variables as parameters, not custom dimensions via GA settings. I don't think the GA settings variable is relevant to GA4 so I'm leaning towards you're using UA",
                "author": "pantone520",
                "score": 1
            },
            {
                "body": "Do you have the link?",
                "author": "brandbooth",
                "score": 1
            },
            {
                "body": "I am using UA, I think, but I am not sure. How do you check? Also, what do I need to change in order to use Event Action and the ID as the Event Label?",
                "author": "brandbooth",
                "score": 1
            },
            {
                "body": "does your GA property ID start with UA? if yes, yes, but if it's just a number, it's GA4.\n\nthe tags you use in GTM depend on which version you are using, so you kind of need to know this.\n\nif you are using UA, you use a regular Google Analytics event tag in GTM and there are 3 fields to set: the Category, Action, and Label. use the variables as the Action and Label fields. name the category something broader like \"Videos\".\n\nbtw, GTM has built-in listeners for things like clicks and link clicks you should research. if the click is all that determines a \"play\" you don't really need to set it in the datalayer. and if the video ID is part of the html you could likely use a DOM variable to grab the name of the video being clicked/played, you also have access to things based on their selectors. basically, using a datalayer for this is likely unnecessary and i'd encourage you to look more into the built in variables and triggers. but for expediency with your level of comfort in GTM/GA it seems like datalayer might be simplest for now - it just seems like unnecessary extra code changes.\n\nETA: if your video is YouTube or Vimeo there are also good articles out there for getting all of the video info (plays, completions, % watched, etc.) easily into GTM variables/triggers (GTM has built in triggers for YouTube videos specifically) because they are already capable of interacting with the datalayer",
                "author": "pantone520",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1599122980.0,
        "title": "Google Tag Manager for AdWords conversions",
        "author": "John-Romanasu",
        "id": "ilptg2",
        "selftext": "Hello GTag Managers,\n\nI am coming with a question regarding the installation of a tag that tracks conversions.\n\nI want to track how many people click on the Sign-Up (to create an account) button on my page.\n\nUsually, when a user clicks on the Sign-Up button he is being redirected to another page, the platform (which is a subdomain for the website). In Tag Manager, we have two containers for the website and then for the platform (the subdomain)\n\nHow should I go with setting up the tag?\n\n&#x200B;\n\nThank you very much for your time!",
        "score": 3,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/ilptg2/google_tag_manager_for_adwords_conversions/",
        "num_comments": 3,
        "comments": [
            {
                "body": "Interesting question! We use something similar with the url of the product being app.xxxx. We don't really track once they click through to the page. Do you have a tag for the sign up on the subdomain?",
                "author": "the-vague-blur",
                "score": 2
            },
            {
                "body": "I do not have a tag on the subdomain, because I think that the AdWords account is connected to the main website. This made me believe that there has to be a different way of   \nOur website is like [abcd.com](https://abcd.com) and the subdomain is [market.abcd.com](https://market.abcd.com). So from [acbd.com](https://acbd.com) they should click on Sign-Up and will be redirected to [market.abcd.com](https://market.abcd.com) where they fill in their info.",
                "author": "John-Romanasu",
                "score": 1
            },
            {
                "body": "Did you install the tag for sign-up on app.xxxx. ?",
                "author": "John-Romanasu",
                "score": 1
            }
        ]
    },
    {
        "subreddit": "GoogleTagManager",
        "created": 1583428454.0,
        "title": "GDPR and cookie expiration settings",
        "author": "AronoeleS",
        "id": "fdygkr",
        "selftext": "Hi,\nI was reading this article https://www.formations-analytics.com/google-tag-manager-google-analytics-et-rgpd/ \n\nand it said:\n\n\"The duration of 13 months is the maximum legal duration of storage a cookie and this from its creation. However, the expiration of GA cookie is 24 months since the last visit\".\n\nand I have some doubts about cookie expiration and GDPR directives. \n\nGoogle renews cookie users expiration date each time the user visit the website, is it right? But the cookie consent banner should be reappear to the user after 13 months from the first visit, this means that it's necessary rewrite default GA cookie behaviour, or not?\n\nThank you,\nEleonora",
        "score": 1,
        "url": "https://www.reddit.com/r/GoogleTagManager/comments/fdygkr/gdpr_and_cookie_expiration_settings/",
        "num_comments": 3,
        "comments": [
            {
                "body": "Hi\n\nIf this is your concern, set the `cookieExpires` field to `33696000` (that's 13 months, or 13x30 days in seconds). Then set the `cookieUpdate` field to `false`, as that prevents GA from constantly updating the cookie value.\n\nBoth of these fields need to be set in *every single Google Analytics hit and tag that fires on the site* for the solution to work.\n\nSimo",
                "author": "sahava",
                "score": 1
            },
            {
                "body": "Great! Thank you Simo! :)",
                "author": "AronoeleS",
                "score": 1
            },
            {
                "body": "Another doubt :(\nIf I set cookieExpires and cookieUpdate field in every GTM tags, can these settings create conflict with \"data retention\" and \"reset on new activity\" GA settings?\n\nThank you 🙏\nEleonora",
                "author": "AronoeleS",
                "score": 1
            }
        ]
    }
]